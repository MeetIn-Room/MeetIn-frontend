import{a as Ke}from"./chunk-ZG2ZD3GV.js";import{a as Je}from"./chunk-DVENZWAX.js";import{b as Rt,c as fe,d as mt,e as It,g as Gn,h as Bt,k as Nt,l as Vt,m as qn,n as Yn,o as Qn,r as Xn,s as pt,t as Ft,u as ut}from"./chunk-WTQPHL4G.js";import{a as Jn}from"./chunk-UIA7XDHT.js";import{$ as X,A as Ne,B as st,C as Sn,Ca as Vn,D as p,Ea as ve,F as Mn,Fa as Te,G as En,H as re,Ia as dt,Ja as ge,Ka as Fn,L as A,Ma as Hn,Na as Ln,O as k,Oa as An,P as On,Pa as zn,Q as Ve,Qa as jn,Ra as Un,S as Fe,Sa as Se,T as Pn,Ta as Zn,U as Dn,Ua as Wn,V as Rn,Va as $n,W as r,X as a,Y as w,Z as He,_ as Le,a as nt,aa as b,b as rt,ba as v,ca as Ue,d as wt,da as Ze,ea as We,f as yn,fa as In,ga as Bn,ha as St,i as wn,ia as l,j as Tn,ja as Y,ka as G,la as xe,m as Tt,na as Mt,oa as Et,pa as Ot,q as Q,r as at,s as C,sa as Pt,t as y,ta as lt,u as Ce,ua as ct,v as we,va as Dt,wa as Nn,y as ue}from"./chunk-AGESHSDR.js";var Ae=globalThis;function Me(o){return(Ae.__Zone_symbol_prefix||"__zone_symbol__")+o}function wo(){let o=Ae.performance;function t(j){o&&o.mark&&o.mark(j)}function e(j,S){o&&o.measure&&o.measure(j,S)}t("Zone");let n=(()=>{class j{static __symbol__=Me;static assertZonePatched(){if(Ae.Promise!==z.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let c=j.current;for(;c.parent;)c=c.parent;return c}static get current(){return B.zone}static get currentTask(){return L}static __load_patch(c,d,P=!1){if(z.hasOwnProperty(c)){let N=Ae[Me("forceDuplicateZoneCheck")]===!0;if(!P&&N)throw Error("Already loaded patch: "+c)}else if(!Ae["__Zone_disable_"+c]){let N="Zone:"+c;t(N),z[c]=d(Ae,j,F),e(N,N)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(c,d){this._parent=c,this._name=d?d.name||"unnamed":"<root>",this._properties=d&&d.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,d)}get(c){let d=this.getZoneWith(c);if(d)return d._properties[c]}getZoneWith(c){let d=this;for(;d;){if(d._properties.hasOwnProperty(c))return d;d=d._parent}return null}fork(c){if(!c)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,c)}wrap(c,d){if(typeof c!="function")throw new Error("Expecting function got: "+c);let P=this._zoneDelegate.intercept(this,c,d),N=this;return function(){return N.runGuarded(P,this,arguments,d)}}run(c,d,P,N){B={parent:B,zone:this};try{return this._zoneDelegate.invoke(this,c,d,P,N)}finally{B=B.parent}}runGuarded(c,d=null,P,N){B={parent:B,zone:this};try{try{return this._zoneDelegate.invoke(this,c,d,P,N)}catch(de){if(this._zoneDelegate.handleError(this,de))throw de}}finally{B=B.parent}}runTask(c,d,P){if(c.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(c.zone||be).name+"; Execution: "+this.name+")");let N=c,{type:de,data:{isPeriodic:q=!1,isRefreshable:Qe=!1}={}}=c;if(c.state===me&&(de===le||de===E))return;let ze=c.state!=J;ze&&N._transitionTo(J,x);let je=L;L=N,B={parent:B,zone:this};try{de==E&&c.data&&!q&&!Qe&&(c.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,N,d,P)}catch(Pe){if(this._zoneDelegate.handleError(this,Pe))throw Pe}}finally{let Pe=c.state;if(Pe!==me&&Pe!==pe)if(de==le||q||Qe&&Pe===D)ze&&N._transitionTo(x,J,D);else{let h=N._zoneDelegates;this._updateTaskCount(N,-1),ze&&N._transitionTo(me,J,me),Qe&&(N._zoneDelegates=h)}B=B.parent,L=je}}scheduleTask(c){if(c.zone&&c.zone!==this){let P=this;for(;P;){if(P===c.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${c.zone.name}`);P=P.parent}}c._transitionTo(D,me);let d=[];c._zoneDelegates=d,c._zone=this;try{c=this._zoneDelegate.scheduleTask(this,c)}catch(P){throw c._transitionTo(pe,D,me),this._zoneDelegate.handleError(this,P),P}return c._zoneDelegates===d&&this._updateTaskCount(c,1),c.state==D&&c._transitionTo(x,D),c}scheduleMicroTask(c,d,P,N){return this.scheduleTask(new _(ne,c,d,P,N,void 0))}scheduleMacroTask(c,d,P,N,de){return this.scheduleTask(new _(E,c,d,P,N,de))}scheduleEventTask(c,d,P,N,de){return this.scheduleTask(new _(le,c,d,P,N,de))}cancelTask(c){if(c.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(c.zone||be).name+"; Execution: "+this.name+")");if(!(c.state!==x&&c.state!==J)){c._transitionTo(te,x,J);try{this._zoneDelegate.cancelTask(this,c)}catch(d){throw c._transitionTo(pe,te),this._zoneDelegate.handleError(this,d),d}return this._updateTaskCount(c,-1),c._transitionTo(me,te),c.runCount=-1,c}}_updateTaskCount(c,d){let P=c._zoneDelegates;d==-1&&(c._zoneDelegates=null);for(let N=0;N<P.length;N++)P[N]._updateTaskCount(c.type,d)}}return j})(),i={name:"",onHasTask:(j,S,c,d)=>j.hasTask(c,d),onScheduleTask:(j,S,c,d)=>j.scheduleTask(c,d),onInvokeTask:(j,S,c,d,P,N)=>j.invokeTask(c,d,P,N),onCancelTask:(j,S,c,d)=>j.cancelTask(c,d)};class s{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(S,c,d){this._zone=S,this._parentDelegate=c,this._forkZS=d&&(d&&d.onFork?d:c._forkZS),this._forkDlgt=d&&(d.onFork?c:c._forkDlgt),this._forkCurrZone=d&&(d.onFork?this._zone:c._forkCurrZone),this._interceptZS=d&&(d.onIntercept?d:c._interceptZS),this._interceptDlgt=d&&(d.onIntercept?c:c._interceptDlgt),this._interceptCurrZone=d&&(d.onIntercept?this._zone:c._interceptCurrZone),this._invokeZS=d&&(d.onInvoke?d:c._invokeZS),this._invokeDlgt=d&&(d.onInvoke?c:c._invokeDlgt),this._invokeCurrZone=d&&(d.onInvoke?this._zone:c._invokeCurrZone),this._handleErrorZS=d&&(d.onHandleError?d:c._handleErrorZS),this._handleErrorDlgt=d&&(d.onHandleError?c:c._handleErrorDlgt),this._handleErrorCurrZone=d&&(d.onHandleError?this._zone:c._handleErrorCurrZone),this._scheduleTaskZS=d&&(d.onScheduleTask?d:c._scheduleTaskZS),this._scheduleTaskDlgt=d&&(d.onScheduleTask?c:c._scheduleTaskDlgt),this._scheduleTaskCurrZone=d&&(d.onScheduleTask?this._zone:c._scheduleTaskCurrZone),this._invokeTaskZS=d&&(d.onInvokeTask?d:c._invokeTaskZS),this._invokeTaskDlgt=d&&(d.onInvokeTask?c:c._invokeTaskDlgt),this._invokeTaskCurrZone=d&&(d.onInvokeTask?this._zone:c._invokeTaskCurrZone),this._cancelTaskZS=d&&(d.onCancelTask?d:c._cancelTaskZS),this._cancelTaskDlgt=d&&(d.onCancelTask?c:c._cancelTaskDlgt),this._cancelTaskCurrZone=d&&(d.onCancelTask?this._zone:c._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let P=d&&d.onHasTask,N=c&&c._hasTaskZS;(P||N)&&(this._hasTaskZS=P?d:i,this._hasTaskDlgt=c,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,d.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=c,this._scheduleTaskCurrZone=this._zone),d.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=c,this._invokeTaskCurrZone=this._zone),d.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=c,this._cancelTaskCurrZone=this._zone))}fork(S,c){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,S,c):new n(S,c)}intercept(S,c,d){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,S,c,d):c}invoke(S,c,d,P,N){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,S,c,d,P,N):c.apply(d,P)}handleError(S,c){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,S,c):!0}scheduleTask(S,c){let d=c;if(this._scheduleTaskZS)this._hasTaskZS&&d._zoneDelegates.push(this._hasTaskDlgtOwner),d=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,S,c),d||(d=c);else if(c.scheduleFn)c.scheduleFn(c);else if(c.type==ne)se(c);else throw new Error("Task is missing scheduleFn.");return d}invokeTask(S,c,d,P){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,S,c,d,P):c.callback.apply(d,P)}cancelTask(S,c){let d;if(this._cancelTaskZS)d=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,S,c);else{if(!c.cancelFn)throw Error("Task is not cancelable");d=c.cancelFn(c)}return d}hasTask(S,c){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,S,c)}catch(d){this.handleError(S,d)}}_updateTaskCount(S,c){let d=this._taskCounts,P=d[S],N=d[S]=P+c;if(N<0)throw new Error("More tasks executed then were scheduled.");if(P==0||N==0){let de={microTask:d.microTask>0,macroTask:d.macroTask>0,eventTask:d.eventTask>0,change:S};this.hasTask(this._zone,de)}}}class _{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(S,c,d,P,N,de){if(this.type=S,this.source=c,this.data=P,this.scheduleFn=N,this.cancelFn=de,!d)throw new Error("callback is not defined");this.callback=d;let q=this;S===le&&P&&P.useG?this.invoke=_.invokeTask:this.invoke=function(){return _.invokeTask.call(Ae,q,this,arguments)}}static invokeTask(S,c,d){S||(S=this),ke++;try{return S.runCount++,S.zone.runTask(S,c,d)}finally{ke==1&&_e(),ke--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(me,D)}_transitionTo(S,c,d){if(this._state===c||this._state===d)this._state=S,S==me&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${S}', expecting state '${c}'${d?" or '"+d+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let f=Me("setTimeout"),M=Me("Promise"),I=Me("then"),T=[],V=!1,$;function ee(j){if($||Ae[M]&&($=Ae[M].resolve(0)),$){let S=$[I];S||(S=$.then),S.call($,j)}else Ae[f](j,0)}function se(j){ke===0&&T.length===0&&ee(_e),j&&T.push(j)}function _e(){if(!V){for(V=!0;T.length;){let j=T;T=[];for(let S=0;S<j.length;S++){let c=j[S];try{c.zone.runTask(c,null,null)}catch(d){F.onUnhandledError(d)}}}F.microtaskDrainDone(),V=!1}}let be={name:"NO ZONE"},me="notScheduled",D="scheduling",x="scheduled",J="running",te="canceling",pe="unknown",ne="microTask",E="macroTask",le="eventTask",z={},F={symbol:Me,currentZoneFrame:()=>B,onUnhandledError:ce,microtaskDrainDone:ce,scheduleMicroTask:se,showUncaughtError:()=>!n[Me("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ce,patchMethod:()=>ce,bindArguments:()=>[],patchThen:()=>ce,patchMacroTask:()=>ce,patchEventPrototype:()=>ce,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ce,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ce,wrapWithCurrentZone:()=>ce,filterProperties:()=>[],attachOriginToPatched:()=>ce,_redefineProperty:()=>ce,patchCallbacks:()=>ce,nativeScheduleMicroTask:ee},B={parent:null,zone:new n(null,null)},L=null,ke=0;function ce(){}return e("Zone","Zone"),n}function To(){let o=globalThis,t=o[Me("forceDuplicateZoneCheck")]===!0;if(o.Zone&&(t||typeof o.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return o.Zone??=wo(),o.Zone}var vt=Object.getOwnPropertyDescriptor,sn=Object.defineProperty,ln=Object.getPrototypeOf,So=Object.create,Mo=Array.prototype.slice,cn="addEventListener",dn="removeEventListener",nn=Me(cn),on=Me(dn),$e="true",Ge="false",kt=Me("");function mn(o,t){return Zone.current.wrap(o,t)}function pn(o,t,e,n,i){return Zone.current.scheduleMacroTask(o,t,e,n,i)}var K=Me,At=typeof window<"u",xt=At?window:void 0,he=At&&xt||globalThis,Eo="removeAttribute";function un(o,t){for(let e=o.length-1;e>=0;e--)typeof o[e]=="function"&&(o[e]=mn(o[e],t+"_"+e));return o}function Oo(o,t){let e=o.constructor.name;for(let n=0;n<t.length;n++){let i=t[n],s=o[i];if(s){let _=vt(o,i);if(!ro(_))continue;o[i]=(f=>{let M=function(){return f.apply(this,un(arguments,e+"."+i))};return Ye(M,f),M})(s)}}}function ro(o){return o?o.writable===!1?!1:!(typeof o.get=="function"&&typeof o.set>"u"):!0}var ao=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,zt=!("nw"in he)&&typeof he.process<"u"&&he.process.toString()==="[object process]",gn=!zt&&!ao&&!!(At&&xt.HTMLElement),so=typeof he.process<"u"&&he.process.toString()==="[object process]"&&!ao&&!!(At&&xt.HTMLElement),Lt={},Po=K("enable_beforeunload"),Kn=function(o){if(o=o||he.event,!o)return;let t=Lt[o.type];t||(t=Lt[o.type]=K("ON_PROPERTY"+o.type));let e=this||o.target||he,n=e[t],i;if(gn&&e===xt&&o.type==="error"){let s=o;i=n&&n.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&o.preventDefault()}else i=n&&n.apply(this,arguments),o.type==="beforeunload"&&he[Po]&&typeof i=="string"?o.returnValue=i:i!=null&&!i&&o.preventDefault();return i};function eo(o,t,e){let n=vt(o,t);if(!n&&e&&vt(e,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let i=K("on"+t+"patched");if(o.hasOwnProperty(i)&&o[i])return;delete n.writable,delete n.value;let s=n.get,_=n.set,f=t.slice(2),M=Lt[f];M||(M=Lt[f]=K("ON_PROPERTY"+f)),n.set=function(I){let T=this;if(!T&&o===he&&(T=he),!T)return;typeof T[M]=="function"&&T.removeEventListener(f,Kn),_?.call(T,null),T[M]=I,typeof I=="function"&&T.addEventListener(f,Kn,!1)},n.get=function(){let I=this;if(!I&&o===he&&(I=he),!I)return null;let T=I[M];if(T)return T;if(s){let V=s.call(this);if(V)return n.set.call(this,V),typeof I[Eo]=="function"&&I.removeAttribute(t),V}return null},sn(o,t,n),o[i]=!0}function lo(o,t,e){if(t)for(let n=0;n<t.length;n++)eo(o,"on"+t[n],e);else{let n=[];for(let i in o)i.slice(0,2)=="on"&&n.push(i);for(let i=0;i<n.length;i++)eo(o,n[i],e)}}var Re=K("originalInstance");function bt(o){let t=he[o];if(!t)return;he[K(o)]=t,he[o]=function(){let i=un(arguments,o);switch(i.length){case 0:this[Re]=new t;break;case 1:this[Re]=new t(i[0]);break;case 2:this[Re]=new t(i[0],i[1]);break;case 3:this[Re]=new t(i[0],i[1],i[2]);break;case 4:this[Re]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Ye(he[o],t);let e=new t(function(){}),n;for(n in e)o==="XMLHttpRequest"&&n==="responseBlob"||function(i){typeof e[i]=="function"?he[o].prototype[i]=function(){return this[Re][i].apply(this[Re],arguments)}:sn(he[o].prototype,i,{set:function(s){typeof s=="function"?(this[Re][i]=mn(s,o+"."+i),Ye(this[Re][i],s)):this[Re][i]=s},get:function(){return this[Re][i]}})}(n);for(n in t)n!=="prototype"&&t.hasOwnProperty(n)&&(he[o][n]=t[n])}function qe(o,t,e){let n=o;for(;n&&!n.hasOwnProperty(t);)n=ln(n);!n&&o[t]&&(n=o);let i=K(t),s=null;if(n&&(!(s=n[i])||!n.hasOwnProperty(i))){s=n[i]=n[t];let _=n&&vt(n,t);if(ro(_)){let f=e(s,i,t);n[t]=function(){return f(this,arguments)},Ye(n[t],s)}}return s}function Do(o,t,e){let n=null;function i(s){let _=s.data;return _.args[_.cbIdx]=function(){s.invoke.apply(this,arguments)},n.apply(_.target,_.args),s}n=qe(o,t,s=>function(_,f){let M=e(_,f);return M.cbIdx>=0&&typeof f[M.cbIdx]=="function"?pn(M.name,f[M.cbIdx],M,i):s.apply(_,f)})}function Ye(o,t){o[K("OriginalDelegate")]=t}var to=!1,rn=!1;function Ro(){if(to)return rn;to=!0;try{let o=xt.navigator.userAgent;(o.indexOf("MSIE ")!==-1||o.indexOf("Trident/")!==-1||o.indexOf("Edge/")!==-1)&&(rn=!0)}catch{}return rn}function no(o){return typeof o=="function"}function oo(o){return typeof o=="number"}var Io={useG:!0},Ee={},co={},mo=new RegExp("^"+kt+"(\\w+)(true|false)$"),po=K("propagationStopped");function uo(o,t){let e=(t?t(o):o)+Ge,n=(t?t(o):o)+$e,i=kt+e,s=kt+n;Ee[o]={},Ee[o][Ge]=i,Ee[o][$e]=s}function Bo(o,t,e,n){let i=n&&n.add||cn,s=n&&n.rm||dn,_=n&&n.listeners||"eventListeners",f=n&&n.rmAll||"removeAllListeners",M=K(i),I="."+i+":",T="prependListener",V="."+T+":",$=function(D,x,J){if(D.isRemoved)return;let te=D.callback;typeof te=="object"&&te.handleEvent&&(D.callback=E=>te.handleEvent(E),D.originalDelegate=te);let pe;try{D.invoke(D,x,[J])}catch(E){pe=E}let ne=D.options;if(ne&&typeof ne=="object"&&ne.once){let E=D.originalDelegate?D.originalDelegate:D.callback;x[s].call(x,J.type,E,ne)}return pe};function ee(D,x,J){if(x=x||o.event,!x)return;let te=D||x.target||o,pe=te[Ee[x.type][J?$e:Ge]];if(pe){let ne=[];if(pe.length===1){let E=$(pe[0],te,x);E&&ne.push(E)}else{let E=pe.slice();for(let le=0;le<E.length&&!(x&&x[po]===!0);le++){let z=$(E[le],te,x);z&&ne.push(z)}}if(ne.length===1)throw ne[0];for(let E=0;E<ne.length;E++){let le=ne[E];t.nativeScheduleMicroTask(()=>{throw le})}}}let se=function(D){return ee(this,D,!1)},_e=function(D){return ee(this,D,!0)};function be(D,x){if(!D)return!1;let J=!0;x&&x.useG!==void 0&&(J=x.useG);let te=x&&x.vh,pe=!0;x&&x.chkDup!==void 0&&(pe=x.chkDup);let ne=!1;x&&x.rt!==void 0&&(ne=x.rt);let E=D;for(;E&&!E.hasOwnProperty(i);)E=ln(E);if(!E&&D[i]&&(E=D),!E||E[M])return!1;let le=x&&x.eventNameToString,z={},F=E[M]=E[i],B=E[K(s)]=E[s],L=E[K(_)]=E[_],ke=E[K(f)]=E[f],ce;x&&x.prepend&&(ce=E[K(x.prepend)]=E[x.prepend]);function j(m,g){return g?typeof m=="boolean"?{capture:m,passive:!0}:m?typeof m=="object"&&m.passive!==!1?rt(nt({},m),{passive:!0}):m:{passive:!0}:m}let S=function(m){if(!z.isExisting)return F.call(z.target,z.eventName,z.capture?_e:se,z.options)},c=function(m){if(!m.isRemoved){let g=Ee[m.eventName],R;g&&(R=g[m.capture?$e:Ge]);let H=R&&m.target[R];if(H){for(let O=0;O<H.length;O++)if(H[O]===m){H.splice(O,1),m.isRemoved=!0,m.removeAbortListener&&(m.removeAbortListener(),m.removeAbortListener=null),H.length===0&&(m.allRemoved=!0,m.target[R]=null);break}}}if(m.allRemoved)return B.call(m.target,m.eventName,m.capture?_e:se,m.options)},d=function(m){return F.call(z.target,z.eventName,m.invoke,z.options)},P=function(m){return ce.call(z.target,z.eventName,m.invoke,z.options)},N=function(m){return B.call(m.target,m.eventName,m.invoke,m.options)},de=J?S:d,q=J?c:N,Qe=function(m,g){let R=typeof g;return R==="function"&&m.callback===g||R==="object"&&m.originalDelegate===g},ze=x?.diff||Qe,je=Zone[K("UNPATCHED_EVENTS")],Pe=o[K("PASSIVE_EVENTS")];function h(m){if(typeof m=="object"&&m!==null){let g=nt({},m);return m.signal&&(g.signal=m.signal),g}return m}let u=function(m,g,R,H,O=!1,U=!1){return function(){let Z=this||o,W=arguments[0];x&&x.transferEventName&&(W=x.transferEventName(W));let oe=arguments[1];if(!oe)return m.apply(this,arguments);if(zt&&W==="uncaughtException")return m.apply(this,arguments);let ie=!1;if(typeof oe!="function"){if(!oe.handleEvent)return m.apply(this,arguments);ie=!0}if(te&&!te(m,oe,Z,arguments))return;let Xe=!!Pe&&Pe.indexOf(W)!==-1,Ie=h(j(arguments[2],Xe)),ot=Ie?.signal;if(ot?.aborted)return;if(je){for(let Be=0;Be<je.length;Be++)if(W===je[Be])return Xe?m.call(Z,W,oe,Ie):m.apply(this,arguments)}let en=Ie?typeof Ie=="boolean"?!0:Ie.capture:!1,bn=Ie&&typeof Ie=="object"?Ie.once:!1,yo=Zone.current,tn=Ee[W];tn||(uo(W,le),tn=Ee[W]);let vn=tn[en?$e:Ge],it=Z[vn],kn=!1;if(it){if(kn=!0,pe){for(let Be=0;Be<it.length;Be++)if(ze(it[Be],oe))return}}else it=Z[vn]=[];let yt,xn=Z.constructor.name,Cn=co[xn];Cn&&(yt=Cn[W]),yt||(yt=xn+g+(le?le(W):W)),z.options=Ie,bn&&(z.options.once=!1),z.target=Z,z.capture=en,z.eventName=W,z.isExisting=kn;let _t=J?Io:void 0;_t&&(_t.taskData=z),ot&&(z.options.signal=void 0);let De=yo.scheduleEventTask(yt,oe,_t,R,H);if(ot){z.options.signal=ot;let Be=()=>De.zone.cancelTask(De);m.call(ot,"abort",Be,{once:!0}),De.removeAbortListener=()=>ot.removeEventListener("abort",Be)}if(z.target=null,_t&&(_t.taskData=null),bn&&(z.options.once=!0),typeof De.options!="boolean"&&(De.options=Ie),De.target=Z,De.capture=en,De.eventName=W,ie&&(De.originalDelegate=oe),U?it.unshift(De):it.push(De),O)return Z}};return E[i]=u(F,I,de,q,ne),ce&&(E[T]=u(ce,V,P,q,ne,!0)),E[s]=function(){let m=this||o,g=arguments[0];x&&x.transferEventName&&(g=x.transferEventName(g));let R=arguments[2],H=R?typeof R=="boolean"?!0:R.capture:!1,O=arguments[1];if(!O)return B.apply(this,arguments);if(te&&!te(B,O,m,arguments))return;let U=Ee[g],Z;U&&(Z=U[H?$e:Ge]);let W=Z&&m[Z];if(W)for(let oe=0;oe<W.length;oe++){let ie=W[oe];if(ze(ie,O)){if(W.splice(oe,1),ie.isRemoved=!0,W.length===0&&(ie.allRemoved=!0,m[Z]=null,!H&&typeof g=="string")){let Xe=kt+"ON_PROPERTY"+g;m[Xe]=null}return ie.zone.cancelTask(ie),ne?m:void 0}}return B.apply(this,arguments)},E[_]=function(){let m=this||o,g=arguments[0];x&&x.transferEventName&&(g=x.transferEventName(g));let R=[],H=go(m,le?le(g):g);for(let O=0;O<H.length;O++){let U=H[O],Z=U.originalDelegate?U.originalDelegate:U.callback;R.push(Z)}return R},E[f]=function(){let m=this||o,g=arguments[0];if(g){x&&x.transferEventName&&(g=x.transferEventName(g));let R=Ee[g];if(R){let H=R[Ge],O=R[$e],U=m[H],Z=m[O];if(U){let W=U.slice();for(let oe=0;oe<W.length;oe++){let ie=W[oe],Xe=ie.originalDelegate?ie.originalDelegate:ie.callback;this[s].call(this,g,Xe,ie.options)}}if(Z){let W=Z.slice();for(let oe=0;oe<W.length;oe++){let ie=W[oe],Xe=ie.originalDelegate?ie.originalDelegate:ie.callback;this[s].call(this,g,Xe,ie.options)}}}}else{let R=Object.keys(m);for(let H=0;H<R.length;H++){let O=R[H],U=mo.exec(O),Z=U&&U[1];Z&&Z!=="removeListener"&&this[f].call(this,Z)}this[f].call(this,"removeListener")}if(ne)return this},Ye(E[i],F),Ye(E[s],B),ke&&Ye(E[f],ke),L&&Ye(E[_],L),!0}let me=[];for(let D=0;D<e.length;D++)me[D]=be(e[D],n);return me}function go(o,t){if(!t){let s=[];for(let _ in o){let f=mo.exec(_),M=f&&f[1];if(M&&(!t||M===t)){let I=o[_];if(I)for(let T=0;T<I.length;T++)s.push(I[T])}}return s}let e=Ee[t];e||(uo(t),e=Ee[t]);let n=o[e[Ge]],i=o[e[$e]];return n?i?n.concat(i):n.slice():i?i.slice():[]}function No(o,t){let e=o.Event;e&&e.prototype&&t.patchMethod(e.prototype,"stopImmediatePropagation",n=>function(i,s){i[po]=!0,n&&n.apply(i,s)})}function Vo(o,t){t.patchMethod(o,"queueMicrotask",e=>function(n,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var Ht=K("zoneTask");function gt(o,t,e,n){let i=null,s=null;t+=n,e+=n;let _={};function f(I){let T=I.data;T.args[0]=function(){return I.invoke.apply(this,arguments)};let V=i.apply(o,T.args);return oo(V)?T.handleId=V:(T.handle=V,T.isRefreshable=no(V.refresh)),I}function M(I){let{handle:T,handleId:V}=I.data;return s.call(o,T??V)}i=qe(o,t,I=>function(T,V){if(no(V[0])){let $={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?V[1]||0:void 0,args:V},ee=V[0];V[0]=function(){try{return ee.apply(this,arguments)}finally{let{handle:J,handleId:te,isPeriodic:pe,isRefreshable:ne}=$;!pe&&!ne&&(te?delete _[te]:J&&(J[Ht]=null))}};let se=pn(t,V[0],$,f,M);if(!se)return se;let{handleId:_e,handle:be,isRefreshable:me,isPeriodic:D}=se.data;if(_e)_[_e]=se;else if(be&&(be[Ht]=se,me&&!D)){let x=be.refresh;be.refresh=function(){let{zone:J,state:te}=se;return te==="notScheduled"?(se._state="scheduled",J._updateTaskCount(se,1)):te==="running"&&(se._state="scheduling"),x.call(this)}}return be??_e??se}else return I.apply(o,V)}),s=qe(o,e,I=>function(T,V){let $=V[0],ee;oo($)?(ee=_[$],delete _[$]):(ee=$?.[Ht],ee?$[Ht]=null:ee=$),ee?.type?ee.cancelFn&&ee.zone.cancelTask(ee):I.apply(o,V)})}function Fo(o,t){let{isBrowser:e,isMix:n}=t.getGlobalObjects();if(!e&&!n||!o.customElements||!("customElements"in o))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,o.customElements,"customElements","define",i)}function Ho(o,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:e,zoneSymbolEventNames:n,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:_}=t.getGlobalObjects();for(let M=0;M<e.length;M++){let I=e[M],T=I+s,V=I+i,$=_+T,ee=_+V;n[I]={},n[I][s]=$,n[I][i]=ee}let f=o.EventTarget;if(!(!f||!f.prototype))return t.patchEventTarget(o,t,[f&&f.prototype]),!0}function Lo(o,t){t.patchEventPrototype(o,t)}function fo(o,t,e){if(!e||e.length===0)return t;let n=e.filter(s=>s.target===o);if(n.length===0)return t;let i=n[0].ignoreProperties;return t.filter(s=>i.indexOf(s)===-1)}function io(o,t,e,n){if(!o)return;let i=fo(o,t,e);lo(o,i,n)}function an(o){return Object.getOwnPropertyNames(o).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function Ao(o,t){if(zt&&!so||Zone[o.symbol("patchEvents")])return;let e=t.__Zone_ignore_on_properties,n=[];if(gn){let i=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let s=[];io(i,an(i),e&&e.concat(s),ln(i))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<n.length;i++){let s=t[n[i]];s?.prototype&&io(s.prototype,an(s.prototype),e)}}function zo(o){o.__load_patch("legacy",t=>{let e=t[o.__symbol__("legacyPatch")];e&&e()}),o.__load_patch("timers",t=>{let e="set",n="clear";gt(t,e,n,"Timeout"),gt(t,e,n,"Interval"),gt(t,e,n,"Immediate")}),o.__load_patch("requestAnimationFrame",t=>{gt(t,"request","cancel","AnimationFrame"),gt(t,"mozRequest","mozCancel","AnimationFrame"),gt(t,"webkitRequest","webkitCancel","AnimationFrame")}),o.__load_patch("blocking",(t,e)=>{let n=["alert","prompt","confirm"];for(let i=0;i<n.length;i++){let s=n[i];qe(t,s,(_,f,M)=>function(I,T){return e.current.run(_,t,T,M)})}}),o.__load_patch("EventTarget",(t,e,n)=>{Lo(t,n),Ho(t,n);let i=t.XMLHttpRequestEventTarget;i&&i.prototype&&n.patchEventTarget(t,n,[i.prototype])}),o.__load_patch("MutationObserver",(t,e,n)=>{bt("MutationObserver"),bt("WebKitMutationObserver")}),o.__load_patch("IntersectionObserver",(t,e,n)=>{bt("IntersectionObserver")}),o.__load_patch("FileReader",(t,e,n)=>{bt("FileReader")}),o.__load_patch("on_property",(t,e,n)=>{Ao(n,t)}),o.__load_patch("customElements",(t,e,n)=>{Fo(t,n)}),o.__load_patch("XHR",(t,e)=>{I(t);let n=K("xhrTask"),i=K("xhrSync"),s=K("xhrListener"),_=K("xhrScheduled"),f=K("xhrURL"),M=K("xhrErrorBeforeScheduled");function I(T){let V=T.XMLHttpRequest;if(!V)return;let $=V.prototype;function ee(F){return F[n]}let se=$[nn],_e=$[on];if(!se){let F=T.XMLHttpRequestEventTarget;if(F){let B=F.prototype;se=B[nn],_e=B[on]}}let be="readystatechange",me="scheduled";function D(F){let B=F.data,L=B.target;L[_]=!1,L[M]=!1;let ke=L[s];se||(se=L[nn],_e=L[on]),ke&&_e.call(L,be,ke);let ce=L[s]=()=>{if(L.readyState===L.DONE)if(!B.aborted&&L[_]&&F.state===me){let S=L[e.__symbol__("loadfalse")];if(L.status!==0&&S&&S.length>0){let c=F.invoke;F.invoke=function(){let d=L[e.__symbol__("loadfalse")];for(let P=0;P<d.length;P++)d[P]===F&&d.splice(P,1);!B.aborted&&F.state===me&&c.call(F)},S.push(F)}else F.invoke()}else!B.aborted&&L[_]===!1&&(L[M]=!0)};return se.call(L,be,ce),L[n]||(L[n]=F),le.apply(L,B.args),L[_]=!0,F}function x(){}function J(F){let B=F.data;return B.aborted=!0,z.apply(B.target,B.args)}let te=qe($,"open",()=>function(F,B){return F[i]=B[2]==!1,F[f]=B[1],te.apply(F,B)}),pe="XMLHttpRequest.send",ne=K("fetchTaskAborting"),E=K("fetchTaskScheduling"),le=qe($,"send",()=>function(F,B){if(e.current[E]===!0||F[i])return le.apply(F,B);{let L={target:F,url:F[f],isPeriodic:!1,args:B,aborted:!1},ke=pn(pe,x,L,D,J);F&&F[M]===!0&&!L.aborted&&ke.state===me&&ke.invoke()}}),z=qe($,"abort",()=>function(F,B){let L=ee(F);if(L&&typeof L.type=="string"){if(L.cancelFn==null||L.data&&L.data.aborted)return;L.zone.cancelTask(L)}else if(e.current[ne]===!0)return z.apply(F,B)})}}),o.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&Oo(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),o.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(i){return function(s){go(t,i).forEach(f=>{let M=t.PromiseRejectionEvent;if(M){let I=new M(i,{promise:s.promise,reason:s.rejection});f.invoke(I)}})}}t.PromiseRejectionEvent&&(e[K("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[K("rejectionHandledHandler")]=n("rejectionhandled"))}),o.__load_patch("queueMicrotask",(t,e,n)=>{Vo(t,n)})}function jo(o){o.__load_patch("ZoneAwarePromise",(t,e,n)=>{let i=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function _(h){if(h&&h.toString===Object.prototype.toString){let u=h.constructor&&h.constructor.name;return(u||"")+": "+JSON.stringify(h)}return h?h.toString():Object.prototype.toString.call(h)}let f=n.symbol,M=[],I=t[f("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,T=f("Promise"),V=f("then"),$="__creationTrace__";n.onUnhandledError=h=>{if(n.showUncaughtError()){let u=h&&h.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",h.zone.name,"; Task:",h.task&&h.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(h)}},n.microtaskDrainDone=()=>{for(;M.length;){let h=M.shift();try{h.zone.runGuarded(()=>{throw h.throwOriginal?h.rejection:h})}catch(u){se(u)}}};let ee=f("unhandledPromiseRejectionHandler");function se(h){n.onUnhandledError(h);try{let u=e[ee];typeof u=="function"&&u.call(this,h)}catch{}}function _e(h){return h&&typeof h.then=="function"}function be(h){return h}function me(h){return q.reject(h)}let D=f("state"),x=f("value"),J=f("finally"),te=f("parentPromiseValue"),pe=f("parentPromiseState"),ne="Promise.then",E=null,le=!0,z=!1,F=0;function B(h,u){return m=>{try{j(h,u,m)}catch(g){j(h,!1,g)}}}let L=function(){let h=!1;return function(m){return function(){h||(h=!0,m.apply(null,arguments))}}},ke="Promise resolved with itself",ce=f("currentTaskTrace");function j(h,u,m){let g=L();if(h===m)throw new TypeError(ke);if(h[D]===E){let R=null;try{(typeof m=="object"||typeof m=="function")&&(R=m&&m.then)}catch(H){return g(()=>{j(h,!1,H)})(),h}if(u!==z&&m instanceof q&&m.hasOwnProperty(D)&&m.hasOwnProperty(x)&&m[D]!==E)c(m),j(h,m[D],m[x]);else if(u!==z&&typeof R=="function")try{R.call(m,g(B(h,u)),g(B(h,!1)))}catch(H){g(()=>{j(h,!1,H)})()}else{h[D]=u;let H=h[x];if(h[x]=m,h[J]===J&&u===le&&(h[D]=h[pe],h[x]=h[te]),u===z&&m instanceof Error){let O=e.currentTask&&e.currentTask.data&&e.currentTask.data[$];O&&s(m,ce,{configurable:!0,enumerable:!1,writable:!0,value:O})}for(let O=0;O<H.length;)d(h,H[O++],H[O++],H[O++],H[O++]);if(H.length==0&&u==z){h[D]=F;let O=m;try{throw new Error("Uncaught (in promise): "+_(m)+(m&&m.stack?`
`+m.stack:""))}catch(U){O=U}I&&(O.throwOriginal=!0),O.rejection=m,O.promise=h,O.zone=e.current,O.task=e.currentTask,M.push(O),n.scheduleMicroTask()}}}return h}let S=f("rejectionHandledHandler");function c(h){if(h[D]===F){try{let u=e[S];u&&typeof u=="function"&&u.call(this,{rejection:h[x],promise:h})}catch{}h[D]=z;for(let u=0;u<M.length;u++)h===M[u].promise&&M.splice(u,1)}}function d(h,u,m,g,R){c(h);let H=h[D],O=H?typeof g=="function"?g:be:typeof R=="function"?R:me;u.scheduleMicroTask(ne,()=>{try{let U=h[x],Z=!!m&&J===m[J];Z&&(m[te]=U,m[pe]=H);let W=u.run(O,void 0,Z&&O!==me&&O!==be?[]:[U]);j(m,!0,W)}catch(U){j(m,!1,U)}},m)}let P="function ZoneAwarePromise() { [native code] }",N=function(){},de=t.AggregateError;class q{static toString(){return P}static resolve(u){return u instanceof q?u:j(new this(null),le,u)}static reject(u){return j(new this(null),z,u)}static withResolvers(){let u={};return u.promise=new q((m,g)=>{u.resolve=m,u.reject=g}),u}static any(u){if(!u||typeof u[Symbol.iterator]!="function")return Promise.reject(new de([],"All promises were rejected"));let m=[],g=0;try{for(let O of u)g++,m.push(q.resolve(O))}catch{return Promise.reject(new de([],"All promises were rejected"))}if(g===0)return Promise.reject(new de([],"All promises were rejected"));let R=!1,H=[];return new q((O,U)=>{for(let Z=0;Z<m.length;Z++)m[Z].then(W=>{R||(R=!0,O(W))},W=>{H.push(W),g--,g===0&&(R=!0,U(new de(H,"All promises were rejected")))})})}static race(u){let m,g,R=new this((U,Z)=>{m=U,g=Z});function H(U){m(U)}function O(U){g(U)}for(let U of u)_e(U)||(U=this.resolve(U)),U.then(H,O);return R}static all(u){return q.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof q?this:q).allWithCallback(u,{thenCallback:g=>({status:"fulfilled",value:g}),errorCallback:g=>({status:"rejected",reason:g})})}static allWithCallback(u,m){let g,R,H=new this((W,oe)=>{g=W,R=oe}),O=2,U=0,Z=[];for(let W of u){_e(W)||(W=this.resolve(W));let oe=U;try{W.then(ie=>{Z[oe]=m?m.thenCallback(ie):ie,O--,O===0&&g(Z)},ie=>{m?(Z[oe]=m.errorCallback(ie),O--,O===0&&g(Z)):R(ie)})}catch(ie){R(ie)}O++,U++}return O-=2,O===0&&g(Z),H}constructor(u){let m=this;if(!(m instanceof q))throw new Error("Must be an instanceof Promise.");m[D]=E,m[x]=[];try{let g=L();u&&u(g(B(m,le)),g(B(m,z)))}catch(g){j(m,!1,g)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return q}then(u,m){let g=this.constructor?.[Symbol.species];(!g||typeof g!="function")&&(g=this.constructor||q);let R=new g(N),H=e.current;return this[D]==E?this[x].push(H,R,u,m):d(this,H,R,u,m),R}catch(u){return this.then(null,u)}finally(u){let m=this.constructor?.[Symbol.species];(!m||typeof m!="function")&&(m=q);let g=new m(N);g[J]=J;let R=e.current;return this[D]==E?this[x].push(R,g,u,u):d(this,R,g,u,u),g}}q.resolve=q.resolve,q.reject=q.reject,q.race=q.race,q.all=q.all;let Qe=t[T]=t.Promise;t.Promise=q;let ze=f("thenPatched");function je(h){let u=h.prototype,m=i(u,"then");if(m&&(m.writable===!1||!m.configurable))return;let g=u.then;u[V]=g,h.prototype.then=function(R,H){return new q((U,Z)=>{g.call(this,U,Z)}).then(R,H)},h[ze]=!0}n.patchThen=je;function Pe(h){return function(u,m){let g=h.apply(u,m);if(g instanceof q)return g;let R=g.constructor;return R[ze]||je(R),g}}return Qe&&(je(Qe),qe(t,"fetch",h=>Pe(h))),Promise[e.__symbol__("uncaughtPromiseErrors")]=M,q})}function Uo(o){o.__load_patch("toString",t=>{let e=Function.prototype.toString,n=K("OriginalDelegate"),i=K("Promise"),s=K("Error"),_=function(){if(typeof this=="function"){let T=this[n];if(T)return typeof T=="function"?e.call(T):Object.prototype.toString.call(T);if(this===Promise){let V=t[i];if(V)return e.call(V)}if(this===Error){let V=t[s];if(V)return e.call(V)}}return e.call(this)};_[n]=e,Function.prototype.toString=_;let f=Object.prototype.toString,M="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?M:f.call(this)}})}function Zo(o,t,e,n,i){let s=Zone.__symbol__(n);if(t[s])return;let _=t[s]=t[n];t[n]=function(f,M,I){return M&&M.prototype&&i.forEach(function(T){let V=`${e}.${n}::`+T,$=M.prototype;try{if($.hasOwnProperty(T)){let ee=o.ObjectGetOwnPropertyDescriptor($,T);ee&&ee.value?(ee.value=o.wrapWithCurrentZone(ee.value,V),o._redefineProperty(M.prototype,T,ee)):$[T]&&($[T]=o.wrapWithCurrentZone($[T],V))}else $[T]&&($[T]=o.wrapWithCurrentZone($[T],V))}catch{}}),_.call(t,f,M,I)},o.attachOriginToPatched(t[n],_)}function Wo(o){o.__load_patch("util",(t,e,n)=>{let i=an(t);n.patchOnProperties=lo,n.patchMethod=qe,n.bindArguments=un,n.patchMacroTask=Do;let s=e.__symbol__("BLACK_LISTED_EVENTS"),_=e.__symbol__("UNPATCHED_EVENTS");t[_]&&(t[s]=t[_]),t[s]&&(e[s]=e[_]=t[s]),n.patchEventPrototype=No,n.patchEventTarget=Bo,n.isIEOrEdge=Ro,n.ObjectDefineProperty=sn,n.ObjectGetOwnPropertyDescriptor=vt,n.ObjectCreate=So,n.ArraySlice=Mo,n.patchClass=bt,n.wrapWithCurrentZone=mn,n.filterProperties=fo,n.attachOriginToPatched=Ye,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Zo,n.getGlobalObjects=()=>({globalSources:co,zoneSymbolEventNames:Ee,eventNames:i,isBrowser:gn,isMix:so,isNode:zt,TRUE_STR:$e,FALSE_STR:Ge,ZONE_SYMBOL_PREFIX:kt,ADD_EVENT_LISTENER_STR:cn,REMOVE_EVENT_LISTENER_STR:dn})})}function $o(o){jo(o),Uo(o),Wo(o)}var ho=To();$o(ho);zo(ho);var et=class o{API_URL=Jn.apiUrl+"/api/auth/login";currentUserSubject=new wt(null);http=Q(Hn);router=Q(Se);constructor(){this.loadUserFromStorage()}login(t){return this.http.post(`${this.API_URL}`,t).pipe(Tn(e=>this.handleAuthSuccess(e)))}logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/auth"])}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return!!this.getAccessToken()}getAccessToken(){let t=localStorage.getItem("accessToken");return t&&this.isTokenExpired(t)?(console.log("\u26A0\uFE0F Token expired"),this.logout(),null):t}isTokenExpired(t){try{let e=JSON.parse(atob(t.split(".")[1])),n=new Date(e.exp*1e3),i=n<new Date;return i&&console.log("\u26A0\uFE0F Token expired at:",n),i}catch(e){return console.error("\u274C Error checking token expiration",e),!0}}handleAuthSuccess(t){console.log("Auth response:",t),localStorage.setItem("currentUser",JSON.stringify(t.user)),localStorage.setItem("accessToken",t.token)}loadUserFromStorage(){let t=localStorage.getItem("accessToken"),e=localStorage.getItem("currentUser");if(t&&e)try{let n=JSON.parse(e);this.currentUserSubject.next(n)}catch(n){console.error("Error parsing stored user",n),this.logout()}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Tt({token:o,factory:o.\u0275fac,providedIn:"root"})};function _o(o){return o?typeof o.role=="string"?o.role:o.role?.name||"":""}function Go(o,t){if(o&1&&(r(0,"div",41),w(1,"div",42),r(2,"div",43)(3,"h3"),l(4),a(),r(5,"p"),l(6),a()()()),o&2){let e=t.$implicit;p(),k("innerHTML",e.icon,st),p(3),Y(e.title),p(2),Y(e.description)}}function qo(o,t){o&1&&w(0,"span",39)}function Yo(o,t){if(o&1&&w(0,"span",40),o&2){let e=v();k("innerHTML",e.icons.arrow,st)}}var jt=class o{loading=!1;loginForm;errorMessage="";returnUrl="/home";submitted=!1;emailFocused=!1;passFocused=!1;nameFocused=!1;regEmailFocused=!1;regPassFocused=!1;confirmFocused=!1;showPassword=!1;icons={};features=[];route=Q(jn);authService=Q(et);router=Q(Se);fb=Q(pt);sanitizer=Q(zn);constructor(){this.initIcons(),this.initFeatures(),this.loginForm=this.fb.group({email:["",[fe.required,fe.email]],password:["",[fe.required,fe.minLength(6)]]})}ngOnInit(){this.setMode(!0),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home"}initIcons(){this.icons={mail:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>'),lock:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>'),user:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'),eye:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>'),eyeOff:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>'),arrow:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>'),rocket:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>'),calendar:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/></svg>'),zap:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>'),google:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>'),facebook:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#1877F2" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>'),github:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>')}}initFeatures(){this.features=[{icon:this.icons.rocket,title:"Instant Booking",description:"Reserve meeting rooms in seconds with our smart system"},{icon:this.icons.calendar,title:"Smart Scheduling",description:"AI-powered availability matching for your team"},{icon:this.icons.zap,title:"Real-time Sync",description:"Live updates and instant notifications"}]}setMode(t){this.emailFocused=!1,this.passFocused=!1,this.confirmFocused=!1}onLogin(t){t.preventDefault(),this.submitted=!0,this.loading=!0,this.loginForm.valid&&(console.log("Login:",this.loginForm.value),this.authService.login(this.loginForm.value).subscribe({next:e=>{let n=_o(e.user).toLowerCase();this.returnUrl=n==="admin"?"/admin":"/home",this.router.navigate([this.returnUrl])},error:e=>{console.error("Login error:",e),this.loading=!1,alert("Login failed. Please check your credentials and try again.")},complete:()=>{this.loading=!1}}))}get loginEmail(){return this.loginForm.get("email")}get loginPassword(){return this.loginForm.get("password")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-login"]],decls:71,vars:18,consts:[[1,"auth-page"],[1,"brand-panel"],[1,"bg-orb","orb-1"],[1,"bg-orb","orb-3"],[1,"bg-orb","orb-4"],[1,"bg-orb","orb-5"],[1,"bg-orb","orb-7"],[1,"bg-orb","orb-8"],[1,"bg-orb","orb-9"],[1,"bg-orb","orb-10"],[1,"bg-grid"],[1,"brand-content"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"tagline"],[1,"tagline-sub"],[1,"features"],["class","feature",4,"ngFor","ngForOf"],[1,"form-panel"],[1,"form-wrapper"],[1,"mobile-logo"],[1,"logo-name"],[1,"form-header"],[1,"toggle-tabs"],[1,"active","text-center"],[1,"active",3,"ngSubmit","formGroup"],[1,"magic-input"],[1,"input-icon",3,"innerHTML"],["type","email","formControlName","email",3,"focus","blur"],[1,"input-line"],[1,"input-border-animated"],[1,"input-glow"],["formControlName","password",3,"focus","blur","type"],["type","button",1,"toggle-password",3,"click"],[3,"innerHTML"],["href","#",1,"forgot-link"],["type","submit",1,"submit-btn",3,"disabled"],[1,"spinner"],[1,"btn-icon",3,"innerHTML"],[1,"feature"],[1,"feature-icon",3,"innerHTML"],[1,"feature-text"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),w(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),r(11,"div",11)(12,"div",12)(13,"div",13)(14,"span"),l(15,"M"),a(),w(16,"div",14),a(),r(17,"div",15)(18,"h1"),l(19,"meetin"),a()()(),r(20,"div",16)(21,"p",17),l(22,"Welcome to the future of"),a(),r(23,"h2"),l(24,"Meeting"),w(25,"br"),r(26,"span"),l(27,"Management"),a()()(),r(28,"div",18),A(29,Go,7,3,"div",19),a()()(),r(30,"div",20)(31,"div",21)(32,"div",22)(33,"div",13)(34,"span"),l(35,"M"),a()(),r(36,"span",23),l(37,"meetin"),a()(),r(38,"div",24)(39,"h2"),l(40,"Welcome back"),a(),r(41,"p"),l(42,"Enter your credentials to access your account"),a()(),r(43,"div",25)(44,"div",26),l(45,"Sign In"),a()(),r(46,"form",27),b("ngSubmit",function(s){return n.onLogin(s)}),r(47,"div",28),w(48,"div",29),r(49,"label"),l(50,"Email Address"),a(),r(51,"input",30),b("focus",function(){return n.emailFocused=!0})("blur",function(){return n.emailFocused=!1}),a(),w(52,"div",31)(53,"div",32)(54,"div",33),a(),r(55,"div",28),w(56,"div",29),r(57,"label"),l(58,"Password"),a(),r(59,"input",34),b("focus",function(){return n.passFocused=!0})("blur",function(){return n.passFocused=!1}),a(),r(60,"button",35),b("click",function(){return n.showPassword=!n.showPassword}),w(61,"span",36),a(),w(62,"div",31)(63,"div",32)(64,"div",33),a(),r(65,"a",37),l(66,"Forgot password?"),a(),r(67,"button",38),l(68),A(69,qo,1,0,"span",39)(70,Yo,1,1,"span",40),a()()()()()),e&2&&(p(29),k("ngForOf",n.features),p(17),k("formGroup",n.loginForm),p(),Ve("focused",n.emailFocused)("filled",n.loginEmail.value),p(),k("innerHTML",n.icons.mail,st),p(7),Ve("focused",n.passFocused)("filled",n.loginPassword.value),p(),k("innerHTML",n.icons.lock,st),p(3),k("type",n.showPassword?"text":"password"),p(2),k("innerHTML",n.showPassword?n.icons.eyeOff:n.icons.eye,st),p(6),k("disabled",n.loginForm.invalid),p(),G(" ",n.loading?"Logging in...":"Log In"," "),p(),Fe(n.loading?69:-1),p(),Fe(n.loading?-1:70))},dependencies:[ge,ve,ut,Bt,Rt,mt,It,Nt,Vt],styles:[`*{margin:0;padding:0;box-sizing:border-box}.auth-page{display:flex}.brand-panel{display:none;width:50%;position:relative;overflow:visible;padding:3rem;margin:0;background:linear-gradient(135deg,var(--primary-600) 0%,var(--primary-800) 100%),linear-gradient(135deg,var(--primary-700) 0%,var(--primary-900) 100%)}@media (min-width: 1024px){.brand-panel{display:flex;align-items:center;overflow:visible}}.bg-orb{position:absolute;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:0}@keyframes moveDiagonal1{0%,to{transform:translate(0)}25%{transform:translate(20vw,15vh)}50%{transform:translate(15vw,25vh)}75%{transform:translate(5vw,20vh)}}@keyframes moveWave{0%,to{transform:translateY(0)}25%{transform:translateY(15vh)}50%{transform:translateY(5vh)}75%{transform:translateY(20vh)}}.orb-4{width:450px;height:450px;top:5%;left:-20%;background:var(--primary-900);animation:pulse 6s ease-in-out infinite 4.5s,moveHorizontal 18s ease-in-out infinite}@keyframes moveHorizontal{0%,to{transform:translate(0)}25%{transform:translate(25vw)}50%{transform:translate(15vw)}75%{transform:translate(30vw)}}@keyframes moveZigzag{0%,to{transform:translate(0)}20%{transform:translate(15vw,-10vh)}40%{transform:translate(25vw,5vh)}60%{transform:translate(15vw,15vh)}80%{transform:translate(5vw,10vh)}}@keyframes moveFloat{0%,to{transform:translate(0)}20%{transform:translate(-12vw,-5vh)}40%{transform:translate(-8vw,12vh)}60%{transform:translate(10vw,8vh)}80%{transform:translate(5vw,-10vh)}}@keyframes moveBounce{0%,to{transform:translate(0)}25%{transform:translate(-15vw,10vh)}50%{transform:translate(10vw,15vh)}75%{transform:translate(-10vw,-5vh)}}@keyframes moveDrift{0%{transform:translate(0)}33%{transform:translate(40vw,-10vh)}66%{transform:translate(25vw,15vh)}to{transform:translate(0)}}@keyframes moveSpiral{0%{transform:translate(0) scale(1)}25%{transform:translate(15vw,8vh) scale(1.1)}50%{transform:translate(25vw,-5vh) scale(.9)}75%{transform:translate(10vw,-15vh) scale(1.05)}to{transform:translate(0) scale(1)}}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}.bg-grid{position:absolute;inset:0;opacity:.05;background-image:linear-gradient(var(--primary-900) 1px,transparent 1px),linear-gradient(90deg,var(--primary-200) 1px,transparent 1px);background-size:50px 50px}.brand-content{position:relative;z-index:1;max-width:480px;overflow:visible}.tagline{margin-bottom:.5rem}.tagline-sub{color:var(--primary-200);font-size:1.1rem;margin-bottom:8px}.tagline h2{font-size:3rem;font-weight:700;color:var(--white);line-height:1.1}.tagline h2 span{background:linear-gradient(135deg,var(--primary-300),var(--primary-100));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.features{display:flex;flex-direction:column;gap:16px;margin-bottom:100px}.feature{display:flex;align-items:flex-start;gap:16px;padding:20px;background:#fff3;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:16px;cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1)}.feature:hover{background:#f7fbef1a;border-color:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,.1));transform:translate(8px)}.feature-icon{width:48px;height:48px;min-width:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .4s ease}.feature-icon svg{width:24px;height:24px;stroke:var(--white)}.feature:hover .feature-icon{transform:scale(1.1) rotate(5deg)}.feature-text h3{font-size:1rem;font-weight:600;color:var(--white);transition:color .3s;padding:0;margin:0}.feature-text p{font-size:.875rem;color:var(--primary-200);line-height:1.5}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.form-panel{width:100%;display:flex;align-items:center;justify-content:center;padding:1.5rem;background:linear-gradient(135deg,var(--bg-light) 0%,var(--primary-0) 100%)!important;border-left:3px solid var(--primary-500);box-shadow:-10px 0 30px rgba(var(--black),.05)}@media (min-width: 1024px){.form-panel{width:50%}}.form-wrapper{background-color:transparent;width:100%;max-width:400px}.mobile-logo{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:3rem}.mobile-logo .logo-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600))}.mobile-logo .logo-name{font-size:2rem;font-weight:900;color:var(--primary-700)}@media (min-width: 1024px){.mobile-logo{display:none}}.form-header{margin-bottom:2rem;text-align:center}.form-header h2{font-size:1.875rem;font-weight:700;color:var(--primary-800);margin-bottom:8px}.form-header p{color:var(--primary-600);font-size:.95rem}.toggle-tabs{display:flex;background:var(--primary-100);border-radius:12px;padding:4px;margin:0 2.5rem 2.5rem;box-sizing:border-box;position:relative}.toggle-tabs div{flex:1;padding:12px;background:none;border:none;font-size:.875rem;font-weight:600;color:var(--primary-600);position:relative;z-index:1;transition:color .3s}.toggle-tabs button.active{color:var(--primary-800)}.toggle-indicator{position:absolute;top:4px;left:4px;width:calc(50% - 4px);height:calc(100% - 8px);background:var(--primary-100);border-radius:10px;box-shadow:0 2px 8px var(--primary-600);transition:transform .3s cubic-bezier(.4,0,.2,1)}.toggle-indicator.right{transform:translate(100%)}.magic-input{position:relative;margin-bottom:24px;padding-top:12px;padding-bottom:8px}.magic-input .input-icon{position:absolute;left:0;top:calc(50% + 2px);transform:translateY(-50%);width:24px;height:24px;color:var(--primary-400);transition:all .4s cubic-bezier(.4,0,.2,1)}.magic-input .input-icon svg{width:100%;height:100%}.magic-input:hover .input-icon{color:var(--primary-500)}.magic-input.focused .input-icon,.magic-input.filled .input-icon{color:var(--primary-600);transform:translateY(-50%) scale(.9)}.magic-input label{position:absolute;left:32px;top:calc(50% + 2px);transform:translateY(-50%);color:var(--primary-500);font-size:1rem;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input.focused label,.magic-input.filled label{top:0;transform:translateY(0);font-size:.75rem;color:var(--primary-600);font-weight:500}.magic-input input{width:100%;padding:8px 40px 8px 32px;background:transparent;border:none;font-size:1rem;color:var(--primary-800);outline:none;position:relative;z-index:2;caret-color:var(--primary-600)}.toggle-password{position:absolute;right:0;top:calc(50% + 2px);transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:4px;color:var(--primary-400);transition:color .3s;z-index:3}.toggle-password:hover{color:var(--primary-600)}.toggle-password svg{width:20px;height:20px}.input-line{position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--primary-200);transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input:hover .input-line{background:var(--primary-400);box-shadow:0 0 8px rgba(var(--primary-900) .3)}.magic-input.focused .input-line{background:transparent}.input-border-animated{position:absolute;top:-4px;left:-8px;width:calc(100% + 16px);height:calc(100% + 8px);border:2px solid transparent;border-radius:12px;pointer-events:none;opacity:0;clip-path:polygon(0 0,0 0,0 100%,0 100%);transition:clip-path .6s cubic-bezier(.4,0,.2,1),opacity .3s ease,border-color .3s ease}.magic-input.focused .input-border-animated{opacity:1;border-color:var(--primary-500);clip-path:polygon(0 0,100% 0,100% 100%,0 100%);animation:borderPulse 2s ease-in-out infinite}@keyframes borderPulse{0%,to{border-color:var(--primary-500);box-shadow:0 0 rgba(var(--primary-900),.1)}50%{border-color:var(--primary-400);box-shadow:0 0 0 2px rgba(var(--primary-900),.1)}}.input-glow{position:absolute;top:-8px;left:-12px;width:calc(100% + 24px);height:calc(100% + 16px);border-radius:16px;pointer-events:none;box-shadow:0 0 rgba(var(--primary-900),0);transition:box-shadow .5s cubic-bezier(.4,0,.2,1)}.magic-input.focused .input-glow{box-shadow:0 0 30px rgba(var(--primary-900),.2);animation:glowPulse 2s ease-in-out infinite}@keyframes glowPulse{0%,to{box-shadow:0 0 20px rgba(var(--primary-900),.15)}50%{box-shadow:0 0 35px rgba(var(--primary-900),.25)}}.form-fields{display:none}.form-fields.active{display:block;animation:fadeIn .3s ease-in-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.forgot-link{display:block;text-align:right;font-size:.875rem;color:var(--primary-500);text-decoration:none;margin-bottom:8px;transition:color .3s}.forgot-link:hover{color:var(--primary-700)}.submit-btn{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--primary-400),var(--primary-900));border:none;border-radius:12px;font-size:1rem;font-weight:600;color:var(--white);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 8px 24px rgba(var(--primary-700),.3);transition:all .3s cubic-bezier(.4,0,.2,1);margin-top:16px}.submit-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 12px 32px rgba(var(--primary-700),.4);background:linear-gradient(135deg,var(--primary-600),var(--primary-900))}.submit-btn:active:not(:disabled){transform:translateY(0)}.submit-btn:disabled{opacity:.5;cursor:not-allowed}.btn-icon{width:20px;height:20px;transition:transform .3s}.btn-icon svg{width:100%;height:100%}.submit-btn:hover .btn-icon{transform:translate(4px)}.divider{display:flex;align-items:center;gap:16px;margin:28px 0}.divider:before,.divider:after{content:"";flex:1;height:1px;background:var(--primary-200)}.divider span{font-size:.75rem;color:var(--primary-500);font-weight:500;text-transform:uppercase;letter-spacing:1px}.social-btns{display:flex;gap:12px}.social-btn{flex:1;padding:14px;background:none;border:2px solid var(--primary-200);border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.social-btn:hover{border-color:var(--primary-300);background:var(--primary-50);transform:translateY(-2px)}.social-btn svg{width:22px;height:22px}.footer-text{text-align:center;font-size:.9rem;color:var(--primary-600);margin-top:28px}.footer-text span{background:none;border:none;color:var(--primary-500);font-weight:600;cursor:pointer;margin-left:4px;transition:color .3s}.footer-text span:hover{color:var(--primary-700)}
`],encapsulation:2})};var fn=o=>["/",o],ft=class o{homeRoute="home";allRoomsRoute="all-rooms";settingsRoute="settings";userName=null;router=Q(Se);constructor(){try{let t=localStorage.getItem("currentUser");if(t){let e=JSON.parse(t);this.userName=e.name}}catch{this.userName=null}}logout(){confirm("Do you really wish to Log out?")&&(localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth"]))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-navbar"]],decls:34,vars:10,consts:[[1,"navbar"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"flex","search-nav"],[1,"fi","fi-rr-search"],["type","text","placeholder","Have a room in mind?",1,"search"],[1,"navlinks"],["routerLinkActive","active",1,"navlink",3,"routerLink"],[1,"fi","fi-rr-home"],[1,"fi","fi-rr-couch"],["tabindex","0",1,"profile"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 9C16 10.0609 15.5786 11.0783 14.8284 11.8284C14.0783 12.5786 13.0609 13 12 13C10.9391 13 9.92172 12.5786 9.17157 11.8284C8.42143 11.0783 8 10.0609 8 9C8 7.93913 8.42143 6.92172 9.17157 6.17157C9.92172 5.42143 10.9391 5 12 5C13.0609 5 14.0783 5.42143 14.8284 6.17157C15.5786 6.92172 16 7.93913 16 9ZM14 9C14 9.53043 13.7893 10.0391 13.4142 10.4142C13.0391 10.7893 12.5304 11 12 11C11.4696 11 10.9609 10.7893 10.5858 10.4142C10.2107 10.0391 10 9.53043 10 9C10 8.46957 10.2107 7.96086 10.5858 7.58579C10.9609 7.21071 11.4696 7 12 7C12.5304 7 13.0391 7.21071 13.4142 7.58579C13.7893 7.96086 14 8.46957 14 9Z","fill","#6FA4E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 1C5.925 1 1 5.925 1 12C1 18.075 5.925 23 12 23C18.075 23 23 18.075 23 12C23 5.925 18.075 1 12 1ZM3 12C3 14.09 3.713 16.014 4.908 17.542C5.74744 16.4401 6.83015 15.5471 8.07164 14.9327C9.31312 14.3183 10.6798 13.9991 12.065 14C13.4324 13.9984 14.7821 14.3091 16.0111 14.9084C17.2402 15.5077 18.3162 16.3797 19.157 17.458C20.0234 16.3216 20.6068 14.9952 20.8589 13.5886C21.111 12.182 21.0244 10.7355 20.6065 9.36898C20.1886 8.00243 19.4512 6.75505 18.4555 5.73004C17.4598 4.70503 16.2343 3.93186 14.8804 3.47451C13.5265 3.01716 12.0832 2.88877 10.6699 3.09997C9.25652 3.31117 7.91379 3.85589 6.75277 4.68905C5.59175 5.52222 4.64581 6.61987 3.99323 7.8912C3.34065 9.16252 3.00018 10.571 3 12ZM12 21C9.93391 21.0033 7.93014 20.2926 6.328 18.988C6.97281 18.0646 7.83119 17.3107 8.83008 16.7905C9.82896 16.2702 10.9388 15.999 12.065 16C13.1772 15.999 14.2735 16.2635 15.263 16.7713C16.2524 17.2792 17.1064 18.0158 17.754 18.92C16.1395 20.267 14.1026 21.0033 12 21Z","fill","#6FA4E3"],["role","menu",1,"profile-dropdown","flex","justify-center"],[1,"pd-user","text-gray-600"],[1,"pd-link","hov","flex","items-center",3,"routerLink"],[1,"fi","fi-rr-settings",2,"padding-top","1rem","padding-right","0.25rem"],[1,"pd-link","logout","hov","flex","items-center",3,"click"],[1,"fi","fi-rr-user-logout"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),l(4,"M"),a(),w(5,"div",3),a(),r(6,"div",4)(7,"h1"),l(8,"meetin"),a()()(),r(9,"div",5),w(10,"i",6)(11,"input",7),a(),r(12,"div",8)(13,"a",9),w(14,"i",10),l(15," Home "),a(),r(16,"a",9),w(17,"i",11),l(18," All Rooms "),a(),r(19,"div",12),Ce(),r(20,"svg",13),w(21,"path",14)(22,"path",15),a(),we(),r(23,"p"),l(24,"My Profile"),a(),r(25,"div",16)(26,"div",17),l(27),a(),r(28,"a",18),l(29," Settings "),w(30,"i",19),a(),r(31,"button",20),b("click",function(){return n.logout()}),w(32,"i",21),l(33,"Logout"),a()()()()()),e&2&&(p(13),k("routerLink",Pt(4,fn,n.homeRoute)),p(3),k("routerLink",Pt(6,fn,n.allRoomsRoute)),p(11),Y(n.userName),p(),k("routerLink",Pt(8,fn,n.settingsRoute)))},dependencies:[Zn,Wn],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff;width:100vw;padding:.75rem 2rem;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;border:var(--secondary) 1px solid;box-shadow:2px 4px 8px var(--secondary)}.navlinks[_ngcontent-%COMP%]{width:max-content;display:flex;align-items:center;gap:2rem;box-sizing:border-box}.navlink[_ngcontent-%COMP%]{border-radius:20px;border:var(--primary-400) 2px solid;color:var(--primary-400);font-weight:700;text-align:center;padding:.1rem 1rem;text-decoration:none;transition:all .3s ease-in-out;display:flex;gap:.5rem;align-items:center}.navlink[_ngcontent-%COMP%]:hover{background-color:var(--primary-400);color:var(--white)}.active[_ngcontent-%COMP%]{color:var(--white);background-color:var(--primary-400)}.profile[_ngcontent-%COMP%]{color:var(--primary-400);font-weight:700;display:flex;gap:.15rem;align-items:center;position:relative;cursor:pointer}.hov[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.profile-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:1rem;background:var(--white);border:1px solid rgba(0,0,0,.08);box-shadow:0 6px 20px #0000001f;padding:.6rem;border-radius:8px;min-width:160px;z-index:500}.profile[_ngcontent-%COMP%]:hover   .profile-dropdown[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]:focus-within   .profile-dropdown[_ngcontent-%COMP%]{display:block}.profile-dropdown[_ngcontent-%COMP%]   .pd-user[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.4rem}.profile-dropdown[_ngcontent-%COMP%]   .pd-link[_ngcontent-%COMP%]{display:block;padding:.35rem 0;color:var(--primary-600);text-decoration:none;background:transparent;border:none;text-align:left;width:100%;cursor:pointer}.profile-dropdown[_ngcontent-%COMP%]   .pd-link.logout[_ngcontent-%COMP%]{color:#fb0000}.profile-dropdown[_ngcontent-%COMP%]{animation:fade-out .2s ease-out}.profile-dropdown[open][_ngcontent-%COMP%]{animation:fade-in .2s ease-out}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:0}.logo-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 20px 40px var(--primary-100)}.logo-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;color:var(--primary-600);letter-spacing:-1px}.search-nav[_ngcontent-%COMP%]{margin-left:2rem;border:var(--secondary) 1px solid;border-radius:10px;padding:.1rem .75rem;width:30%;display:none;border:2px solid var(--secondary);color:var(--slate-400)}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 .5rem;width:100%}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{outline:none}@media (min-width: 1024px){.search-nav[_ngcontent-%COMP%]{display:flex}}"]})};function ae(o){return o?typeof o=="string"?o.toString().split(":")[0]+":"+o.toString().split(":")[1]:o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):""}var Ut=class o{booking;cancelBooking=new ue;updateBooking=new ue;showDetails=new ue;startTime="";endTime="";emitCancel(){this.booking&&this.booking.id&&this.cancelBooking.emit(this.booking.id)}toggleDetails(){this.showDetails.emit(this.booking)}onUpdate(t){this.updateBooking.emit(t)}numberToTimeString(t){return`${t.toString().split(".")[0]}`.padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}ngOnInit(){this.startTime=ae(this.booking.startTime),this.endTime=ae(this.booking.endTime)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-booking-item"]],inputs:{booking:"booking"},outputs:{cancelBooking:"cancelBooking",updateBooking:"updateBooking",showDetails:"showDetails"},decls:10,vars:7,consts:[[1,"booking-item",3,"click"],[1,"main"],[1,"info"],[1,"room"],[1,"time"],[1,"id"]],template:function(e,n){e&1&&(r(0,"li",0),b("click",function(){return n.toggleDetails()}),r(1,"div",1)(2,"div",2)(3,"div",3),l(4),a(),r(5,"div",4),l(6),lt(7,"date"),a(),r(8,"div",5),l(9),a()()()()),e&2&&(p(4),Y(n.booking.title),p(2),G(" ",ct(7,4,n.booking.date,"fullDate")," "),p(3),xe("",n.booking.startTime," \u2014 ",n.booking.endTime,""))},dependencies:[ge,dt],styles:[".booking-item[_ngcontent-%COMP%]{list-style:none;margin:.5rem 0;padding:.5rem;border:1px solid #e0e0e0;border-radius:6px;background:#fff;transition:all .3s ease-in-out}.booking-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .room[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--primary-600)}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.booking-item[_ngcontent-%COMP%]:hover:not(.active){box-shadow:2px 2px 4px #d3d3d3;border:1px var(--primary-400) solid;translate:2px 4px}.booking-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.booking-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border:1px solid #bbb;background:#f7f7f7;border-radius:4px;cursor:pointer}.booking-item[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#fff5f5;border-color:#ffb0b0}.booking-item[_ngcontent-%COMP%]   .btn.details[_ngcontent-%COMP%]{background:#f5fbff;border-color:#b6ddff}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0006;z-index:1000}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;min-width:280px;max-width:90%;box-shadow:0 6px 18px #0003}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.4rem 0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{margin-top:.6rem;text-align:right}.active[_ngcontent-%COMP%]{box-shadow:2px 2px 4px #d3d3d3;border:2px var(--primary-400) solid;translate:2px 4px}"]})};function Qo(o,t){if(o&1&&(He(0),l(1),lt(2,"date"),Le()),o&2){let e=v();p(),G(" ",ct(2,1,e.booking.date,"fullDate")," ")}}function Xo(o,t){if(o&1){let e=X();He(0),r(1,"input",15),Ot("ngModelChange",function(i){C(e);let s=v();return Et(s.editStart,i)||(s.editStart=i),y(i)}),a(),r(2,"span"),l(3," \u2014 "),a(),r(4,"input",16),Ot("ngModelChange",function(i){C(e);let s=v();return Et(s.editEnd,i)||(s.editEnd=i),y(i)}),a(),Le()}if(o&2){let e=v();p(),Mt("ngModel",e.editStart),p(3),Mt("ngModel",e.editEnd)}}function Jo(o,t){if(o&1&&(r(0,"div",4)(1,"div")(2,"strong",5),l(3,"Period: "),a(),l(4),a()()),o&2){let e=v();p(4),xe("",e.startTimeString," \u2014 ",e.endTimeString,"")}}function Ko(o,t){if(o&1&&(r(0,"li",19),l(1),a()),o&2){let e=t.$implicit;p(),Y(e)}}function ei(o,t){if(o&1&&(He(0),r(1,"ul",17),A(2,Ko,2,1,"li",18),a(),Le()),o&2){let e=v();p(2),k("ngForOf",e.booking.room.amenities)}}function ti(o,t){o&1&&l(0,"\u2014")}function ni(o,t){if(o&1&&(He(0),l(1),Le()),o&2){let e=v();p(),Y(e.booking.description||"\u2014")}}function oi(o,t){if(o&1){let e=X();He(0),r(1,"textarea",20),Ot("ngModelChange",function(i){C(e);let s=v();return Et(s.editDescription,i)||(s.editDescription=i),y(i)}),a(),Le()}if(o&2){let e=v();p(),Mt("ngModel",e.editDescription)}}function ii(o,t){if(o&1){let e=X();r(0,"button",21),b("click",function(){C(e);let i=v();return y(i.startEdit())}),l(1,"Edit"),a()}}function ri(o,t){if(o&1){let e=X();r(0,"button",22),b("click",function(){C(e);let i=v();return y(i.saveEdit())}),l(1,"Save"),a()}}var Zt=class o{booking;close=new ue;update=new ue;editing=!1;editDate;editStart;editEnd;editDescription="";startTimeString="";endTimeString="";ngOnChanges(){this.booking&&(this.editDate=this.booking.date,this.editStart=this.normalizeToISOString(this.booking.startTime),this.editEnd=this.normalizeToISOString(this.booking.endTime),this.editDescription=this.booking.description||"")}isValid(){return this.booking.date>new Date}ngOnInit(){this.startTimeString=ae(this.booking.startTime),this.endTimeString=ae(this.booking.endTime)}normalizeToISOString(t){return typeof t=="string"?t.split(":")[0]+t.split(":")[1]:t.toISOString()}toLocalInput(t){if(!t)return"";let e=new Date(t),n=I=>I.toString().padStart(2,"0"),i=e.getFullYear(),s=n(e.getMonth()+1),_=n(e.getDate()),f=n(e.getHours()),M=n(e.getMinutes());return`${i}-${s}-${_}T${f}:${M}`}fromLocalInput(t){return t?new Date(t).toISOString():""}startEdit(){this.editing=!0,this.editStart=this.normalizeToISOString(this.booking.startTime),this.editEnd=this.normalizeToISOString(this.booking.endTime),this.editDescription=this.booking.description||"",this.editDate=this.booking.date}cancelEdit(){this.editing=!1}saveEdit(){let t=rt(nt({},this.booking),{startTime:this.editStart,endTime:this.editEnd,description:this.editDescription});this.update.emit(t),this.editing=!1}doClose(){this.editing=!1,this.close.emit()}timeStringtoNumber(t){let n=(typeof t=="string"?t:t.toTimeString().slice(0,5)).split(":");return parseFloat(n[0])+parseFloat(n[1])/60}numberToTimeString(t){let e=Math.floor(t).toString().padStart(2,"0"),n=Math.round((t-Math.floor(t))*60).toString().padStart(2,"0");return`${e}:${n}`}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-booking-details"]],inputs:{booking:"booking"},outputs:{close:"close",update:"update"},features:[at],decls:34,vars:12,consts:[["noAmenities",""],[1,"details-backdrop"],[1,"details-panel"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[1,"actions"],["class","btn edit",3,"click",4,"ngIf"],["class","btn save",3,"click",4,"ngIf"],[1,"btn","close",3,"click"],["type","date",3,"ngModelChange","ngModel"],["type","datetime-local",3,"ngModelChange","ngModel"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],["rows","4",3,"ngModelChange","ngModel"],[1,"btn","edit",3,"click"],[1,"btn","save",3,"click"]],template:function(e,n){if(e&1){let i=X();r(0,"div",1)(1,"div",2)(2,"h3",3),l(3),a(),r(4,"div",4)(5,"strong",5),l(6,"Date:"),a(),A(7,Qo,3,4,"ng-container",6)(8,Xo,5,2,"ng-container",6),a(),A(9,Jo,5,2,"div",7),r(10,"div",4)(11,"strong"),l(12,"Room:"),a(),l(13),a(),r(14,"div",4)(15,"strong"),l(16,"Capacity:"),a(),l(17),a(),r(18,"div",4)(19,"strong"),l(20,"Amenities:"),a(),A(21,ei,3,1,"ng-container",8)(22,ti,1,0,"ng-template",null,0,Dt),a(),r(24,"div",9)(25,"strong",10),l(26,"Description:"),a(),A(27,ni,2,1,"ng-container",6)(28,oi,2,1,"ng-container",6),a(),r(29,"div",11),A(30,ii,2,0,"button",12)(31,ri,2,0,"button",13),r(32,"button",14),b("click",function(){return C(i),y(n.doClose())}),l(33,"Close"),a()()()()}if(e&2){let i=St(23);p(3),Y(n.booking.title),p(4),k("ngIf",!n.editing),p(),k("ngIf",n.editing),p(),k("ngIf",!n.editing),p(4),G(" ",n.booking.room.name,""),p(4),G(" ",n.booking.room.capacity," people"),p(4),k("ngIf",n.booking.room.amenities&&n.booking.room.amenities.length)("ngIfElse",i),p(6),k("ngIf",!n.editing),p(),k("ngIf",n.editing),p(2),k("ngIf",!n.editing&&n.isValid()),p(),k("ngIf",n.editing)}},dependencies:[ge,ve,Te,dt,Ft,Rt,mt,Gn],styles:[".details-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}.details-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:92%;max-width:640px;box-shadow:0 10px 30px #00000040;z-index:999}.details-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem;border-bottom:var(--slate-300) 1px solid}.details-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.details-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.details-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.details-backdrop[_ngcontent-%COMP%]::backdrop{transition:all .7s ease-in}.details-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.details-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}"]})};var ai=["dialog"];function si(o,t){if(o&1&&(r(0,"div",18)(1,"div",19),l(2),a(),r(3,"div",20),l(4),a()()),o&2){let e=t.$implicit,n=t.index,i=v();Ve("today",i.isToday(e)),p(2),Y(i.dayNames[n]),p(2),Y(e.getDate())}}function li(o,t){if(o&1&&(r(0,"div",21),l(1),a()),o&2){let e=t.$implicit;p(),G(" ",e," ")}}function ci(o,t){if(o&1){let e=X();r(0,"div",25),b("click",function(){let i=C(e).$implicit,s=v().$implicit,_=v();return y(_.onTimeSlotClick(s,i))}),a()}}function di(o,t){if(o&1){let e=X();r(0,"div",26),b("click",function(){let i=C(e).$implicit,s=v(2);return y(s.toggleDetails(i))}),r(1,"div",27),l(2),a(),r(3,"div",28)(4,"span",6),l(5,"\u{1F550}"),a(),l(6),a(),r(7,"div",29)(8,"span",6),l(9,"\u{1F4CD}"),a(),l(10),a()()}if(o&2){let e=t.$implicit,n=v(2);On("background",n.randomColor())("top",n.calculatePosition(e.startTime,e.endTime).top)("height",n.calculatePosition(e.startTime,e.endTime).height),p(2),Y(e.title),p(4),xe(" ",e.startTime.toString().split(":")[0]+":"+e.startTime.toString().split(":")[1]," - ",e.endTime.toString().split(":")[0]+":"+e.endTime.toString().split(":")[1]," "),p(4),G(" ",e.room.name," ")}}function mi(o,t){if(o&1&&(r(0,"div",22),A(1,ci,1,0,"div",23)(2,di,11,10,"div",24),a()),o&2){let e=t.$implicit,n=v();Ve("today-column",n.isToday(e)),p(),k("ngForOf",n.timeSlots),p(),k("ngForOf",n.getBookingsForDay(e))}}function pi(o,t){if(o&1){let e=X();r(0,"app-booking-details",30),b("update",function(i){C(e);let s=v();return y(s.onBookingUpdate(i))})("close",function(){C(e);let i=v();return y(i.showBookingDetails=!1)}),a()}if(o&2){let e=v();k("booking",e.selectedBooking)}}function hn(o){if(typeof o=="string"){let[t,e]=o.split(":").map(Number);return t+e/60}else return o.getHours()+o.getMinutes()/60}var Wt=class o{currentWeek=new Date;weekDays=[];dayNames=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];timeSlots=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];bookings=[];bookingUpdate=new ue;dialog;showBookingDetails=!1;selectedBooking;colorValue=400;onBookingUpdate(t){this.bookingUpdate.emit(t)}ngOnInit(){this.updateWeekDays()}toggleDetails(t){this.selectedBooking=t,this.showBookingDetails=!this.showBookingDetails}updateWeekDays(){this.weekDays=this.getWeekDays(this.currentWeek)}getWeekDays(t){let e=[],n=new Date(t),i=n.getDay(),s=n.getDate()-i+(i===0?-6:1);for(let _=0;_<7;_++){let f=new Date(n);f.setDate(s+_),e.push(f)}return e}randomColor(){this.colorValue===1e3&&(this.colorValue=400);let t=`var(--primary-${this.colorValue})`;return this.colorValue+=100,t}navigateWeek(t){let e=new Date(this.currentWeek);e.setDate(e.getDate()+(t==="next"?7:-7)),this.currentWeek=e,this.updateWeekDays()}goToToday(){this.currentWeek=new Date,this.updateWeekDays()}getBookingsForDay(t){return this.bookings.filter(e=>this.isSameDay(e.date,t))}isSameDay(t,e){let n=typeof t=="string"?new Date(t):t;return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()}isToday(t){let e=typeof t=="string"?new Date(t):t,n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}calculatePosition(t,e){let s=(hn(t)-6)*80,_=(hn(e)-hn(t))*80;return{top:`${s}px`,height:`${_}px`}}formatDate(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{month:"short",day:"numeric"})}getMonthYear(){return this.weekDays[0]?.toLocaleDateString("en-US",{month:"long",year:"numeric"})||""}onTimeSlotClick(t,e){console.log("Time slot clicked:",t,e)}numberToTimeString(t){let e=Math.floor(t).toString().padStart(2,"0"),n=Math.round((t-Math.floor(t))*60).toString().padStart(2,"0");return`${e}:${n}`}timeStringtoNumber(t){if(!t)return 0;if(typeof t=="string"){let[e,n]=t.split(":").map(Number);return e+n/60}else return t.getHours()+t.getMinutes()/60}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-weekly-calendar"]],viewQuery:function(e,n){if(e&1&&Ue(ai,5),e&2){let i;Ze(i=We())&&(n.dialog=i.first)}},inputs:{bookings:"bookings"},outputs:{bookingUpdate:"bookingUpdate"},decls:27,vars:5,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"header-info"],[1,"month-year"],[1,"navigation"],[1,"nav-btn",3,"click"],[1,"icon"],[1,"today-btn",3,"click"],[1,"calendar-grid"],[1,"grid-header"],[1,"time-header"],[1,"clock-icon"],["class","day-header",3,"today",4,"ngFor","ngForOf"],[1,"grid-body"],[1,"time-column"],["class","time-slot",4,"ngFor","ngForOf"],["class","day-column",3,"today-column",4,"ngFor","ngForOf"],["style","z-index: 1000;",3,"booking","update","close",4,"ngIf"],[1,"day-header"],[1,"day-name"],[1,"day-number"],[1,"time-slot"],[1,"day-column"],["class","time-cell",3,"click",4,"ngFor","ngForOf"],["class","booking-item",3,"background","top","height","click",4,"ngFor","ngForOf"],[1,"time-cell",3,"click"],[1,"booking-item",3,"click"],[1,"booking-title"],[1,"booking-time"],[1,"booking-room"],[2,"z-index","1000",3,"update","close","booking"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"My Bookings"),a(),r(5,"p",3),l(6),a()(),r(7,"div",4)(8,"button",5),b("click",function(){return n.navigateWeek("prev")}),r(9,"span",6),l(10,"\u2039"),a()(),r(11,"button",7),b("click",function(){return n.goToToday()}),l(12,"Today"),a(),r(13,"button",5),b("click",function(){return n.navigateWeek("next")}),r(14,"span",6),l(15,"\u203A"),a()()()(),r(16,"div",8)(17,"div",9)(18,"div",10)(19,"span",11),l(20,"\u{1F550}"),a()(),A(21,si,5,4,"div",12),a(),r(22,"div",13)(23,"div",14),A(24,li,2,1,"div",15),a(),A(25,mi,3,4,"div",16),a()()(),A(26,pi,1,1,"app-booking-details",17)),e&2&&(p(6),Y(n.getMonthYear()),p(15),k("ngForOf",n.weekDays),p(3),k("ngForOf",n.timeSlots),p(),k("ngForOf",n.weekDays),p(),k("ngIf",n.showBookingDetails))},dependencies:[ge,ve,Te,Zt],styles:[".calendar-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:1.5rem;background-color:#f9fafb;min-height:100vh}.calendar-header[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;padding:1rem 1.5rem;margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0}.calendar-header[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{color:#6b7280;margin:.25rem 0 0}.calendar-header[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:transparent;border-radius:.5rem;cursor:pointer;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;cursor:pointer;font-weight:500;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.grid-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr);border-bottom:1px solid #e5e7eb}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;display:flex;align-items:center;justify-content:center}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]   .clock-icon[_ngcontent-%COMP%]{font-size:1.25rem}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;text-align:center}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]:last-child{border-right:none}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]{background-color:#eff6ff}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:var(--primary-400)}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-top:.25rem}.grid-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr)}.time-column[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb}.time-column[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;padding:.5rem;font-size:.875rem;font-weight:500;color:#6b7280}.day-column[_ngcontent-%COMP%]{border-right:1px solid #e5e7eb;position:relative}.day-column[_ngcontent-%COMP%]:last-child{border-right:none}.day-column.today-column[_ngcontent-%COMP%]{background-color:#eff6ff4d}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]{position:absolute;left:4px;right:4px;padding:.5rem;border-radius:.25rem;color:#fff;font-size:.75rem;overflow:hidden;cursor:pointer;box-shadow:0 1px 3px #0003;transition:box-shadow .2s,transform .2s}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000004d;transform:scale(1.02)}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-title[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;margin-top:.25rem;opacity:.9}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.day-column[_ngcontent-%COMP%]   .booking-blue[_ngcontent-%COMP%]{background-color:#3b82f6}.day-column[_ngcontent-%COMP%]   .booking-purple[_ngcontent-%COMP%]{background-color:#a855f7}.day-column[_ngcontent-%COMP%]   .booking-green[_ngcontent-%COMP%]{background-color:#10b981}.day-column[_ngcontent-%COMP%]   .booking-orange[_ngcontent-%COMP%]{background-color:#f97316}"]})};var ui=["select"],gi=["calendar"];function fi(o,t){if(o&1&&(r(0,"option",25),l(1),a()),o&2){let e=t.$implicit;k("value",e.id),p(),xe("",e.name," (Capacity: ",e.capacity,")")}}function hi(o,t){o&1&&(r(0,"div",26)(1,"small"),l(2,"No rooms available for your role."),a()())}function _i(o,t){o&1&&(r(0,"div",26)(1,"small"),l(2,"A room is required."),a()())}function bi(o,t){if(o&1&&(r(0,"span",43),l(1),a()),o&2){let e=t.$implicit;p(),G(" ",e," ")}}function vi(o,t){if(o&1){let e=X();r(0,"div",15)(1,"div",27)(2,"div",28)(3,"h2",29),l(4),a(),r(5,"p",30),l(6),a()(),r(7,"div",31)(8,"div",32),l(9,"Capacity"),a(),r(10,"div",33),l(11),a()()(),r(12,"div",34),A(13,bi,2,1,"span",35),a(),r(14,"div",36)(15,"button",37),b("click",function(){C(e);let i=v();return y(i.changeDate(-1))}),Ce(),r(16,"svg",5),w(17,"polyline",38),a()(),we(),r(18,"div",39)(19,"h3",40),l(20),a(),r(21,"button",41),b("click",function(){C(e);let i=v();return y(i.goToToday())}),l(22," Today "),a()(),r(23,"button",37),b("click",function(){C(e);let i=v();return y(i.changeDate(1))}),Ce(),r(24,"svg",5),w(25,"polyline",42),a()()()()}if(o&2){let e=v();p(4),Y(e.selectedRoom.name),p(2),Y(e.selectedRoom.description),p(5),G("",e.selectedRoom.capacity," people"),p(2),k("ngForOf",e.selectedRoom.amenities),p(7),G(" ",e.formatDate(e.selectedDate)," ")}}function ki(o,t){if(o&1){let e=X();r(0,"div",44),b("mousedown",function(){let i=C(e).$implicit,s=v();return y(s.onSlotMouseDown(i))})("mouseenter",function(){let i=C(e).$implicit,s=v();return y(s.onSlotMouseEnter(i))}),r(1,"div",45),l(2),a()()}if(o&2){let e=t.$implicit;Ve("booked",e.isBooked)("selected",e.isSelected)("available",!e.isBooked),p(2),Y(e.displayTime)}}function xi(o,t){if(o&1){let e=X();r(0,"div",46),b("click",function(){C(e);let i=v();return y(i.cancelBookingForm())}),r(1,"div",47),b("click",function(i){return C(e),y(i.stopPropagation())}),r(2,"h3",48),l(3,"Confirm Booking"),a(),r(4,"div",49)(5,"label",50),l(6," Selected Time "),a(),r(7,"div",51),l(8),a(),r(9,"div",52),l(10),a()(),r(11,"div",49)(12,"label",50),l(13," Title * "),a(),r(14,"input",53),b("input",function(i){C(e);let s=v();return y(s.onTitleTypeChange(i))}),a()(),r(15,"div",54)(16,"label",50),l(17," Description "),a(),r(18,"textarea",55),b("input",function(i){C(e);let s=v();return y(s.onDescriptionTypeChange(i))}),a()(),r(19,"div",56)(20,"button",57),b("click",function(){C(e);let i=v();return y(i.confirmBooking())}),l(21," Confirm Booking "),a(),r(22,"button",58),b("click",function(){C(e);let i=v();return y(i.cancelBookingForm())}),l(23," Cancel "),a()()()()}if(o&2){let e=v();p(8),xe(" ",e.formatTime(e.selectedSlots[0].time,0)," - ",e.formatTime(e.selectedSlots[e.selectedSlots.length-1].time+.5,0)," "),p(2),G(" Duration: ",e.selectedSlots.length*30," minutes "),p(4),k("value",e.bookingTitle()),p(4),k("value",e.bookingDescription())}}function _n(o){let t=o.get("startTime")?.value,e=o.get("endTime")?.value;if(!t||!e)return null;let[n,i]=(t||"").split(":").map(I=>Number(I)),[s,_]=(e||"").split(":").map(I=>Number(I)),f=n+i/60;return s+_/60>f?null:{endBeforeStart:!0}}function Ct(o){let[t,e]=o.toString().split(":").map(Number);return t+":"+e}var $t=class o{created=new ue;close=new ue;roomDropDown;calendar;fb=Q(pt);bookingService=Q(Je);roomService=Q(Ke);currentUser;timeSlots=[];selectedSlots=[];isSelecting=!1;className="";selectedDate=new Date;showBookingForm=!1;bookingTitle=Ne("");bookingDescription=Ne("");availableRooms=[];roomBookings;selectedRoom;form=this.fb.group({title:["",[fe.required,fe.minLength(2)]],date:["",fe.required],startTime:["",fe.required],endTime:["",fe.required],roomId:["",fe.required],description:[""]},{validators:_n});constructor(){let t=new Date}onTitleTypeChange(t){let e=t.target;this.bookingTitle.set(e.value)}onDescriptionTypeChange(t){let e=t.target;this.bookingDescription.set(e.value)}toDateInput(t){let e=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}get f(){return this.form.controls}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.roomService.getRooms().subscribe({next:t=>{console.log(t),console.log(this.currentUser.roleName);for(let e of t)for(let n of e.allowedRoles)n===this.currentUser.roleName&&e.active&&this.availableRooms.push(e)},error:t=>alert(t)}),this.onSelectChange()}onSelectChange(){let t=this.roomDropDown.nativeElement.value;this.bookingService.getBookingsByRoom(t).subscribe({next:e=>{this.roomBookings=e,console.log(this.roomBookings),this.generateTimeSlots()},error:e=>alert(e)}),this.selectedRoom=this.availableRooms.find(e=>String(e.id)===t)}timeStringToHourNumber(t){if(!t)return 0;let[e,n]=t.split(":").map(Number);return e+n/60}onClose(){this.close.emit()}generateTimeSlots(){this.timeSlots=[];let t=this.timeStringToHourNumber(Ct(this.selectedRoom.openTime)),e=this.timeStringToHourNumber(Ct(this.selectedRoom.closeTime));for(let n=t;n<e&&!(n>=20);n+=.5){let i={time:n,displayTime:this.formatTime(n,n+.5),isBooked:this.isSlotBooked(n),isSelected:!1};n<new Date().getHours()+new Date().getMinutes()/60-.5&&new Date>=this.selectedDate&&(i.isBooked=!0),this.timeSlots.push(i)}}formatTime(t,e){let n=Math.floor(t),i=t%1*60;if(e==0)return`${n}:${i.toString().padStart(2,"0")}`;let s=Math.floor(e),_=e%1*60;return`${n>12?n:n===0?12:n}:${i.toString().padStart(2,"0")} - ${s}:${_.toString().padStart(2,"0")}`}isSlotBooked(t){for(let e of this.roomBookings)if(this.isSameDate(e.date,this.selectedDate)&&t>=Number(ae(e.startTime).split(":")[0])+Number(ae(e.startTime).split(":")[1])/60&&t<Number(ae(e.endTime).split(":")[0])+Number(ae(e.endTime).split(":")[1])/60)return!0;return!1}isSameDate(t,e){let[n,i,s]=t.toString().split("-");return Number(n)===e.getFullYear()&&Number(i)===e.getMonth()+1&&Number(s)===e.getDate()}onSlotMouseDown(t){t.isBooked||(this.isSelecting=!0,this.selectedSlots=[t],t.isSelected=!0)}onSlotMouseEnter(t){if(!this.isSelecting||t.isBooked)return;let e=this.selectedSlots[0],n=this.timeSlots.indexOf(e),i=this.timeSlots.indexOf(t);this.timeSlots.forEach(f=>f.isSelected=!1);let s=Math.min(n,i),_=Math.max(n,i);this.selectedSlots=[];for(let f=s;f<=_&&!this.timeSlots[f].isBooked;f++)this.timeSlots[f].isSelected=!0,this.selectedSlots.push(this.timeSlots[f])}onSlotMouseUp(){this.isSelecting=!1,this.selectedSlots.length>0&&(this.showBookingForm=!0)}confirmBooking(){if(this.selectedSlots.length===0||!this.bookingTitle().trim()){alert("Please provide a title for the booking");return}let t=Math.min(...this.selectedSlots.map(i=>i.time)),e=Math.max(...this.selectedSlots.map(i=>i.time))+.5,n={id:"",room:this.selectedRoom,date:new Date(this.selectedDate),startTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(t)+":"+t%1*60)),endTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(e)+":"+e%1*60)),title:this.bookingTitle(),description:this.bookingDescription(),userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0,active:!0};this.created.emit(n),this.roomBookings.push(n),this.cancelBookingForm(),this.generateTimeSlots(),console.log({startTime:t,endTime:e})}cancelBookingForm(){this.showBookingForm=!1,this.bookingTitle.set(""),this.bookingDescription.set(""),this.selectedSlots.forEach(t=>t.isSelected=!1),this.selectedSlots=[]}isFirstSlotOfBooking(t){return t.time===Number(ae(t.booking.startTime).split(":")[0])+Number(ae(t.booking.startTime).split(":")[1])/60}changeDate(t){let e=new Date(this.selectedDate);e.setDate(e.getDate()+t);let n=new Date().setDate(new Date().getDate()-1);e<=new Date(n)||(this.selectedDate=e,this.generateTimeSlots())}goToToday(){this.selectedDate=new Date,this.generateTimeSlots()}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}closeModal(){this.close.emit()}onModalClick(t){t.stopPropagation()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-new-booking"]],viewQuery:function(e,n){if(e&1&&(Ue(ui,5),Ue(gi,5)),e&2){let i;Ze(i=We())&&(n.roomDropDown=i.first),Ze(i=We())&&(n.calendar=i.first)}},outputs:{created:"created",close:"close"},decls:31,vars:7,consts:[["dialog",""],["select",""],[1,"modal-backdrop"],[1,"modal-panel","calendar-modal-content"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"header"],[3,"formGroup"],[1,"flex","justify-between","items-center"],["formControlName","roomId","required","",1,"rooms",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],[1,"modal-header"],[1,"instruction-banner"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"inline","mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"calendar-content"],[1,"",2,"user-select","none",3,"mouseup","mouseleave"],["class","time-slot",3,"booked","selected","available","mousedown","mouseenter",4,"ngFor","ngForOf"],["class","booking-form-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"error"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex-1"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-gray-600","py-2",2,"width","80%"],[1,"text-right","mr-5"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","duration"],[1,"flex","flex-wrap","gap-2"],["class","px-3 py-1 amenity",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between",2,"margin-top","0.5rem","padding-top","0.5rem","border-top","1px solid var(--slate-300)"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["points","15 18 9 12 15 6"],[1,"flex","gap-4","items-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-sm","bg-blue-400","text-white","rounded-lg","hover:bg-blue-400","hover:cursor-pointer",2,"padding","0.25rem",3,"click"],["points","9 18 15 12 9 6"],[1,"px-3","py-1","amenity"],[1,"time-slot",3,"mousedown","mouseenter"],[1,"time-label"],[1,"booking-form-overlay",3,"click"],[1,"booking-form-content",3,"click"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-lg","font-semibold","duration"],[1,"text-sm","text-gray-600","mt-1"],["type","text","placeholder","Enter booking title",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"mb-6"],["rows","3","placeholder","Enter booking description (optional)",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"flex","gap-3"],[1,"flex-1","btn","save",3,"click"],[1,"flex-1","btn","close",3,"click"]],template:function(e,n){if(e&1){let i=X();r(0,"div",2,0)(2,"div",3)(3,"button",4),b("click",function(){return C(i),y(n.onClose())}),Ce(),r(4,"svg",5),w(5,"line",6)(6,"line",7),a()(),we(),r(7,"h3",8),l(8,"Create new booking"),a(),r(9,"form",9)(10,"div",10)(11,"select",11,1),b("change",function(){return C(i),y(n.onSelectChange())}),r(13,"option",12),l(14,"Select a room to book "),a(),A(15,fi,2,3,"option",13),a()(),A(16,hi,3,0,"div",14)(17,_i,3,0,"div",14)(18,vi,26,5,"div",15),r(19,"div",16),Ce(),r(20,"svg",17),w(21,"circle",18)(22,"line",19)(23,"line",20),a(),we(),r(24,"strong"),l(25,"How to book:"),a(),l(26," Click or drag to select consecutive 30-minute time slots "),a(),r(27,"div",21)(28,"div",22),b("mouseup",function(){return C(i),y(n.onSlotMouseUp())})("mouseleave",function(){return C(i),y(n.isSelecting=!1)}),A(29,ki,3,7,"div",23),a()()()()(),A(30,xi,24,5,"div",24)}e&2&&(p(9),k("formGroup",n.form),p(6),k("ngForOf",n.availableRooms),p(),k("ngIf",n.availableRooms.length===0),p(),k("ngIf",n.f.roomId.touched&&n.f.roomId.invalid),p(),Fe(n.selectedRoom?18:-1),p(11),k("ngForOf",n.timeSlots),p(),k("ngIf",n.showBookingForm))},dependencies:[ge,ve,Te,ut,Bt,Yn,Qn,qn,mt,It,Xn,Nt,Vt],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}select[_ngcontent-%COMP%]:focus{border:2px solid var(--slate-300);outline:none}.modal-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:70vw;height:90vh;box-shadow:0 10px 30px #00000040;z-index:999}.modal-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem}.modal-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.modal-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.modal-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:12px;cursor:pointer;transition:all .3s ease-in-out}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-panel[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{overflow-y:scroll}.edit[_ngcontent-%COMP%]{border:2px solid var(--slate-300);background-color:var(--slate-500);color:#fff}.close[_ngcontent-%COMP%]{border:2px solid var(--slate-500);color:var(--slate-500);background:none}.save[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-400),var(--primary-600));color:var(--white)}.modal-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.modal-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.rooms[_ngcontent-%COMP%]{border:1px solid var(--slate-300);color:var(--slate-500);border-radius:10px;width:100%;padding:.25rem}.error[_ngcontent-%COMP%]{color:red}.close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px #0000001a}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.instruction-banner[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #bfdbfe;padding:12px 16px;margin:16px 24px;border-radius:8px;color:#1e40af;font-size:14px}.calendar-content[_ngcontent-%COMP%]{padding:24px;flex:1}.time-slot[_ngcontent-%COMP%]{position:relative;height:60px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:4px;display:flex;align-items:center;padding:0 12px;transition:all .2s;cursor:pointer}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#eff6ff;border-color:#3b82f6}.time-slot.selected[_ngcontent-%COMP%]{background-color:#dbeafe;border-color:#3b82f6;border-width:2px}.time-slot.booked[_ngcontent-%COMP%]{background-color:var(--secondary);cursor:not-allowed;opacity:.6}.time-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#4b5563;z-index:1}.booking-card[_ngcontent-%COMP%]{position:absolute;inset:0;padding:12px;color:#fff;border-radius:8px;pointer-events:none;box-shadow:0 2px 8px #0000001a;z-index:2;overflow:hidden}.booking-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:4px}.booking-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px}.booking-description[_ngcontent-%COMP%]{font-size:11px;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-form-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.booking-form-content[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;width:40vw;max-height:60vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000004d}.booking-form-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:.5rem;font-weight:700}.booking-form-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .booking-form-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.25rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none}.calendar-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:70vw;max-height:90vh;overflow:hidden;box-shadow:0 20px 25px -5px #0003;display:flex;flex-direction:column;position:relative;margin:auto}.duration[_ngcontent-%COMP%]{color:var(--primary-500)}"]})};var Ci=["searchInput"],yi=["sortSelect"],wi=["details"],Ti=["options"];function Si(o,t){o&1&&(r(0,"h2",13),l(1,"Your bookings"),a())}function Mi(o,t){if(o&1){let e=X();r(0,"div",22)(1,"input",23,0),b("input",function(i){C(e);let s=v();return y(s.searchBooking(i))}),a(),r(3,"button",24),w(4,"i",25),a()()}}function Ei(o,t){if(o&1){let e=X();r(0,"select",26,1),b("change",function(){C(e);let i=v();return y(i.sortBookings())}),r(2,"option",27),l(3,"Latest"),a(),r(4,"option",28),l(5,"Oldest"),a()()}}function Oi(o,t){if(o&1){let e=X();r(0,"div",19)(1,"app-weekly-calendar",29),b("bookingUpdate",function(i){C(e);let s=v();return y(s.onUpdateBooking(i))}),a()()}if(o&2){let e=v();p(),k("bookings",e.bookings)}}function Pi(o,t){o&1&&(r(0,"p",34),l(1,"No bookings yet."),a())}function Di(o,t){if(o&1){let e=X();r(0,"app-booking-item",35),b("click",function(){let i=C(e).$index,s=v(2);return y(s.handleClick(i))})("showDetails",function(i){C(e);let s=v(2);return y(s.onShowBookingDetails(i))})("cancelBooking",function(i){C(e);let s=v(2);return y(s.onCancel(i))})("updateBooking",function(i){C(e);let s=v(2);return y(s.onUpdateBooking(i))}),a()}if(o&2){let e=t.$implicit,n=t.$index;k("id","book-"+n)("booking",e)}}function Ri(o,t){o&1&&(r(0,"p"),l(1,"Click a booking to see the details here."),a())}function Ii(o,t){if(o&1){let e=X();r(0,"div",38,4)(2,"div",45),b("click",function(){C(e);let i=v(3);return y(i.doClose())}),l(3,"Clear"),a(),r(4,"div"),l(5,"Edit"),a(),r(6,"div",46),b("click",function(){C(e);let i=v(3);return y(i.onCancel(i.bookingDetails.id))}),l(7,"Cancel"),a()()}}function Bi(o,t){if(o&1&&(r(0,"li",49),l(1),a()),o&2){let e=t.$implicit;p(),Y(e)}}function Ni(o,t){if(o&1&&(He(0),r(1,"ul",47),A(2,Bi,2,1,"li",48),a(),Le()),o&2){let e=v(3);p(2),k("ngForOf",e.bookingDetails.room.amenities)}}function Vi(o,t){o&1&&l(0,"\u2014")}function Fi(o,t){if(o&1){let e=X();r(0,"div",36),b("click",function(){C(e);let i=v(2);return y(i.onShowTooltips())}),w(1,"i",37),a(),A(2,Ii,8,0,"div",38),r(3,"h3",39),l(4),a(),r(5,"div",40)(6,"strong",41),l(7,"Date:"),a(),He(8),l(9),lt(10,"date"),Le(),a(),r(11,"div",40)(12,"div")(13,"strong",41),l(14,"Period: "),a(),l(15),a()(),r(16,"div",40)(17,"strong"),l(18,"Room:"),a(),l(19),a(),r(20,"div",40)(21,"strong"),l(22,"Capacity:"),a(),l(23),a(),r(24,"div",40)(25,"strong"),l(26,"Amenities:"),a(),A(27,Ni,3,1,"ng-container",42)(28,Vi,1,0,"ng-template",null,3,Dt),a(),r(30,"div",43)(31,"strong",44),l(32,"Description:"),a(),He(33),l(34),Le(),a()}if(o&2){let e=St(29),n=v(2);p(2),Fe(n.showMoreOptions?2:-1),p(2),Y(n.bookingDetails.title),p(5),G(" ",ct(10,10,n.bookingDetails.date,"fullDate")," "),p(6),xe("",n.startTimeString," \u2014 ",n.endTimeString,""),p(4),G(" ",n.bookingDetails.room.name,""),p(4),G(" ",n.bookingDetails.room.capacity," people"),p(4),k("ngIf",n.bookingDetails.room.amenities&&n.bookingDetails.room.amenities.length)("ngIfElse",e),p(7),Y(n.bookingDetails.description||"\u2014")}}function Hi(o,t){if(o&1&&(r(0,"div",20)(1,"ul",30)(2,"div"),A(3,Pi,2,0,"p",31),a(),Dn(4,Di,1,2,"app-booking-item",32,Pn),a(),r(6,"div",33,2),A(8,Ri,2,0,"p")(9,Fi,35,13),a()()),o&2){let e=v();p(3),k("ngIf",e._bookings().length===0),p(),Rn(e._bookings()),p(4),Fe(e.showDetails?9:8)}}function Li(o,t){if(o&1){let e=X();r(0,"app-new-booking",50),b("created",function(i){C(e);let s=v();return y(s.onNewCreated(i))})("close",function(){C(e);let i=v();return y(i.onNewCancelled())}),a()}}var Gt=class o{showCalendar=!1;showNewBookingModal=!1;showDetails=!1;bookingDetails;selected;showMoreOptions;currentUserSubject=new wt(JSON.parse(localStorage.getItem("currentUser")||"{}"));latest=!0;_latest=this.latest;sortSelect;details;options;searchInput=En.required("searchInput");startTimeString;endTimeString;bookings=[];_bookings=Ne([]);bookingService=Q(Je);roomService=Q(Ke);ngOnInit(){this.bookingService.getBookings().subscribe({next:t=>{this.bookings=t.filter(e=>e.userId===this.currentUserSubject.getValue().id.toString()&&(e.isActive??e.active??!0)),this.sortBookings(),this._bookings.set(this.bookings)},error:t=>{alert("Error fetching bookings "+t),console.error("error",t)}})}ngOnChanges(){this.sortBookings()}onCancel(t){confirm("Do you really want to cancel this booking ?")&&this.bookingService.cancel(t).subscribe({next:e=>{alert("Booking cancelled successfully"),location.reload()},error:e=>alert("Error occured")})}searchBooking(t){let e=t.target;if(e.value===""){this._bookings.set(this.bookings);return}let n=e.value.toLowerCase();this._bookings.set(this.bookings.filter(i=>i.title.toLowerCase().includes(n)||i.description.toLowerCase().includes(n)||i.room.name.toLowerCase().includes(n)))}handleOutClick(t){let e=t.target;this.options.nativeElement.contains(e)||(this.showMoreOptions=!1)}toggleCalendar(){this.showCalendar=!this.showCalendar}onShowBookingDetails(t){this.bookingDetails=t,this.showDetails=!0,this.startTimeString=ae(t.startTime),this.endTimeString=ae(t.endTime)}sortBookings(){this.latest=this.sortSelect.nativeElement.value==="latest",this._latest!==this.latest&&(this._latest=this.latest,this.sortElements(this.latest?-1:1))}sortElements(t){this._bookings.set(this.bookings.sort((e,n)=>e.date>=n.date&&e.startTime>n.startTime?t:-t))}onUpdateBooking(t){this.bookingService.updateBooking(parseInt(t.id,10),t).subscribe({})}openNewBookingModal(){this.showNewBookingModal=!0}closeNewBookingModal(){this.showNewBookingModal=!1}onNewCreated(t){console.log("New booking created:",t),this.bookingService.create(t),this.showNewBookingModal=!1,location.reload()}onNewCancelled(){this.showNewBookingModal=!1}doClose(){this.showDetails=!1,this.selected.firstElementChild.classList.remove("active"),this.showMoreOptions=!1}handleClick(t){this.selected&&this.selected.firstElementChild.classList.remove("active"),this.selected=document.querySelector("#book-"+t),this.selected.firstElementChild.classList.add("active")}onShowTooltips(){this.showMoreOptions=!0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-home"]],viewQuery:function(e,n){if(e&1&&(In(n.searchInput,Ci,5),Ue(yi,5),Ue(wi,5),Ue(Ti,5)),e&2){Bn();let i;Ze(i=We())&&(n.sortSelect=i.first),Ze(i=We())&&(n.details=i.first),Ze(i=We())&&(n.options=i.first)}},hostBindings:function(e,n){e&1&&b("click",function(s){return n.handleOutClick(s)},!1,Sn)},features:[at],decls:22,vars:7,consts:[["search",""],["sortSelect",""],["details",""],["noAmenities",""],["options",""],[2,"width","100vw","height","100vh"],[1,"body"],[1,"",2,"font-size","2rem"],[2,"margin","0 0.5rem"],[1,"bookings"],[1,"flex","justify-between",2,"margin-bottom","0.5rem"],[1,"flex","gap-4","items-center"],["type","button",1,"calendar-button",3,"click"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],["class","flex search-nav",4,"ngIf"],["class","latest",3,"change",4,"ngIf"],[1,"new-booking",3,"click"],[1,"flex"],[2,"width","100%","height","100%"],[1,"book-wrapper","flex","gap-2"],[3,"created","close",4,"ngIf"],[1,"flex","search-nav"],["type","text","placeholder","Search a room...",1,"search",3,"input"],[1,"search-book"],[1,"fi","fi-rr-search"],[1,"latest",3,"change"],["value","latest","selected",""],["value","oldest"],[3,"bookingUpdate","bookings"],[1,"booking-list"],["style","margin: 2rem 0;","class","text-center m-5 text-gray-400",4,"ngIf"],[3,"id","booking"],[1,"booking-details","no-navbar"],[1,"text-center","m-5","text-gray-400",2,"margin","2rem 0"],[3,"click","showDetails","cancelBooking","updateBooking","id","booking"],[1,"tooltip",3,"click"],[1,"fi","fi-rr-menu-dots-vertical"],["role","menu",1,"options"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[3,"click"],[1,"cancel",3,"click"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],[3,"created","close"]],template:function(e,n){e&1&&(r(0,"div",5),w(1,"app-navbar"),r(2,"div",6)(3,"h1",7),l(4,"Welcome back, "),r(5,"span",8),l(6),a()(),r(7,"section",9)(8,"div",10)(9,"div",11)(10,"button",12),b("click",function(){return n.toggleCalendar()}),l(11),a(),A(12,Si,2,0,"h2",13),a(),r(13,"div",14),A(14,Mi,5,0,"div",15)(15,Ei,6,0,"select",16),r(16,"button",17),b("click",function(){return n.openNewBookingModal()}),l(17,"+ New Booking"),a()()(),r(18,"div",18),A(19,Oi,2,1,"div",19)(20,Hi,10,2,"div",20),a()()(),A(21,Li,1,0,"app-new-booking",21),a()),e&2&&(p(6),G("",n.currentUserSubject.getValue().name.substring(0,1).toUpperCase()+n.currentUserSubject.getValue().name.substring(1).toLowerCase()," !"),p(5),G(" ",n.showCalendar?"Hide Calendar":"Show Calendar"," "),p(),Fe(n.showCalendar?-1:12),p(2),k("ngIf",!n.showCalendar),p(),k("ngIf",!n.showCalendar),p(4),Fe(n.showCalendar?19:20),p(2),k("ngIf",n.showNewBookingModal))},dependencies:[ft,Ut,ge,ve,Te,dt,Wt,$t],styles:[".body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}.book-wrapper[_ngcontent-%COMP%]{width:100%;height:50vh;justify-content:space-between}.booking-list[_ngcontent-%COMP%]{width:50%;height:100%;overflow-y:auto;padding-right:1rem}.booking-details[_ngcontent-%COMP%]{overflow-y:auto;background:var(--white);border:1px solid var(--secondary);padding:1rem;justify-self:flex-end;width:50%;height:100%;border-radius:10px;margin:1rem 0;margin:.5rem 0 1rem 1rem;box-shadow:1px 1px 4px #d3d3d3;position:relative;transition:all .3s ease-in-out}.booking-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-600);text-align:center;padding-bottom:.5rem;border-bottom:var(--slate-300) 1px solid}.booking-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.5rem 0}.booking-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.booking-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:var(--slate-500)}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}@media screen and (min-width: 768px){.book-wrapper[_ngcontent-%COMP%]{height:60vh}}.tooltip[_ngcontent-%COMP%]{position:absolute;right:.4rem;top:.5rem;padding:.1rem .3rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--primary-700);box-sizing:content-box;transition:all .3s ease-in-out}.tooltip[_ngcontent-%COMP%]:hover{border-radius:999px;background-color:var(--primary-50)}.options[_ngcontent-%COMP%]{position:absolute;background-color:var(--white);border:1px var(--slate-300) solid;right:.75rem;top:.75rem;border-radius:12px;color:var(--slate-500);box-shadow:1px 2px 8px #d3d3d3;display:block}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.25rem 1rem;cursor:pointer}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover:not(.cancel){background-color:#f5f5f5}.options[_ngcontent-%COMP%]{animation:fade-out .4s ease-out}.options[open][_ngcontent-%COMP%]{animation:fade-in .4s ease-out}.cancel[_ngcontent-%COMP%]{color:red;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.cancel[_ngcontent-%COMP%]:hover{background-color:red;color:#fff0f0}"]})};var qt=class o{room;book=new ue;viewDetails=new ue;ngOnInit(){this.room=rt(nt({},this.room),{openTime:ae(this.room.openTime),closeTime:ae(this.room.closeTime)})}onBook(){this.book.emit(this.room),console.log("Book event emitted for room:",this.room)}onViewDetails(){this.viewDetails.emit(this.room)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-room-card"]],inputs:{room:"room"},outputs:{book:"book",viewDetails:"viewDetails"},decls:15,vars:4,consts:[[1,"room-card"],[1,"image-header"],[1,"fi","fi-rr-couch"],[1,"header"],[1,"times"],[1,"meta"],[1,"actions"],[1,"btn","primary",3,"click"],[1,"btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),w(2,"i",2),a(),r(3,"div",3)(4,"h4"),l(5),a(),r(6,"div",4),l(7),a(),r(8,"div",5),l(9),a()(),r(10,"div",6)(11,"button",7),b("click",function(){return n.onBook()}),l(12,"Book"),a(),r(13,"button",8),b("click",function(){return n.onViewDetails()}),l(14,"View details"),a()()()),e&2&&(p(5),Y(n.room.name),p(2),xe("",n.room.openTime," \u2014 ",n.room.closeTime,""),p(2),G("Capacity: ",n.room.capacity," people"))},dependencies:[ge],styles:[".room-card[_ngcontent-%COMP%]{border:1px solid #e6e6e6;box-shadow:2px 4px 8px #0000001a;padding:.8rem;border-radius:8px;background:var(--white);display:flex;margin:1rem .5rem;flex-direction:column;gap:.6rem;transition:all .3s ease-in-out;width:12rem;cursor:pointer}.room-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.room-card[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.room-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#777;font-size:.85rem}.room-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.room-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:6px;border:1px solid #bbb;cursor:pointer}.room-card[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:#fff;border:none}.room-card[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_float 1s ease-in-out infinite}.image-header[_ngcontent-%COMP%]{width:100%;height:200px;background:var(--primary-400);border-radius:8px;display:flex;justify-content:center;align-items:center}.image-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--white)}.actions[_ngcontent-%COMP%]{align-self:flex-end}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0)}50%{transform:translateY(10px)}to{transform:translateY(0)}}"]})};function Ai(o,t){if(o&1&&(r(0,"li",5),l(1),a()),o&2){let e=t.$implicit;p(),Y(e)}}var Yt=class o{room;close=new ue;ngOnInit(){console.log(this.room)}closePanel(){this.close.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-room-details"]],inputs:{room:"room"},outputs:{close:"close"},decls:28,vars:6,consts:[[1,"side-panel-backdrop"],[1,"side-panel"],[1,"close",3,"click"],[1,"row"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"aside",1)(2,"button",2),b("click",function(){return n.closePanel()}),l(3,"\u2715"),a(),r(4,"h3"),l(5),a(),r(6,"div",3)(7,"strong"),l(8,"Opens at:"),a(),l(9),a(),r(10,"div",3)(11,"strong"),l(12,"Closes at:"),a(),l(13),a(),r(14,"div",3)(15,"strong"),l(16,"Capacity:"),a(),l(17),a(),r(18,"div",3)(19,"strong"),l(20,"Amenities:"),a(),r(21,"ul"),A(22,Ai,2,1,"li",4),a()(),r(23,"div",3)(24,"strong"),l(25,"Description:"),a(),r(26,"div"),l(27),a()()()()),e&2&&(p(5),Y(n.room==null?null:n.room.name),p(4),G(" ",n.room==null?null:n.room.openTime,""),p(4),G(" ",n.room==null?null:n.room.closeTime,""),p(4),G(" ",n.room==null?null:n.room.capacity," people"),p(5),k("ngForOf",n.room==null?null:n.room.amenities),p(5),Y((n.room==null?null:n.room.description)||"\u2014"))},dependencies:[ge,ve],styles:[".side-panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:2500;display:flex;justify-content:flex-end;background:#00000059}.side-panel-backdrop[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{background:var(--white);width:360px;padding:1rem;height:100vh;box-shadow:-8px 0 24px #0003;overflow:auto}.side-panel-backdrop[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background:transparent;border:none;font-size:1.1rem;cursor:pointer}.side-panel-backdrop[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.6rem 0}.side-panel-backdrop[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;padding:.5rem 0;color:var(--slate-500);border-bottom:2px solid var(--slate-300)}.side-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.side-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}"]})};function zi(o,t){if(o&1&&(r(0,"span",34),l(1),a()),o&2){let e=t.$implicit;p(),G(" ",e," ")}}function ji(o,t){if(o&1){let e=X();r(0,"div",35),b("mousedown",function(){let i=C(e).$implicit,s=v();return y(s.onSlotMouseDown(i))})("mouseenter",function(){let i=C(e).$implicit,s=v();return y(s.onSlotMouseEnter(i))}),r(1,"div",36),l(2),a()()}if(o&2){let e=t.$implicit;Ve("booked",e.isBooked)("selected",e.isSelected)("available",!e.isBooked),p(2),Y(e.displayTime)}}function Ui(o,t){if(o&1){let e=X();r(0,"div",37),b("click",function(){C(e);let i=v();return y(i.cancelBookingForm())}),r(1,"div",38),b("click",function(i){return C(e),y(i.stopPropagation())}),r(2,"h3",39),l(3,"Confirm Booking"),a(),r(4,"div",40)(5,"label",41),l(6," Selected Time "),a(),r(7,"div",42),l(8),a(),r(9,"div",43),l(10),a()(),r(11,"div",40)(12,"label",41),l(13," Title * "),a(),r(14,"input",44),b("input",function(i){C(e);let s=v();return y(s.onTitleTypeChange(i))}),a()(),r(15,"div",45)(16,"label",41),l(17," Description "),a(),r(18,"textarea",46),b("input",function(i){C(e);let s=v();return y(s.onDescriptionTypeChange(i))}),a()(),r(19,"div",47)(20,"button",48),b("click",function(){C(e);let i=v();return y(i.confirmBooking())}),l(21," Confirm Booking "),a(),r(22,"button",49),b("click",function(){C(e);let i=v();return y(i.cancelBookingForm())}),l(23," Cancel "),a()()()()}if(o&2){let e=v();p(8),xe(" ",e.formatTime(e.selectedSlots[0].time,0)," - ",e.formatTime(e.selectedSlots[e.selectedSlots.length-1].time+.5,0)," "),p(2),G(" Duration: ",e.selectedSlots.length*30," minutes "),p(4),k("value",e.bookingTitle()),p(4),k("value",e.bookingDescription())}}var Qt=class o{created=new ue;close=new ue;selectedRoom;fb=Q(pt);bookingService=Q(Je);roomService=Q(Ke);bookings=[];timeSlots=[];selectedSlots=[];isSelecting=!1;className="";selectedDate=new Date;showBookingForm=!1;bookingTitle=Ne("");bookingDescription=Ne("");availableRooms=[];roomBookings;form=this.fb.group({title:["",[fe.required,fe.minLength(2)]],date:["",fe.required],startTime:["",fe.required],endTime:["",fe.required],roomId:["",fe.required],description:[""]},{validators:_n});constructor(){let t=new Date}ngOnChanges(){this.selectedRoom&&this.onSelectChange()}onTitleTypeChange(t){let e=t.target;this.bookingTitle.set(e.value)}onDescriptionTypeChange(t){let e=t.target;this.bookingDescription.set(e.value)}toDateInput(t){let e=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}get f(){return this.form.controls}onSelectChange(){let t=this.selectedRoom.id;this.bookingService.getBookingsByRoom(t).subscribe({next:e=>{this.roomBookings=e,console.log(this.roomBookings),this.generateTimeSlots()},error:e=>alert(e)})}timeStringToHourNumber(t){if(!t)return 0;let[e,n]=t.split(":").map(Number);return e+n/60}onClose(){this.close.emit()}generateTimeSlots(){this.timeSlots=[],console.log(this.selectedRoom);let t=this.timeStringToHourNumber(Ct(this.selectedRoom.openTime)),e=this.timeStringToHourNumber(Ct(this.selectedRoom.closeTime));for(let n=t;n<e&&!(n>=20);n+=.5){let i={time:n,displayTime:this.formatTime(n,n+.5),isBooked:this.isSlotBooked(n),isSelected:!1};n<new Date().getHours()+new Date().getMinutes()/60-.5&&new Date>=this.selectedDate&&(i.isBooked=!0),this.timeSlots.push(i)}}formatTime(t,e){let n=Math.floor(t),i=t%1*60;if(e==0)return`${n}:${i.toString().padStart(2,"0")}`;let s=Math.floor(e),_=e%1*60;return`${n>12?n:n===0?12:n}:${i.toString().padStart(2,"0")} - ${s}:${_.toString().padStart(2,"0")}`}isSlotBooked(t){for(let e of this.roomBookings)if(this.isSameDate(e.date,this.selectedDate)&&t>=Number(ae(e.startTime).split(":")[0])+Number(ae(e.startTime).split(":")[1])/60&&t<Number(ae(e.endTime).split(":")[0])+Number(ae(e.endTime).split(":")[1])/60)return!0;return!1}isSameDate(t,e){let[n,i,s]=t.toString().split("-");return Number(n)===e.getFullYear()&&Number(i)===e.getMonth()+1&&Number(s)===e.getDate()}onSlotMouseDown(t){t.isBooked||(this.isSelecting=!0,this.selectedSlots=[t],t.isSelected=!0)}onSlotMouseEnter(t){if(!this.isSelecting||t.isBooked)return;let e=this.selectedSlots[0],n=this.timeSlots.indexOf(e),i=this.timeSlots.indexOf(t);this.timeSlots.forEach(f=>f.isSelected=!1);let s=Math.min(n,i),_=Math.max(n,i);this.selectedSlots=[];for(let f=s;f<=_&&!this.timeSlots[f].isBooked;f++)this.timeSlots[f].isSelected=!0,this.selectedSlots.push(this.timeSlots[f])}onSlotMouseUp(){this.isSelecting=!1,this.selectedSlots.length>0&&(this.showBookingForm=!0)}confirmBooking(){if(this.selectedSlots.length===0||!this.bookingTitle().trim()){alert("Please provide a title for the booking");return}let t=Math.min(...this.selectedSlots.map(i=>i.time)),e=Math.max(...this.selectedSlots.map(i=>i.time))+.5,n={id:"",room:this.selectedRoom,date:new Date(this.selectedDate),startTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(t)+":"+t%1*60)),endTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(e)+":"+e%1*60)),title:this.bookingTitle(),description:this.bookingDescription(),userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0,active:!0};this.created.emit(n),this.roomBookings.push(n),this.cancelBookingForm(),this.generateTimeSlots(),console.log({startTime:t,endTime:e})}cancelBookingForm(){this.showBookingForm=!1,this.bookingTitle.set(""),this.bookingDescription.set(""),this.selectedSlots.forEach(t=>t.isSelected=!1),this.selectedSlots=[]}isFirstSlotOfBooking(t){return t.time===Number(ae(t.booking.startTime).split(":")[0])+Number(ae(t.booking.startTime).split(":")[1])/60}changeDate(t){let e=new Date(this.selectedDate);e.setDate(e.getDate()+t);let n=new Date().setDate(new Date().getDate()-1);e<=new Date(n)||(this.selectedDate=e,this.generateTimeSlots())}goToToday(){this.selectedDate=new Date,this.generateTimeSlots()}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}closeModal(){this.close.emit()}onModalClick(t){t.stopPropagation()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-room-booking-calendar"]],inputs:{selectedRoom:"selectedRoom"},outputs:{created:"created",close:"close"},features:[at],decls:47,vars:7,consts:[["dialog",""],[1,"modal-backdrop"],[1,"modal-panel","calendar-modal-content"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"header"],[1,"modal-header"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex-1"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-gray-600","py-2",2,"width","80%"],[1,"text-right","mr-5"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","duration"],[1,"flex","flex-wrap","gap-2"],["class","px-3 py-1 amenity",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between",2,"margin-top","0.5rem","padding-top","0.5rem","border-top","1px solid var(--slate-300)"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["points","15 18 9 12 15 6"],[1,"flex","gap-4","items-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-sm","bg-blue-400","text-white","rounded-lg","hover:bg-blue-400","hover:cursor-pointer",2,"padding","0.25rem",3,"click"],["points","9 18 15 12 9 6"],[1,"instruction-banner"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"inline","mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"calendar-content"],[1,"",2,"user-select","none",3,"mouseup","mouseleave"],["class","time-slot",3,"booked","selected","available","mousedown","mouseenter",4,"ngFor","ngForOf"],["class","booking-form-overlay",3,"click",4,"ngIf"],[1,"px-3","py-1","amenity"],[1,"time-slot",3,"mousedown","mouseenter"],[1,"time-label"],[1,"booking-form-overlay",3,"click"],[1,"booking-form-content",3,"click"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-lg","font-semibold","duration"],[1,"text-sm","text-gray-600","mt-1"],["type","text","placeholder","Enter booking title",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"mb-6"],["rows","3","placeholder","Enter booking description (optional)",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"flex","gap-3"],[1,"flex-1","btn","save",3,"click"],[1,"flex-1","btn","close",3,"click"]],template:function(e,n){if(e&1){let i=X();r(0,"div",1,0)(2,"div",2)(3,"button",3),b("click",function(){return C(i),y(n.onClose())}),Ce(),r(4,"svg",4),w(5,"line",5)(6,"line",6),a()(),we(),r(7,"h3",7),l(8,"Create new booking"),a(),r(9,"div",8)(10,"div",9)(11,"div",10)(12,"h2",11),l(13),a(),r(14,"p",12),l(15),a()(),r(16,"div",13)(17,"div",14),l(18,"Capacity"),a(),r(19,"div",15),l(20),a()()(),r(21,"div",16),A(22,zi,2,1,"span",17),a(),r(23,"div",18)(24,"button",19),b("click",function(){return C(i),y(n.changeDate(-1))}),Ce(),r(25,"svg",4),w(26,"polyline",20),a()(),we(),r(27,"div",21)(28,"h3",22),l(29),a(),r(30,"button",23),b("click",function(){return C(i),y(n.goToToday())}),l(31," Today "),a()(),r(32,"button",19),b("click",function(){return C(i),y(n.changeDate(1))}),Ce(),r(33,"svg",4),w(34,"polyline",24),a()()()(),we(),r(35,"div",25),Ce(),r(36,"svg",26),w(37,"circle",27)(38,"line",28)(39,"line",29),a(),we(),r(40,"strong"),l(41,"How to book:"),a(),l(42," Click or drag to select consecutive 30-minute time slots "),a(),r(43,"div",30)(44,"div",31),b("mouseup",function(){return C(i),y(n.onSlotMouseUp())})("mouseleave",function(){return C(i),y(n.isSelecting=!1)}),A(45,ji,3,7,"div",32),a()()()(),A(46,Ui,24,5,"div",33)}e&2&&(p(13),Y(n.selectedRoom.name),p(2),Y(n.selectedRoom.description),p(5),G("",n.selectedRoom.capacity," people"),p(2),k("ngForOf",n.selectedRoom.amenities),p(7),G(" ",n.formatDate(n.selectedDate)," "),p(16),k("ngForOf",n.timeSlots),p(),k("ngIf",n.showBookingForm))},dependencies:[ge,ve,Te,Ft,ut],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006;overflow-y:auto;padding:16px}select[_ngcontent-%COMP%]:focus{border:2px solid var(--slate-300);outline:none}.modal-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:70vw;height:90vh;box-shadow:0 10px 30px #00000040;z-index:999}.modal-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem}.modal-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.modal-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.modal-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:12px;cursor:pointer;transition:all .3s ease-in-out}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-panel[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-height:0;overflow:hidden}.edit[_ngcontent-%COMP%]{border:2px solid var(--slate-300);background-color:var(--slate-500);color:#fff}.close[_ngcontent-%COMP%]{border:2px solid var(--slate-500);color:var(--slate-500);background:none}.save[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-400),var(--primary-600));color:var(--white)}.modal-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.modal-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.rooms[_ngcontent-%COMP%]{border:1px solid var(--slate-300);color:var(--slate-500);border-radius:10px;width:100%;padding:.25rem}.error[_ngcontent-%COMP%]{color:red}.close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px #0000001a}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.instruction-banner[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #bfdbfe;padding:12px 16px;margin:16px 24px;border-radius:8px;color:#1e40af;font-size:14px}.calendar-content[_ngcontent-%COMP%]{padding:24px;flex:1;min-height:0;overflow-y:auto}.time-slot[_ngcontent-%COMP%]{position:relative;height:60px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:4px;display:flex;align-items:center;padding:0 12px;transition:all .2s;cursor:pointer}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#eff6ff;border-color:#3b82f6}.time-slot.selected[_ngcontent-%COMP%]{background-color:#dbeafe;border-color:#3b82f6;border-width:2px}.time-slot.booked[_ngcontent-%COMP%]{background-color:var(--secondary);cursor:not-allowed;opacity:.6}.time-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#4b5563;z-index:1}.booking-card[_ngcontent-%COMP%]{position:absolute;inset:0;padding:12px;color:#fff;border-radius:8px;pointer-events:none;box-shadow:0 2px 8px #0000001a;z-index:2;overflow:hidden}.booking-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:4px}.booking-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px}.booking-description[_ngcontent-%COMP%]{font-size:11px;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-form-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.booking-form-content[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;width:40vw;max-height:60vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000004d}.booking-form-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:.5rem;font-weight:700}.booking-form-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .booking-form-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.25rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none}.calendar-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:70vw;max-height:90vh;overflow:hidden;box-shadow:0 20px 25px -5px #0003;display:flex;flex-direction:column;position:relative;margin:auto;min-height:0}.duration[_ngcontent-%COMP%]{color:var(--primary-500)}"]})};function Zi(o,t){o&1&&(r(0,"div",21),l(1,"No rooms available for your role."),a())}function Wi(o,t){if(o&1){let e=X();r(0,"app-room-card",22),b("book",function(i){C(e);let s=v();return y(s.openBook(i))})("viewDetails",function(i){C(e);let s=v();return y(s.openDetails(i))}),a()}if(o&2){let e=t.$implicit;k("room",e)}}function $i(o,t){if(o&1){let e=X();r(0,"app-room-details",23),b("close",function(){C(e);let i=v();return y(i.closeDetails())}),a()}if(o&2){let e=v();k("room",e.selected)}}function Gi(o,t){if(o&1){let e=X();r(0,"app-room-booking-calendar",24),b("close",function(){C(e);let i=v();return y(i.closeBook())})("created",function(i){C(e);let s=v();return y(s.onBookingCreated(i))}),a()}if(o&2){let e=v();k("selectedRoom",e.selected)}}var Xt=class o{constructor(t){this.bookingService=t}roomService=Q(Ke);rooms=[];_rooms=Ne([]);selected;showBookModal=!1;showDetails=!1;currentDate=new Date;currentUser=JSON.parse(localStorage.getItem("currentUser")||"{}");ngOnInit(){this.roomService.getRooms().subscribe({next:t=>{console.log(t);for(let e of t)for(let n of e.allowedRoles)n===this.currentUser.roleName&&e.active&&this.rooms.push(e);this._rooms.set(this.rooms),console.log(this.rooms)},error:t=>alert(t)})}searchRoomName(t){let e=t.target;if(e.value===""){this._rooms.set(this.rooms);return}let n=e.value.toLowerCase();this._rooms.set(this.rooms.filter(i=>i.name.toLowerCase().includes(n)))}searchRoomOpen(t){let e=t.target;if(e.value===""){this._rooms.set(this.rooms);return}let n=e.value.toString();console.log(n),this._rooms.set(this.rooms.filter(i=>i.openTime.split(":")[0]+":"+i.openTime.split(":")[1]===n))}searchRoomClose(t){let e=t.target;if(e.value===""){this._rooms.set(this.rooms);return}let n=e.value.toString();console.log(n),this._rooms.set(this.rooms.filter(i=>i.closeTime.split(":")[0]+":"+i.closeTime.split(":")[1]===n))}searchCapacity(t){let e=t.target;if(e.value===""){this._rooms.set(this.rooms);return}let n=parseInt(e.value);console.log(n),this._rooms.set(this.rooms.filter(i=>i.capacity>=n))}openBook(t){this.selected=t,this.showBookModal=!0,console.log("selected ",this.selected)}closeBook(){this.showBookModal=!1}openDetails(t){this.selected=t,this.showDetails=!0}closeDetails(){this.showDetails=!1}onBookingCreated(t){console.log("New booking created:",t),this.bookingService.createBooking(t).subscribe({next:e=>{alert("Booking created successfully!"),location.reload()},error:e=>{alert("Error creating booking: "+e),console.error("Booking creation error:",e)}})}static \u0275fac=function(e){return new(e||o)(Mn(Je))};static \u0275cmp=re({type:o,selectors:[["app-all-rooms"]],decls:29,vars:5,consts:[[1,"page"],[1,"body"],[1,"",2,"font-size","2rem"],[1,"bookings"],[1,"flex","justify-between","mb-5"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],[1,"flex","search-nav","magic-input"],["type","text","placeholder","Search a room...",1,"search",3,"input"],[1,"search-book"],[1,"fi","fi-rr-search"],[1,"flex","items-center"],["for","",1,"text-gray-600",2,"padding","0 0.5rem"],["type","time","placeholder","Open",1,"latest",3,"change"],["type","time","placeholder","Close",1,"latest",3,"change"],["type","number","placeholder","Minimum capacity",1,"latest",3,"input"],[1,"flex","gap-5","flex-wrap",2,"width","100%","height","100%","margin-left","0.5rem"],["style","text-align: center; margin: 4rem; width: 100%;","class","text-gray-400",4,"ngIf"],[3,"room","book","viewDetails",4,"ngFor","ngForOf"],[3,"room","close",4,"ngIf"],[3,"selectedRoom","close","created",4,"ngIf"],[1,"text-gray-400",2,"text-align","center","margin","4rem","width","100%"],[3,"book","viewDetails","room"],[3,"close","room"],[3,"close","created","selectedRoom"]],template:function(e,n){e&1&&(r(0,"div",0),w(1,"app-navbar"),r(2,"div",1)(3,"h1",2),l(4),a(),r(5,"section",3)(6,"div",4)(7,"div")(8,"h2",5),l(9,"All rooms"),a()(),r(10,"div",6)(11,"div",7)(12,"input",8),b("input",function(s){return n.searchRoomName(s)}),a(),r(13,"button",9),w(14,"i",10),a()(),r(15,"div",11)(16,"label",12),l(17,"Open: "),a(),r(18,"input",13),b("change",function(s){return n.searchRoomOpen(s)}),a()(),r(19,"div",11)(20,"label",12),l(21,"Close: "),a(),r(22,"input",14),b("change",function(s){return n.searchRoomClose(s)}),a()(),r(23,"input",15),b("input",function(s){return n.searchCapacity(s)}),a()()(),r(24,"div",16),A(25,Zi,2,0,"div",17)(26,Wi,1,1,"app-room-card",18),a(),A(27,$i,1,1,"app-room-details",19)(28,Gi,1,1,"app-room-booking-calendar",20),a()()()),e&2&&(p(4),G("Welcome back, ",n.currentUser.name.substring(0,1).toUpperCase()+n.currentUser.name.substring(1).toLowerCase()," !"),p(21),k("ngIf",n._rooms().length===0),p(),k("ngForOf",n._rooms()),p(),k("ngIf",n.showDetails),p(),k("ngIf",n.showBookModal))},dependencies:[ge,ve,Te,qt,Yt,ft,Qt],styles:[".page[_ngcontent-%COMP%]{width:100vw;height:100vh}.body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}"]})};var vo=[{path:"dashboard",loadComponent:()=>import("./chunk-OKIMBRQ7.js").then(o=>o.BookingDashboardComponent)},{path:"users",loadComponent:()=>import("./chunk-R5FV2Z3G.js").then(o=>o.UserManagementComponent)},{path:"roles",loadComponent:()=>import("./chunk-YCPNCQJE.js").then(o=>o.RoleManagementComponent)},{path:"rooms",loadComponent:()=>import("./chunk-LTRRLMDD.js").then(o=>o.RoomManagementComponent)},{path:"bookings",loadComponent:()=>import("./chunk-VWRMVGSQ.js").then(o=>o.BookingManagementComponent)},{path:"calendar",loadComponent:()=>import("./chunk-Y4I3KJBB.js").then(o=>o.CalendarComponent)},{path:"settings",loadComponent:()=>import("./chunk-KWTZOPJQ.js").then(o=>o.SettingsComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}];var ht=class o{authService=Q(et);router=Q(Se);canActivate(t,e){return this.authService.isAuthenticated()?!0:this.router.createUrlTree(["/auth"],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Tt({token:o,factory:o.\u0275fac,providedIn:"root"})};var Jt=class o{router=Q(Se);location=Q(Vn);goBack(){this.location.back()}goHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-not-found"]],decls:104,vars:0,consts:[[1,"not-found-container"],[1,"content"],[1,"title-404"],[1,"illustration"],["viewBox","0 0 800 400",1,"jazz-svg"],["x","50","y","300","width","700","height","20","fill","#0f3460","opacity","0.6"],["id","spotlight1","cx","30%","cy","0%"],["offset","0%","stop-color","#6fa4e3","stop-opacity","0.4"],["offset","100%","stop-color","#6fa4e3","stop-opacity","0"],["id","spotlight2","cx","70%","cy","0%"],["offset","0%","stop-color","#93c3f3","stop-opacity","0.4"],["offset","100%","stop-color","#93c3f3","stop-opacity","0"],["cx","240","cy","200","rx","150","ry","200","fill","url(#spotlight1)"],["cx","560","cy","200","rx","150","ry","200","fill","url(#spotlight2)"],[1,"drummer"],["cx","200","cy","280","rx","30","ry","15","fill","#8b4513"],["cx","200","cy","260","rx","30","ry","40","fill","#a0522d"],["cx","240","cy","250","r","25","fill","#cd853f"],["cx","160","cy","250","r","20","fill","#cd853f"],["cx","200","cy","230","rx","20","ry","30","fill","#4a4a4a"],["cx","200","cy","200","r","15","fill","#d4a574"],["x1","200","y1","215","x2","180","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","180;175;180","dur","0.6s","repeatCount","indefinite"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite"],["x1","200","y1","215","x2","220","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","220;225;220","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["x1","180","y1","240","x2","170","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","170;165;170","dur","0.6s","repeatCount","indefinite"],["x1","220","y1","240","x2","230","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","230;235;230","dur","0.6s","repeatCount","indefinite","begin","0.3s"],[1,"sax-player"],["cx","350","cy","230","rx","22","ry","35","fill","#2c3e50"],["cx","350","cy","190","r","18","fill","#d4a574"],["d","M 360 210 Q 380 220 390 250 L 385 255 Q 375 225 365 215 Z","fill","#daa520"],["cx","390","cy","252","r","8","fill","#b8860b"],["cx","380","cy","235","r","3","fill","#000"],["cx","385","cy","242","r","3","fill","#000"],["x1","350","y1","215","x2","365","y2","225","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","350","y1","225","x2","380","y2","245","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"piano-player"],["x","440","y","250","width","80","height","50","fill","#1a1a1a","rx","5"],["x","445","y","255","width","70","height","35","fill","#f5f5f5"],["x","448","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","458","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","468","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","478","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","488","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","498","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","508","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","455","y","255","width","6","height","20","fill","#000"],["x","470","y","255","width","6","height","20","fill","#000"],["x","485","y","255","width","6","height","20","fill","#000"],["x","500","y","255","width","6","height","20","fill","#000"],["cx","480","cy","220","rx","20","ry","32","fill","#34495e"],["cx","480","cy","185","r","16","fill","#d4a574"],["x1","480","y1","205","x2","460","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","480","y1","205","x2","500","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"bass-player"],["cx","600","cy","240","rx","25","ry","60","fill","#8b4513"],["cx","600","cy","240","rx","20","ry","55","fill","#a0522d"],["x","598","y","170","width","4","height","80","fill","#654321"],["cx","600","cy","170","rx","8","ry","5","fill","#654321"],["cx","570","cy","220","rx","18","ry","30","fill","#c0392b"],["cx","570","cy","185","r","14","fill","#d4a574"],["x1","570","y1","200","x2","590","y2","210","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","570","y1","210","x2","590","y2","250","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"audience"],["x","660","y","240","width","50","height","60","fill","#654321","opacity","0.7"],["x","655","y","235","width","60","height","10","fill","#8b4513"],["cx","685","cy","255","rx","22","ry","28","fill","#5d4e37"],["cx","685","cy","220","r","18","fill","#d4a574"],["cx","710","cy","265","rx","8","ry","10","fill","#d2691e"],["cx","710","cy","262","rx","8","ry","3","fill","#8b4513"],["d","M 718 265 Q 725 265 725 270","stroke","#d2691e","stroke-width","2","fill","none"],["opacity","0.6"],["d","M 708 255 Q 706 245 708 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 708 255 Q 706 245 708 240;M 708 255 Q 710 245 708 240;M 708 255 Q 706 245 708 240","dur","2s","repeatCount","indefinite"],["d","M 712 255 Q 714 245 712 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 712 255 Q 714 245 712 240;M 712 255 Q 710 245 712 240;M 712 255 Q 714 245 712 240","dur","2s","repeatCount","indefinite","begin","0.3s"],["x1","685","y1","235","x2","705","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["x1","685","y1","240","x2","665","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["opacity","0.7",1,"musical-notes"],["x","280","y","150","fill","#6fa4e3","font-size","24","font-weight","bold"],["x","420","y","130","fill","#6fa4e3","font-size","28","font-weight","bold"],["x","540","y","145","fill","#6fa4e3","font-size","26","font-weight","bold"],["attributeName","transform","type","translate","values","0 0; 0 -20; 0 0","dur","3s","repeatCount","indefinite"],[1,"message"],[1,"subtitle"],[1,"description"],[1,"button-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"404"),a(),r(4,"div",3),Ce(),r(5,"svg",4),w(6,"rect",5),r(7,"defs")(8,"radialGradient",6),w(9,"stop",7)(10,"stop",8),a(),r(11,"radialGradient",9),w(12,"stop",10)(13,"stop",11),a()(),w(14,"ellipse",12)(15,"ellipse",13),r(16,"g",14),w(17,"ellipse",15)(18,"ellipse",16)(19,"circle",17)(20,"circle",18)(21,"ellipse",19)(22,"circle",20),r(23,"line",21),w(24,"animate",22)(25,"animate",23),a(),r(26,"line",24),w(27,"animate",25)(28,"animate",26),a(),r(29,"line",27),w(30,"animate",28),a(),r(31,"line",29),w(32,"animate",30),a()(),r(33,"g",31),w(34,"ellipse",32)(35,"circle",33)(36,"path",34)(37,"circle",35)(38,"circle",36)(39,"circle",37)(40,"line",38)(41,"line",39),a(),r(42,"g",40),w(43,"rect",41)(44,"rect",42)(45,"rect",43)(46,"rect",44)(47,"rect",45)(48,"rect",46)(49,"rect",47)(50,"rect",48)(51,"rect",49)(52,"rect",50)(53,"rect",51)(54,"rect",52)(55,"rect",53)(56,"ellipse",54)(57,"circle",55)(58,"line",56)(59,"line",57),a(),r(60,"g",58),w(61,"ellipse",59)(62,"ellipse",60)(63,"rect",61)(64,"ellipse",62)(65,"ellipse",63)(66,"circle",64)(67,"line",65)(68,"line",66),a(),r(69,"g",67),w(70,"rect",68)(71,"rect",69)(72,"ellipse",70)(73,"circle",71)(74,"ellipse",72)(75,"ellipse",73)(76,"path",74),r(77,"g",75)(78,"path",76),w(79,"animate",77),a(),r(80,"path",78),w(81,"animate",79),a()(),w(82,"line",80)(83,"line",81),a(),r(84,"g",82)(85,"text",83),l(86,"\u266A"),a(),r(87,"text",84),l(88,"\u266B"),a(),r(89,"text",85),l(90,"\u266A"),a(),w(91,"animateTransform",86),a()()(),we(),r(92,"div",87)(93,"h2",88),l(94," Got lost? Have some coffee while"),w(95,"br"),l(96,"listening to some nice jazz with me. "),a(),r(97,"p",89),l(98," The page you're looking for doesn't exist, but at least the music is good! \u2615\u{1F3B7} "),a(),r(99,"div",90)(100,"button",91),b("click",function(){return n.goBack()}),l(101," Go Back "),a(),r(102,"button",92),b("click",function(){return n.goHome()}),l(103," Home Page "),a()()()()())},styles:[".not-found-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;padding:20px}.not-found-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;max-width:900px;width:100%}.not-found-container[_ngcontent-%COMP%]   .title-404[_ngcontent-%COMP%]{font-size:clamp(80px,15vw,180px);font-weight:800;margin:0;background:linear-gradient(135deg,#6fa4e3,#93c3f3);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-5px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:40px 0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   .jazz-svg[_ngcontent-%COMP%]{width:100%;max-width:700px;height:auto}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:40px;animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:clamp(24px,5vw,36px);color:#6fa4e3;font-weight:600;margin:0 0 15px;line-height:1.4}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#a5b3c7;font-size:clamp(14px,3vw,18px);margin-bottom:40px}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}.not-found-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 40px;font-size:16px;font-weight:600;border:none;border-radius:50px;cursor:pointer;transition:all .3s ease;font-family:inherit}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#6fa4e3,#93c3f3);box-shadow:0 8px 20px #6fa4e34d}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #6fa4e366}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{color:#6fa4e3;background:transparent;border:2px solid #6fa4e3}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#6fa4e3;color:#fff}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.not-found-container[_ngcontent-%COMP%]{padding:15px}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:30px 0}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:30px}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:30px}}"]})};var ko=[{path:"",redirectTo:"/auth",pathMatch:"full"},{path:"auth",title:"User Authentication",component:jt},{path:"all-rooms",title:"All Rooms",component:Xt,canActivate:[ht]},{path:"home",title:"Home",component:Gt,canActivate:[ht]},{path:"admin",title:"Admin Panel",children:vo,canActivate:[ht]},{path:"**",redirectTo:"404"},{path:"404",title:"Page Not Found",component:Jt}];var xo=(o,t)=>{let e=Q(et),n=Q(Se),i=e.getAccessToken();return i?(o=o.clone({setHeaders:{Authorization:`Bearer ${i}`}}),console.log("\u2705 Authorization header added to request")):console.log("\u26A0\uFE0F No token found - request will be sent without auth"),t(o).pipe(wn(s=>(s.status===401?(console.error("\u{1F6AB} 401 Unauthorized - Token invalid or expired"),e.logout(),n.navigate(["/auth"])):s.status===403&&console.error("\u{1F6AB} 403 Forbidden - Access denied"),yn(()=>s))))};var Co={providers:[Nn({eventCoalescing:!0}),$n(ko),Ln(An([xo]))]};var Kt=class o{title="MeetIn-frontend";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=re({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&w(0,"router-outlet")},dependencies:[Un],encapsulation:2})};Fn(Kt,Co).catch(o=>console.error(o));
