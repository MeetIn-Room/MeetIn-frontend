<div class="dashboard-container">
    <!-- Header -->
    <app-header></app-header>

    <!-- Main Content -->
    <main class="main-content">
    
      <!-- Sidebar -->
    <app-sidebar></app-sidebar>

  <div class="sidecontent">
    <!-- Dashboard Header Section -->
    <div class="dashboard-header-section">
  <div class="dashboard-header-content">
    <div class="dashboard-title-section">
      <h1 class="dashboard-title">Booking Overview</h1>
      <p class="dashboard-subtitle">Monitor your booking performance and analytics</p>
    </div>
    
    <div class="dashboard-filters">
      <div class="date-range-filter">
        <div class="filter-header">
          <svg class="calendar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          <span>Showing data for</span>
        </div>
        <div class="date-range-picker">
          <div class="date-field-group">
            <label class="date-field-label">From</label>
            <div class="date-field-input" (click)="openDatePicker('start')">
              <span>{{ startDate | date:'MMM dd, yyyy' }}</span>
              <svg class="dropdown-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </div>
          </div>
          
          <div class="date-range-separator">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="4" y1="12" x2="20" y2="12"></line>
              <polyline points="14 6 20 12 14 18"></polyline>
            </svg>
          </div>
          
          <div class="date-field-group">
            <label class="date-field-label">To</label>
            <div class="date-field-input" (click)="openDatePicker('end')">
              <span>{{ endDate | date:'MMM dd, yyyy' }}</span>
              <svg class="dropdown-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </div>
          </div>
        </div>
        
        <div class="period-quick-filters">
          <button 
            *ngFor="let period of quickPeriods" 
            class="period-filter-btn"
            [class.active]="period.active"
            (click)="selectQuickPeriod(period)">
            {{ period.label }}
          </button>
        </div>
      </div>
    </div>
  </div>
    </div>

    <!-- Date Picker Modal -->
    <div class="date-picker-overlay" *ngIf="showDatePicker" (click)="closeDatePicker()">
  <div class="date-picker-container" (click)="$event.stopPropagation()">
    <h3>Select {{ datePickerType === 'start' ? 'Start' : 'End' }} Date</h3>
    <div class="date-picker-buttons">
      <button class="date-picker-cancel" (click)="closeDatePicker()">Cancel</button>
      <button class="date-picker-today" (click)="selectToday()">Today</button>
    </div> 
    <div class="date-picker-simple">
    </div>
  </div>
    </div>

    <!-- Stats Grid -->  
    <div class="stats-grid">
  <div *ngFor="let stat of stats; let i = index" class="stat-card" [style.--card-color]="stat.color">
    
    <div class="card-bg-shape shape-1"></div>
    <div class="card-bg-shape shape-2"></div>
    
    <!-- Main content -->
    <div class="stat-content">
      <div class="stat-header">
        <div class="title-section">
          <span class="stat-title">{{ stat.title }}</span>
          <!-- Mini sparkline trend -->
          <div class="trend-sparkline">
            <svg width="60" height="20" viewBox="0 0 60 20">
              <path [attr.d]="generateSparkline(stat.trend)" 
                    fill="none" 
                    stroke="currentColor" 
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
            </svg>
          </div>
        </div>
        
        <!-- Icon with gradient background -->
        <div class="icon-container" [style.background]="getIconGradient(stat.gradient)">
          <svg class="stat-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <ng-container [ngSwitch]="stat.icon">
              <g *ngSwitchCase="'calendar'">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </g>
              <g *ngSwitchCase="'door-open'">
                <rect x="13" y="4" width="8" height="18" rx="1"></rect>
                <path d="M13 9h.01M3 4v18"></path>
              </g>
              <g *ngSwitchCase="'users'">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </g>
              <g *ngSwitchCase="'trending-up'">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
              </g>
            </ng-container>
          </svg>
        </div>
      </div>

      <!-- Main value with growth indicator -->
      <div class="value-section">
        <div class="stat-value">{{ stat.value }}</div>
        <div class="growth-indicator" [class.positive]="stat.isPositive" [class.negative]="!stat.isPositive">
          <svg class="indicator-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none">
            <path *ngIf="stat.isPositive" d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2"/>
            <path *ngIf="!stat.isPositive" d="M12 5v14M5 12l7 7 7-7" stroke="currentColor" stroke-width="2"/>
          </svg>
          <span class="growth-text">{{ stat.change }}</span>
        </div>
      </div>

      <!-- Footer with comparison -->
      <div class="stat-footer">
        <div class="comparison">
          <span class="comparison-label">vs last month</span>
          <span class="comparison-value">{{ stat.lastMonth }}</span>
        </div>
        <div class="progress-indicator">
          <div class="progress-track">
            <div class="progress-fill" [style.width.%]="getProgressWidth(stat)"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
    </div>

    <!-- Charts Section -->
    <div class="charts-container">
  <!-- Booking Analytics -->
  <div class="chart-card enhanced-chart">
    <div class="chart-header">
      <div class="chart-title-section">
        <h3 class="chart-title">Booking Analytics</h3>
        <p class="chart-subtitle">Weekly booking trends and patterns</p>
      </div>
      <select class="chart-select">
        <option>This Week</option>
        <option>This Month</option>
        <option>This Year</option>
      </select>
    </div>
    <div class="chart-body">
      <div class="bar-chart">
        <div class="y-axis">
          <span>30</span>
          <span>25</span>
          <span>20</span>
          <span>15</span>
          <span>10</span>
          <span>5</span>
          <span>0</span>
        </div>
        <div class="chart-content">
          <div *ngFor="let data of weeklyData" class="bar-container">
            <div class="bar-wrapper">
              <div class="bar" [style.height]="getBarHeight(data.bookings)">
                <div *ngIf="isMaxBooking(data.bookings)" class="bar-label">
                  {{ data.bookings }}
                </div>
              </div>
            </div>
            <span class="bar-day">{{ data.day }}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="chart-footer">
      <div class="chart-stats">
        <div class="stat-item">
          <span class="stat-label">Peak Day</span>
          <span class="stat-value">Friday</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Avg. Bookings</span>
          <span class="stat-value">16</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Room Utilization -->
  <div class="chart-card enhanced-chart">
    <div class="chart-header">
      <div class="chart-title-section">
        <h3 class="chart-title">Room Utilization</h3>
        <p class="chart-subtitle">Monthly room occupancy rates</p>
      </div>
    </div>
    <div class="chart-body">
      <div class="utilization-chart">
        <div *ngFor="let month of monthlyUtil; let i = index" class="util-bar-group">
          <div class="util-bars">
            <div class="util-bar util-bar-occupied" [style.height]="getUtilBarHeight(i, true)"></div>
            <div class="util-bar util-bar-available" [style.height]="getUtilBarHeight(i, false)"></div>
          </div>
          <span class="util-month">{{ month }}</span>
        </div>
      </div>
    </div>
    <div class="chart-footer">
      <div class="chart-legend">
        <div class="legend-item">
          <span class="legend-color legend-color-occupied"></span>
          <span>Occupied</span>
        </div>
        <div class="legend-item">
          <span class="legend-color legend-color-available"></span>
          <span>Available</span>
        </div>
      </div>
      <div class="utilization-stats">
        <div class="stat-item">
          <span class="stat-label">Current Rate</span>
          <span class="stat-value">78%</span>
        </div>
      </div>
    </div>
  </div>
    </div>

    <!-- Recent Bookings Table -->
    <div class="enhanced-table-card">
    <div class="table-header-section">
    <div class="table-title-section">
      <h3 class="table-main-title">Recent Bookings</h3>
      <p class="table-subtitle">Manage and monitor your recent room bookings</p>
    </div>
    <div class="table-controls">
      <div class="table-search-box">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search bookings..." class="search-input" />
      </div>
      <div class="table-action-buttons">
        <button class="action-btn filter-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
          </svg>
          Filter
        </button>
        <button class="action-btn sort-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
          Sort
        </button>
        <button class="action-btn export-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
          Export
        </button>
      </div>
    </div>
    </div>

<div class="table-container">
    <table class="enhanced-bookings-table">
      <thead>
        <tr>
          <th class="checkbox-column">
            <div class="checkbox-wrapper">
              <input type="checkbox" class="table-checkbox" />
            </div>
          </th>
          <th class="booking-id-column">
            <div class="column-header">
              <span>Booking ID</span>
              <svg class="sort-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M7 15l5 5 5-5M7 9l5-5 5 5"/>
              </svg>
            </div>
          </th>
          <th class="date-column">
            <div class="column-header">
              <span>Date</span>
            </div>
          </th>
          <th class="user-column">
            <div class="column-header">
              <span>User</span>
            </div>
          </th>
          <th class="room-column">
            <div class="column-header">
              <span>Room</span>
            </div>
          </th>
          <th class="status-column">
            <div class="column-header">
              <span>Status</span>
            </div>
          </th>
          <th class="duration-column">
            <div class="column-header">
              <span>Duration</span>
            </div>
          </th>
          <th class="time-column">
            <div class="column-header">
              <span>Time Slot</span>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of recentBookings; let i = index" class="table-row">
          <td class="checkbox-cell">
            <div class="checkbox-wrapper">
              <input type="checkbox" class="table-checkbox" />
            </div>
          </td>
          <td class="booking-id-cell">
            <div class="booking-id-wrapper">
              <span class="booking-id">{{ booking.id }}</span>
            </div>
          </td>
          <td class="date-cell">
            <div class="date-wrapper">
              <span class="date-text">{{ booking.date }}</span>
            </div>
          </td>
          <td class="user-cell">
            <div class="user-wrapper">
              <div class="user-avatar-small">
                {{ booking.user.charAt(0) }}
              </div>
              <span class="user-name">{{ booking.user }}</span>
            </div>
          </td>
          <td class="room-cell">
            <div class="room-wrapper">
              <span class="room-name">{{ booking.room }}</span>
            </div>
          </td>
          <td class="status-cell">
            <div class="status-wrapper">
              <span class="status-badge-enhanced" [ngClass]="getStatusClass(booking.status)">
                <span class="status-dot"></span>
                {{ booking.status }}
              </span>
            </div>
          </td>
          <td class="duration-cell">
            <div class="duration-wrapper">
              <span class="duration-text">{{ booking.duration }}</span>
            </div>
          </td>
          <td class="time-cell">
            <div class="time-wrapper">
              <span class="time-text">{{ booking.total }}</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="table-footer">
    <div class="table-pagination">
      <button class="pagination-btn prev-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
        Previous
      </button>
      <div class="pagination-pages">
        <button class="page-btn active">1</button>
        <button class="page-btn">2</button>
        <button class="page-btn">3</button>
        <span class="page-dots">...</span>
        <button class="page-btn">8</button>
      </div>
      <button class="pagination-btn next-btn">
        Next
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
    <div class="table-summary">
      <span class="summary-text">Showing 1-8 of 1247 bookings</span>
    </div>
  </div>
</div>

  </div>
  </main>
</div>