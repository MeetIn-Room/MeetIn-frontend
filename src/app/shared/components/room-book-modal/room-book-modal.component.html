<div class="book-backdrop">
  <div class="book-panel">
    <div class="panel-head">
      <h3>Book {{ room?.name }}</h3>
      <button class="close" (click)="closePanel()">âœ•</button>
    </div>

    <div class="calendar-grid">
      <div class="header-row">
        <div class="time-col"></div>
        <div class="day-col" *ngFor="let d of weekDays">{{ d.toDateString().slice(0,10) }}</div>
      </div>

      <div class="slot-row" *ngFor="let label of slotLabels; let si = index">
        <div class="time-col">{{ label }}</div>
        <div class="day-col" *ngFor="let d of weekDays" 
             [class.booked]="isBooked(d, si)"
             [class.selected]="selectedDay && isSameDay(selectedDay, d) && si>=selectionStart && si<=selectionEnd"
             (click)="toggleSelect(d, si)">
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn" (click)="bookSelected()">Book selected</button>
      <button class="btn" (click)="clearSelection()">Clear</button>
    </div>
  </div>
</div>
