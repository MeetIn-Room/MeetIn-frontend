import{a as c}from"./chunk-UIA7XDHT.js";import{Ia as h,a,b as i,f as o,i as t,m as n,p}from"./chunk-ZIKOFR2M.js";var l=class s{http=p(h);API_URL=`${c.apiUrl}/api/users`;constructor(){}getAllUsers(){return this.http.get(this.API_URL).pipe(t(this.handleError))}createUser(e){return this.http.post(this.API_URL,e).pipe(t(this.handleError))}updateUser(e,r){return this.http.put(`${this.API_URL}/${e}`,i(a({},r),{isActive:r.active})).pipe(t(this.handleError))}deactivateUser(e){return this.http.patch(`${this.API_URL}/${e}/deactivate`,{}).pipe(t(this.handleError))}activateUser(e){return this.http.patch(`${this.API_URL}/${e}/activate`,{}).pipe(t(this.handleError))}handleError(e){let r="An error occurred";return e.error instanceof ErrorEvent?r=`Error: ${e.error.message}`:e.status===401?r="Unauthorized. Please login again.":e.status===403?r="Forbidden. You do not have permission to perform this action.":e.status===404?r="User not found.":e.error?.message?r=e.error.message:r=`Server error: ${e.status} ${e.message}`,console.error("UserService error:",r,e),o(()=>new Error(r))}static \u0275fac=function(r){return new(r||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
