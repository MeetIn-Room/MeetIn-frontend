import{a as $}from"./chunk-MOQUV3VB.js";import{a as U}from"./chunk-RLNDODGI.js";import{b as be,c as O,d as K,e as he,f as rt,g as _e,j as xe,k as ve,l as at,m as lt,n as st,q as ct,r as X,s as Ce,t as ee}from"./chunk-ZABNK476.js";import{a as mt}from"./chunk-UIA7XDHT.js";import{$ as d,A as q,Aa as P,B as Le,Ba as I,C as s,E as je,Ea as J,F as C,Fa as M,Ga as Ge,Ia as Ze,J as b,Ja as Je,Ka as Ke,La as Xe,M as g,Ma as et,N as Ue,Na as tt,O as N,Oa as V,Pa as nt,Q as R,Qa as ot,R as $e,Ra as it,S as We,T as Ye,U as o,V as i,W as p,X as z,Y as H,Z as v,_ as m,a as re,aa as A,b as ae,ba as L,ca as j,d as le,da as me,ea as l,f as ze,fa as _,ga as h,ha as T,i as He,j as Ae,ja as de,ka as pe,la as ge,m as se,oa as ue,p as x,pa as G,q as ce,qa as Z,r as u,ra as fe,s as f,sa as Qe,t as D,u as B,x as w,ya as qe,z as Q}from"./chunk-ZIKOFR2M.js";var W=class r{API_URL=mt.apiUrl+"/api/auth/login";currentUserSubject=new le(null);http=x(Ze);router=x(V);constructor(){this.loadUserFromStorage()}login(t){return this.http.post(`${this.API_URL}`,t).pipe(Ae(e=>this.handleAuthSuccess(e)))}logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/auth"])}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return!!this.getAccessToken()}getAccessToken(){let t=localStorage.getItem("accessToken");return t&&this.isTokenExpired(t)?(console.log("\u26A0\uFE0F Token expired"),this.logout(),null):t}isTokenExpired(t){try{let e=JSON.parse(atob(t.split(".")[1])),n=new Date(e.exp*1e3),a=n<new Date;return a&&console.log("\u26A0\uFE0F Token expired at:",n),a}catch(e){return console.error("\u274C Error checking token expiration",e),!0}}handleAuthSuccess(t){console.log("Auth response:",t),localStorage.setItem("currentUser",JSON.stringify(t.user)),localStorage.setItem("accessToken",t.token)}loadUserFromStorage(){let t=localStorage.getItem("accessToken"),e=localStorage.getItem("currentUser");if(t&&e)try{let n=JSON.parse(e);this.currentUserSubject.next(n)}catch(n){console.error("Error parsing stored user",n),this.logout()}}static \u0275fac=function(e){return new(e||r)};static \u0275prov=se({token:r,factory:r.\u0275fac,providedIn:"root"})};function bt(r,t){if(r&1&&(o(0,"div",41),p(1,"div",42),o(2,"div",43)(3,"h3"),l(4),i(),o(5,"p"),l(6),i()()()),r&2){let e=t.$implicit;s(),g("innerHTML",e.icon,q),s(3),_(e.title),s(2),_(e.description)}}function ht(r,t){r&1&&p(0,"span",39)}function _t(r,t){if(r&1&&p(0,"span",40),r&2){let e=d();g("innerHTML",e.icons.arrow,q)}}var ke=class r{loading=!1;loginForm;errorMessage="";returnUrl="/home";submitted=!1;emailFocused=!1;passFocused=!1;nameFocused=!1;regEmailFocused=!1;regPassFocused=!1;confirmFocused=!1;showPassword=!1;icons={};features=[];route=x(et);authService=x(W);router=x(V);fb=x(X);sanitizer=x(Xe);constructor(){this.initIcons(),this.initFeatures(),this.loginForm=this.fb.group({email:["",[O.required,O.email]],password:["",[O.required,O.minLength(6)]]})}ngOnInit(){this.setMode(!0),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home"}initIcons(){this.icons={mail:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>'),lock:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>'),user:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'),eye:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>'),eyeOff:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>'),arrow:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>'),rocket:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>'),calendar:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/></svg>'),zap:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>'),google:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>'),facebook:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#1877F2" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>'),github:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>')}}initFeatures(){this.features=[{icon:this.icons.rocket,title:"Instant Booking",description:"Reserve meeting rooms in seconds with our smart system"},{icon:this.icons.calendar,title:"Smart Scheduling",description:"AI-powered availability matching for your team"},{icon:this.icons.zap,title:"Real-time Sync",description:"Live updates and instant notifications"}]}setMode(t){this.emailFocused=!1,this.passFocused=!1,this.confirmFocused=!1}onLogin(t){t.preventDefault(),this.submitted=!0,this.loading=!0,this.loginForm.valid&&(console.log("Login:",this.loginForm.value),this.authService.login(this.loginForm.value).subscribe({next:e=>{this.returnUrl=e.user.role?.toLowerCase()==="admin"?"/admin":"/home",this.router.navigate([this.returnUrl])},error:e=>{console.error("Login error:",e),this.loading=!1,alert("Login failed. Please check your credentials and try again.")},complete:()=>{this.loading=!1}}))}get loginEmail(){return this.loginForm.get("email")}get loginPassword(){return this.loginForm.get("password")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-login"]],decls:71,vars:18,consts:[[1,"auth-page"],[1,"brand-panel"],[1,"bg-orb","orb-1"],[1,"bg-orb","orb-3"],[1,"bg-orb","orb-4"],[1,"bg-orb","orb-5"],[1,"bg-orb","orb-7"],[1,"bg-orb","orb-8"],[1,"bg-orb","orb-9"],[1,"bg-orb","orb-10"],[1,"bg-grid"],[1,"brand-content"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"tagline"],[1,"tagline-sub"],[1,"features"],["class","feature",4,"ngFor","ngForOf"],[1,"form-panel"],[1,"form-wrapper"],[1,"mobile-logo"],[1,"logo-name"],[1,"form-header"],[1,"toggle-tabs"],[1,"active","text-center"],[1,"active",3,"ngSubmit","formGroup"],[1,"magic-input"],[1,"input-icon",3,"innerHTML"],["type","email","formControlName","email",3,"focus","blur"],[1,"input-line"],[1,"input-border-animated"],[1,"input-glow"],["formControlName","password",3,"focus","blur","type"],["type","button",1,"toggle-password",3,"click"],[3,"innerHTML"],["href","#",1,"forgot-link"],["type","submit",1,"submit-btn",3,"disabled"],[1,"spinner"],[1,"btn-icon",3,"innerHTML"],[1,"feature"],[1,"feature-icon",3,"innerHTML"],[1,"feature-text"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),o(11,"div",11)(12,"div",12)(13,"div",13)(14,"span"),l(15,"M"),i(),p(16,"div",14),i(),o(17,"div",15)(18,"h1"),l(19,"meetin"),i()()(),o(20,"div",16)(21,"p",17),l(22,"Welcome to the future of"),i(),o(23,"h2"),l(24,"Meeting"),p(25,"br"),o(26,"span"),l(27,"Management"),i()()(),o(28,"div",18),b(29,bt,7,3,"div",19),i()()(),o(30,"div",20)(31,"div",21)(32,"div",22)(33,"div",13)(34,"span"),l(35,"M"),i()(),o(36,"span",23),l(37,"meetin"),i()(),o(38,"div",24)(39,"h2"),l(40,"Welcome back"),i(),o(41,"p"),l(42,"Enter your credentials to access your account"),i()(),o(43,"div",25)(44,"div",26),l(45,"Sign In"),i()(),o(46,"form",27),m("ngSubmit",function(c){return n.onLogin(c)}),o(47,"div",28),p(48,"div",29),o(49,"label"),l(50,"Email Address"),i(),o(51,"input",30),m("focus",function(){return n.emailFocused=!0})("blur",function(){return n.emailFocused=!1}),i(),p(52,"div",31)(53,"div",32)(54,"div",33),i(),o(55,"div",28),p(56,"div",29),o(57,"label"),l(58,"Password"),i(),o(59,"input",34),m("focus",function(){return n.passFocused=!0})("blur",function(){return n.passFocused=!1}),i(),o(60,"button",35),m("click",function(){return n.showPassword=!n.showPassword}),p(61,"span",36),i(),p(62,"div",31)(63,"div",32)(64,"div",33),i(),o(65,"a",37),l(66,"Forgot password?"),i(),o(67,"button",38),l(68),b(69,ht,1,0,"span",39)(70,_t,1,1,"span",40),i()()()()()),e&2&&(s(29),g("ngForOf",n.features),s(17),g("formGroup",n.loginForm),s(),N("focused",n.emailFocused)("filled",n.loginEmail.value),s(),g("innerHTML",n.icons.mail,q),s(7),N("focused",n.passFocused)("filled",n.loginPassword.value),s(),g("innerHTML",n.icons.lock,q),s(3),g("type",n.showPassword?"text":"password"),s(2),g("innerHTML",n.showPassword?n.icons.eyeOff:n.icons.eye,q),s(6),g("disabled",n.loginForm.invalid),s(),h(" ",n.loading?"Logging in...":"Log In"," "),s(),R(n.loading?69:-1),s(),R(n.loading?-1:70))},dependencies:[M,P,ee,_e,be,K,he,xe,ve],styles:[`*{margin:0;padding:0;box-sizing:border-box}.auth-page{display:flex}.brand-panel{display:none;width:50%;position:relative;overflow:visible;padding:3rem;margin:0;background:linear-gradient(135deg,var(--primary-600) 0%,var(--primary-800) 100%),linear-gradient(135deg,var(--primary-700) 0%,var(--primary-900) 100%)}@media (min-width: 1024px){.brand-panel{display:flex;align-items:center;overflow:visible}}.bg-orb{position:absolute;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:0}@keyframes moveDiagonal1{0%,to{transform:translate(0)}25%{transform:translate(20vw,15vh)}50%{transform:translate(15vw,25vh)}75%{transform:translate(5vw,20vh)}}@keyframes moveWave{0%,to{transform:translateY(0)}25%{transform:translateY(15vh)}50%{transform:translateY(5vh)}75%{transform:translateY(20vh)}}.orb-4{width:450px;height:450px;top:5%;left:-20%;background:var(--primary-900);animation:pulse 6s ease-in-out infinite 4.5s,moveHorizontal 18s ease-in-out infinite}@keyframes moveHorizontal{0%,to{transform:translate(0)}25%{transform:translate(25vw)}50%{transform:translate(15vw)}75%{transform:translate(30vw)}}@keyframes moveZigzag{0%,to{transform:translate(0)}20%{transform:translate(15vw,-10vh)}40%{transform:translate(25vw,5vh)}60%{transform:translate(15vw,15vh)}80%{transform:translate(5vw,10vh)}}@keyframes moveFloat{0%,to{transform:translate(0)}20%{transform:translate(-12vw,-5vh)}40%{transform:translate(-8vw,12vh)}60%{transform:translate(10vw,8vh)}80%{transform:translate(5vw,-10vh)}}@keyframes moveBounce{0%,to{transform:translate(0)}25%{transform:translate(-15vw,10vh)}50%{transform:translate(10vw,15vh)}75%{transform:translate(-10vw,-5vh)}}@keyframes moveDrift{0%{transform:translate(0)}33%{transform:translate(40vw,-10vh)}66%{transform:translate(25vw,15vh)}to{transform:translate(0)}}@keyframes moveSpiral{0%{transform:translate(0) scale(1)}25%{transform:translate(15vw,8vh) scale(1.1)}50%{transform:translate(25vw,-5vh) scale(.9)}75%{transform:translate(10vw,-15vh) scale(1.05)}to{transform:translate(0) scale(1)}}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}.bg-grid{position:absolute;inset:0;opacity:.05;background-image:linear-gradient(var(--primary-900) 1px,transparent 1px),linear-gradient(90deg,var(--primary-200) 1px,transparent 1px);background-size:50px 50px}.brand-content{position:relative;z-index:1;max-width:480px;overflow:visible}.tagline{margin-bottom:.5rem}.tagline-sub{color:var(--primary-200);font-size:1.1rem;margin-bottom:8px}.tagline h2{font-size:3rem;font-weight:700;color:var(--white);line-height:1.1}.tagline h2 span{background:linear-gradient(135deg,var(--primary-300),var(--primary-100));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.features{display:flex;flex-direction:column;gap:16px;margin-bottom:100px}.feature{display:flex;align-items:flex-start;gap:16px;padding:20px;background:#fff3;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:16px;cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1)}.feature:hover{background:#f7fbef1a;border-color:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,.1));transform:translate(8px)}.feature-icon{width:48px;height:48px;min-width:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .4s ease}.feature-icon svg{width:24px;height:24px;stroke:var(--white)}.feature:hover .feature-icon{transform:scale(1.1) rotate(5deg)}.feature-text h3{font-size:1rem;font-weight:600;color:var(--white);transition:color .3s;padding:0;margin:0}.feature-text p{font-size:.875rem;color:var(--primary-200);line-height:1.5}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.form-panel{width:100%;display:flex;align-items:center;justify-content:center;padding:1.5rem;background:linear-gradient(135deg,var(--bg-light) 0%,var(--primary-0) 100%)!important;border-left:3px solid var(--primary-500);box-shadow:-10px 0 30px rgba(var(--black),.05)}@media (min-width: 1024px){.form-panel{width:50%}}.form-wrapper{background-color:transparent;width:100%;max-width:400px}.mobile-logo{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:3rem}.mobile-logo .logo-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600))}.mobile-logo .logo-name{font-size:2rem;font-weight:900;color:var(--primary-700)}@media (min-width: 1024px){.mobile-logo{display:none}}.form-header{margin-bottom:2rem;text-align:center}.form-header h2{font-size:1.875rem;font-weight:700;color:var(--primary-800);margin-bottom:8px}.form-header p{color:var(--primary-600);font-size:.95rem}.toggle-tabs{display:flex;background:var(--primary-100);border-radius:12px;padding:4px;margin:0 2.5rem 2.5rem;box-sizing:border-box;position:relative}.toggle-tabs div{flex:1;padding:12px;background:none;border:none;font-size:.875rem;font-weight:600;color:var(--primary-600);position:relative;z-index:1;transition:color .3s}.toggle-tabs button.active{color:var(--primary-800)}.toggle-indicator{position:absolute;top:4px;left:4px;width:calc(50% - 4px);height:calc(100% - 8px);background:var(--primary-100);border-radius:10px;box-shadow:0 2px 8px var(--primary-600);transition:transform .3s cubic-bezier(.4,0,.2,1)}.toggle-indicator.right{transform:translate(100%)}.magic-input{position:relative;margin-bottom:24px;padding-top:12px;padding-bottom:8px}.magic-input .input-icon{position:absolute;left:0;top:calc(50% + 2px);transform:translateY(-50%);width:24px;height:24px;color:var(--primary-400);transition:all .4s cubic-bezier(.4,0,.2,1)}.magic-input .input-icon svg{width:100%;height:100%}.magic-input:hover .input-icon{color:var(--primary-500)}.magic-input.focused .input-icon,.magic-input.filled .input-icon{color:var(--primary-600);transform:translateY(-50%) scale(.9)}.magic-input label{position:absolute;left:32px;top:calc(50% + 2px);transform:translateY(-50%);color:var(--primary-500);font-size:1rem;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input.focused label,.magic-input.filled label{top:0;transform:translateY(0);font-size:.75rem;color:var(--primary-600);font-weight:500}.magic-input input{width:100%;padding:8px 40px 8px 32px;background:transparent;border:none;font-size:1rem;color:var(--primary-800);outline:none;position:relative;z-index:2;caret-color:var(--primary-600)}.toggle-password{position:absolute;right:0;top:calc(50% + 2px);transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:4px;color:var(--primary-400);transition:color .3s;z-index:3}.toggle-password:hover{color:var(--primary-600)}.toggle-password svg{width:20px;height:20px}.input-line{position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--primary-200);transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input:hover .input-line{background:var(--primary-400);box-shadow:0 0 8px rgba(var(--primary-900) .3)}.magic-input.focused .input-line{background:transparent}.input-border-animated{position:absolute;top:-4px;left:-8px;width:calc(100% + 16px);height:calc(100% + 8px);border:2px solid transparent;border-radius:12px;pointer-events:none;opacity:0;clip-path:polygon(0 0,0 0,0 100%,0 100%);transition:clip-path .6s cubic-bezier(.4,0,.2,1),opacity .3s ease,border-color .3s ease}.magic-input.focused .input-border-animated{opacity:1;border-color:var(--primary-500);clip-path:polygon(0 0,100% 0,100% 100%,0 100%);animation:borderPulse 2s ease-in-out infinite}@keyframes borderPulse{0%,to{border-color:var(--primary-500);box-shadow:0 0 rgba(var(--primary-900),.1)}50%{border-color:var(--primary-400);box-shadow:0 0 0 2px rgba(var(--primary-900),.1)}}.input-glow{position:absolute;top:-8px;left:-12px;width:calc(100% + 24px);height:calc(100% + 16px);border-radius:16px;pointer-events:none;box-shadow:0 0 rgba(var(--primary-900),0);transition:box-shadow .5s cubic-bezier(.4,0,.2,1)}.magic-input.focused .input-glow{box-shadow:0 0 30px rgba(var(--primary-900),.2);animation:glowPulse 2s ease-in-out infinite}@keyframes glowPulse{0%,to{box-shadow:0 0 20px rgba(var(--primary-900),.15)}50%{box-shadow:0 0 35px rgba(var(--primary-900),.25)}}.form-fields{display:none}.form-fields.active{display:block;animation:fadeIn .3s ease-in-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.forgot-link{display:block;text-align:right;font-size:.875rem;color:var(--primary-500);text-decoration:none;margin-bottom:8px;transition:color .3s}.forgot-link:hover{color:var(--primary-700)}.submit-btn{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--primary-400),var(--primary-900));border:none;border-radius:12px;font-size:1rem;font-weight:600;color:var(--white);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 8px 24px rgba(var(--primary-700),.3);transition:all .3s cubic-bezier(.4,0,.2,1);margin-top:16px}.submit-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 12px 32px rgba(var(--primary-700),.4);background:linear-gradient(135deg,var(--primary-600),var(--primary-900))}.submit-btn:active:not(:disabled){transform:translateY(0)}.submit-btn:disabled{opacity:.5;cursor:not-allowed}.btn-icon{width:20px;height:20px;transition:transform .3s}.btn-icon svg{width:100%;height:100%}.submit-btn:hover .btn-icon{transform:translate(4px)}.divider{display:flex;align-items:center;gap:16px;margin:28px 0}.divider:before,.divider:after{content:"";flex:1;height:1px;background:var(--primary-200)}.divider span{font-size:.75rem;color:var(--primary-500);font-weight:500;text-transform:uppercase;letter-spacing:1px}.social-btns{display:flex;gap:12px}.social-btn{flex:1;padding:14px;background:none;border:2px solid var(--primary-200);border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.social-btn:hover{border-color:var(--primary-300);background:var(--primary-50);transform:translateY(-2px)}.social-btn svg{width:22px;height:22px}.footer-text{text-align:center;font-size:.9rem;color:var(--primary-600);margin-top:28px}.footer-text span{background:none;border:none;color:var(--primary-500);font-weight:600;cursor:pointer;margin-left:4px;transition:color .3s}.footer-text span:hover{color:var(--primary-700)}
`],encapsulation:2})};var Ve=r=>["/",r],te=class r{homeRoute="home";allRoomsRoute="all-rooms";settingsRoute="settings";userName=null;router=x(V);constructor(){try{let t=localStorage.getItem("currentUser");if(t){let e=JSON.parse(t);this.userName=e.name}}catch{this.userName=null}}logout(){confirm("Do you really wish to Log out?")&&(localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth"]))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-navbar"]],decls:34,vars:10,consts:[[1,"navbar"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"flex","search-nav"],[1,"fi","fi-rr-search"],["type","text","placeholder","Have a room in mind?",1,"search"],[1,"navlinks"],["routerLinkActive","active",1,"navlink",3,"routerLink"],[1,"fi","fi-rr-home"],[1,"fi","fi-rr-couch"],["tabindex","0",1,"profile"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 9C16 10.0609 15.5786 11.0783 14.8284 11.8284C14.0783 12.5786 13.0609 13 12 13C10.9391 13 9.92172 12.5786 9.17157 11.8284C8.42143 11.0783 8 10.0609 8 9C8 7.93913 8.42143 6.92172 9.17157 6.17157C9.92172 5.42143 10.9391 5 12 5C13.0609 5 14.0783 5.42143 14.8284 6.17157C15.5786 6.92172 16 7.93913 16 9ZM14 9C14 9.53043 13.7893 10.0391 13.4142 10.4142C13.0391 10.7893 12.5304 11 12 11C11.4696 11 10.9609 10.7893 10.5858 10.4142C10.2107 10.0391 10 9.53043 10 9C10 8.46957 10.2107 7.96086 10.5858 7.58579C10.9609 7.21071 11.4696 7 12 7C12.5304 7 13.0391 7.21071 13.4142 7.58579C13.7893 7.96086 14 8.46957 14 9Z","fill","#6FA4E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 1C5.925 1 1 5.925 1 12C1 18.075 5.925 23 12 23C18.075 23 23 18.075 23 12C23 5.925 18.075 1 12 1ZM3 12C3 14.09 3.713 16.014 4.908 17.542C5.74744 16.4401 6.83015 15.5471 8.07164 14.9327C9.31312 14.3183 10.6798 13.9991 12.065 14C13.4324 13.9984 14.7821 14.3091 16.0111 14.9084C17.2402 15.5077 18.3162 16.3797 19.157 17.458C20.0234 16.3216 20.6068 14.9952 20.8589 13.5886C21.111 12.182 21.0244 10.7355 20.6065 9.36898C20.1886 8.00243 19.4512 6.75505 18.4555 5.73004C17.4598 4.70503 16.2343 3.93186 14.8804 3.47451C13.5265 3.01716 12.0832 2.88877 10.6699 3.09997C9.25652 3.31117 7.91379 3.85589 6.75277 4.68905C5.59175 5.52222 4.64581 6.61987 3.99323 7.8912C3.34065 9.16252 3.00018 10.571 3 12ZM12 21C9.93391 21.0033 7.93014 20.2926 6.328 18.988C6.97281 18.0646 7.83119 17.3107 8.83008 16.7905C9.82896 16.2702 10.9388 15.999 12.065 16C13.1772 15.999 14.2735 16.2635 15.263 16.7713C16.2524 17.2792 17.1064 18.0158 17.754 18.92C16.1395 20.267 14.1026 21.0033 12 21Z","fill","#6FA4E3"],["role","menu",1,"profile-dropdown","flex","justify-center"],[1,"pd-user","text-gray-600"],[1,"pd-link","hov","flex","items-center",3,"routerLink"],[1,"fi","fi-rr-settings",2,"padding-top","1rem","padding-right","0.25rem"],[1,"pd-link","logout","hov","flex","items-center",3,"click"],[1,"fi","fi-rr-user-logout"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),l(4,"M"),i(),p(5,"div",3),i(),o(6,"div",4)(7,"h1"),l(8,"meetin"),i()()(),o(9,"div",5),p(10,"i",6)(11,"input",7),i(),o(12,"div",8)(13,"a",9),p(14,"i",10),l(15," Home "),i(),o(16,"a",9),p(17,"i",11),l(18," All Rooms "),i(),o(19,"div",12),D(),o(20,"svg",13),p(21,"path",14)(22,"path",15),i(),B(),o(23,"p"),l(24,"My Profile"),i(),o(25,"div",16)(26,"div",17),l(27),i(),o(28,"a",18),l(29," Settings "),p(30,"i",19),i(),o(31,"button",20),m("click",function(){return n.logout()}),p(32,"i",21),l(33,"Logout"),i()()()()()),e&2&&(s(13),g("routerLink",ue(4,Ve,n.homeRoute)),s(3),g("routerLink",ue(6,Ve,n.allRoomsRoute)),s(11),_(n.userName),s(),g("routerLink",ue(8,Ve,n.settingsRoute)))},dependencies:[nt,ot],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff;width:100vw;padding:.75rem 2rem;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;border:var(--secondary) 1px solid;box-shadow:2px 4px 8px var(--secondary)}.navlinks[_ngcontent-%COMP%]{width:max-content;display:flex;align-items:center;gap:2rem;box-sizing:border-box}.navlink[_ngcontent-%COMP%]{border-radius:20px;border:var(--primary-400) 2px solid;color:var(--primary-400);font-weight:700;text-align:center;padding:.1rem 1rem;text-decoration:none;transition:all .3s ease-in-out;display:flex;gap:.5rem;align-items:center}.navlink[_ngcontent-%COMP%]:hover{background-color:var(--primary-400);color:var(--white)}.active[_ngcontent-%COMP%]{color:var(--white);background-color:var(--primary-400)}.profile[_ngcontent-%COMP%]{color:var(--primary-400);font-weight:700;display:flex;gap:.15rem;align-items:center;position:relative;cursor:pointer}.hov[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.profile-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:1rem;background:var(--white);border:1px solid rgba(0,0,0,.08);box-shadow:0 6px 20px #0000001f;padding:.6rem;border-radius:8px;min-width:160px;z-index:500}.profile[_ngcontent-%COMP%]:hover   .profile-dropdown[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]:focus-within   .profile-dropdown[_ngcontent-%COMP%]{display:block}.profile-dropdown[_ngcontent-%COMP%]   .pd-user[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.4rem}.profile-dropdown[_ngcontent-%COMP%]   .pd-link[_ngcontent-%COMP%]{display:block;padding:.35rem 0;color:var(--primary-600);text-decoration:none;background:transparent;border:none;text-align:left;width:100%;cursor:pointer}.profile-dropdown[_ngcontent-%COMP%]   .pd-link.logout[_ngcontent-%COMP%]{color:#fb0000}.profile-dropdown[_ngcontent-%COMP%]{animation:fade-out .2s ease-out}.profile-dropdown[open][_ngcontent-%COMP%]{animation:fade-in .2s ease-out}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:0}.logo-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 20px 40px var(--primary-100)}.logo-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;color:var(--primary-600);letter-spacing:-1px}.search-nav[_ngcontent-%COMP%]{margin-left:2rem;border:var(--secondary) 1px solid;border-radius:10px;padding:.1rem .75rem;width:30%;display:none;border:2px solid var(--secondary);color:var(--slate-400)}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 .5rem;width:100%}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{outline:none}@media (min-width: 1024px){.search-nav[_ngcontent-%COMP%]{display:flex}}"]})};function k(r){return r?typeof r=="string"?r.toString().split(":")[0]+":"+r.toString().split(":")[1]:r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):""}var ye=class r{booking;cancelBooking=new w;updateBooking=new w;showDetails=new w;startTime="";endTime="";emitCancel(){this.booking&&this.booking.id&&this.cancelBooking.emit(this.booking.id)}toggleDetails(){this.showDetails.emit(this.booking)}onUpdate(t){this.updateBooking.emit(t)}numberToTimeString(t){return`${t.toString().split(".")[0]}`.padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}ngOnInit(){this.startTime=k(this.booking.startTime),this.endTime=k(this.booking.endTime)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-booking-item"]],inputs:{booking:"booking"},outputs:{cancelBooking:"cancelBooking",updateBooking:"updateBooking",showDetails:"showDetails"},decls:10,vars:7,consts:[[1,"booking-item",3,"click"],[1,"main"],[1,"info"],[1,"room"],[1,"time"],[1,"id"]],template:function(e,n){e&1&&(o(0,"li",0),m("click",function(){return n.toggleDetails()}),o(1,"div",1)(2,"div",2)(3,"div",3),l(4),i(),o(5,"div",4),l(6),G(7,"date"),i(),o(8,"div",5),l(9),i()()()()),e&2&&(s(4),_(n.booking.title),s(2),h(" ",Z(7,4,n.booking.date,"fullDate")," "),s(3),T("",n.startTime," \u2014 ",n.endTime,""))},dependencies:[M,J],styles:[".booking-item[_ngcontent-%COMP%]{list-style:none;margin:.5rem 0;padding:.5rem;border:1px solid #e0e0e0;border-radius:6px;background:#fff;transition:all .3s ease-in-out}.booking-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .room[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--primary-600)}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.booking-item[_ngcontent-%COMP%]:hover:not(.active){box-shadow:2px 2px 4px #d3d3d3;border:1px var(--primary-400) solid;translate:2px 4px}.booking-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.booking-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border:1px solid #bbb;background:#f7f7f7;border-radius:4px;cursor:pointer}.booking-item[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#fff5f5;border-color:#ffb0b0}.booking-item[_ngcontent-%COMP%]   .btn.details[_ngcontent-%COMP%]{background:#f5fbff;border-color:#b6ddff}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0006;z-index:1000}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;min-width:280px;max-width:90%;box-shadow:0 6px 18px #0003}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.4rem 0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{margin-top:.6rem;text-align:right}.active[_ngcontent-%COMP%]{box-shadow:2px 2px 4px #d3d3d3;border:2px var(--primary-400) solid;translate:2px 4px}"]})};function xt(r,t){if(r&1&&(z(0),l(1),G(2,"date"),H()),r&2){let e=d();s(),h(" ",Z(2,1,e.booking.date,"fullDate")," ")}}function vt(r,t){if(r&1){let e=v();z(0),o(1,"input",15),ge("ngModelChange",function(a){u(e);let c=d();return pe(c.editStart,a)||(c.editStart=a),f(a)}),i(),o(2,"span"),l(3," \u2014 "),i(),o(4,"input",16),ge("ngModelChange",function(a){u(e);let c=d();return pe(c.editEnd,a)||(c.editEnd=a),f(a)}),i(),H()}if(r&2){let e=d();s(),de("ngModel",e.editStart),s(3),de("ngModel",e.editEnd)}}function Ct(r,t){if(r&1&&(o(0,"div",4)(1,"div")(2,"strong",5),l(3,"Period: "),i(),l(4),i()()),r&2){let e=d();s(4),T("",e.startTimeString," \u2014 ",e.endTimeString,"")}}function kt(r,t){if(r&1&&(o(0,"li",19),l(1),i()),r&2){let e=t.$implicit;s(),_(e)}}function yt(r,t){if(r&1&&(z(0),o(1,"ul",17),b(2,kt,2,1,"li",18),i(),H()),r&2){let e=d();s(2),g("ngForOf",e.booking.room.amenities)}}function wt(r,t){r&1&&l(0,"\u2014")}function Mt(r,t){if(r&1&&(z(0),l(1),H()),r&2){let e=d();s(),_(e.booking.description||"\u2014")}}function St(r,t){if(r&1){let e=v();z(0),o(1,"textarea",20),ge("ngModelChange",function(a){u(e);let c=d();return pe(c.editDescription,a)||(c.editDescription=a),f(a)}),i(),H()}if(r&2){let e=d();s(),de("ngModel",e.editDescription)}}function Ot(r,t){if(r&1){let e=v();o(0,"button",21),m("click",function(){u(e);let a=d();return f(a.startEdit())}),l(1,"Edit"),i()}}function Pt(r,t){if(r&1){let e=v();o(0,"button",22),m("click",function(){u(e);let a=d();return f(a.saveEdit())}),l(1,"Save"),i()}}var we=class r{booking;close=new w;update=new w;editing=!1;editDate;editStart;editEnd;editDescription="";startTimeString="";endTimeString="";ngOnChanges(){this.booking&&(this.editDate=this.booking.date,this.editStart=this.normalizeToISOString(this.booking.startTime),this.editEnd=this.normalizeToISOString(this.booking.endTime),this.editDescription=this.booking.description||"")}isValid(){return this.booking.date>new Date}ngOnInit(){this.startTimeString=k(this.booking.startTime),this.endTimeString=k(this.booking.endTime)}normalizeToISOString(t){return typeof t=="string"?t.split(":")[0]+t.split(":")[1]:t.toISOString()}toLocalInput(t){if(!t)return"";let e=new Date(t),n=oe=>oe.toString().padStart(2,"0"),a=e.getFullYear(),c=n(e.getMonth()+1),S=n(e.getDate()),y=n(e.getHours()),Re=n(e.getMinutes());return`${a}-${c}-${S}T${y}:${Re}`}fromLocalInput(t){return t?new Date(t).toISOString():""}startEdit(){this.editing=!0,this.editStart=this.normalizeToISOString(this.booking.startTime),this.editEnd=this.normalizeToISOString(this.booking.endTime),this.editDescription=this.booking.description||"",this.editDate=this.booking.date}cancelEdit(){this.editing=!1}saveEdit(){let t=ae(re({},this.booking),{startTime:this.editStart,endTime:this.editEnd,description:this.editDescription});this.update.emit(t),this.editing=!1}doClose(){this.editing=!1,this.close.emit()}timeStringtoNumber(t){let n=(typeof t=="string"?t:t.toTimeString().slice(0,5)).split(":");return parseFloat(n[0])+parseFloat(n[1])/60}numberToTimeString(t){let e=Math.floor(t).toString().padStart(2,"0"),n=Math.round((t-Math.floor(t))*60).toString().padStart(2,"0");return`${e}:${n}`}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-booking-details"]],inputs:{booking:"booking"},outputs:{close:"close",update:"update"},features:[ce],decls:34,vars:12,consts:[["noAmenities",""],[1,"details-backdrop"],[1,"details-panel"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[1,"actions"],["class","btn edit",3,"click",4,"ngIf"],["class","btn save",3,"click",4,"ngIf"],[1,"btn","close",3,"click"],["type","date",3,"ngModelChange","ngModel"],["type","datetime-local",3,"ngModelChange","ngModel"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],["rows","4",3,"ngModelChange","ngModel"],[1,"btn","edit",3,"click"],[1,"btn","save",3,"click"]],template:function(e,n){if(e&1){let a=v();o(0,"div",1)(1,"div",2)(2,"h3",3),l(3),i(),o(4,"div",4)(5,"strong",5),l(6,"Date:"),i(),b(7,xt,3,4,"ng-container",6)(8,vt,5,2,"ng-container",6),i(),b(9,Ct,5,2,"div",7),o(10,"div",4)(11,"strong"),l(12,"Room:"),i(),l(13),i(),o(14,"div",4)(15,"strong"),l(16,"Capacity:"),i(),l(17),i(),o(18,"div",4)(19,"strong"),l(20,"Amenities:"),i(),b(21,yt,3,1,"ng-container",8)(22,wt,1,0,"ng-template",null,0,fe),i(),o(24,"div",9)(25,"strong",10),l(26,"Description:"),i(),b(27,Mt,2,1,"ng-container",6)(28,St,2,1,"ng-container",6),i(),o(29,"div",11),b(30,Ot,2,0,"button",12)(31,Pt,2,0,"button",13),o(32,"button",14),m("click",function(){return u(a),f(n.doClose())}),l(33,"Close"),i()()()()}if(e&2){let a=me(23);s(3),_(n.booking.title),s(4),g("ngIf",!n.editing),s(),g("ngIf",n.editing),s(),g("ngIf",!n.editing),s(4),h(" ",n.booking.room.name,""),s(4),h(" ",n.booking.room.capacity," people"),s(4),g("ngIf",n.booking.room.amenities&&n.booking.room.amenities.length)("ngIfElse",a),s(6),g("ngIf",!n.editing),s(),g("ngIf",n.editing),s(2),g("ngIf",!n.editing&&n.isValid()),s(),g("ngIf",n.editing)}},dependencies:[M,P,I,J,Ce,be,K,rt],styles:[".details-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}.details-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:92%;max-width:640px;box-shadow:0 10px 30px #00000040;z-index:999}.details-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem;border-bottom:var(--slate-300) 1px solid}.details-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.details-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.details-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.details-backdrop[_ngcontent-%COMP%]::backdrop{transition:all .7s ease-in}.details-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.details-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}"]})};var Tt=["dialog"];function Dt(r,t){if(r&1&&(o(0,"div",18)(1,"div",19),l(2),i(),o(3,"div",20),l(4),i()()),r&2){let e=t.$implicit,n=t.index,a=d();N("today",a.isToday(e)),s(2),_(a.dayNames[n]),s(2),_(e.getDate())}}function Et(r,t){if(r&1&&(o(0,"div",21),l(1),i()),r&2){let e=t.$implicit;s(),h(" ",e," ")}}function Bt(r,t){if(r&1){let e=v();o(0,"div",25),m("click",function(){let a=u(e).$implicit,c=d().$implicit,S=d();return f(S.onTimeSlotClick(c,a))}),i()}}function It(r,t){if(r&1){let e=v();o(0,"div",26),m("click",function(){let a=u(e).$implicit,c=d(2);return f(c.toggleDetails(a))}),o(1,"div",27),l(2),i(),o(3,"div",28)(4,"span",6),l(5,"\u{1F550}"),i(),l(6),i(),o(7,"div",29)(8,"span",6),l(9,"\u{1F4CD}"),i(),l(10),i()()}if(r&2){let e=t.$implicit,n=d(2);Ue("background",n.randomColor())("top",n.calculatePosition(e.startTime,e.endTime).top)("height",n.calculatePosition(e.startTime,e.endTime).height),s(2),_(e.title),s(4),T(" ",e.startTime.toString().split(":")[0]+":"+e.startTime.toString().split(":")[1]," - ",e.endTime.toString().split(":")[0]+":"+e.endTime.toString().split(":")[1]," "),s(4),h(" ",e.room.name," ")}}function Vt(r,t){if(r&1&&(o(0,"div",22),b(1,Bt,1,0,"div",23)(2,It,11,10,"div",24),i()),r&2){let e=t.$implicit,n=d();N("today-column",n.isToday(e)),s(),g("ngForOf",n.timeSlots),s(),g("ngForOf",n.getBookingsForDay(e))}}function Ft(r,t){if(r&1){let e=v();o(0,"app-booking-details",30),m("update",function(a){u(e);let c=d();return f(c.onBookingUpdate(a))})("close",function(){u(e);let a=d();return f(a.showBookingDetails=!1)}),i()}if(r&2){let e=d();g("booking",e.selectedBooking)}}function Fe(r){if(typeof r=="string"){let[t,e]=r.split(":").map(Number);return t+e/60}else return r.getHours()+r.getMinutes()/60}var Me=class r{currentWeek=new Date;weekDays=[];dayNames=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];timeSlots=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];bookings=[];bookingUpdate=new w;dialog;showBookingDetails=!1;selectedBooking;colorValue=400;onBookingUpdate(t){this.bookingUpdate.emit(t)}ngOnInit(){this.updateWeekDays()}toggleDetails(t){this.selectedBooking=t,this.showBookingDetails=!this.showBookingDetails}updateWeekDays(){this.weekDays=this.getWeekDays(this.currentWeek)}getWeekDays(t){let e=[],n=new Date(t),a=n.getDay(),c=n.getDate()-a+(a===0?-6:1);for(let S=0;S<7;S++){let y=new Date(n);y.setDate(c+S),e.push(y)}return e}randomColor(){this.colorValue===1e3&&(this.colorValue=400);let t=`var(--primary-${this.colorValue})`;return this.colorValue+=100,t}navigateWeek(t){let e=new Date(this.currentWeek);e.setDate(e.getDate()+(t==="next"?7:-7)),this.currentWeek=e,this.updateWeekDays()}goToToday(){this.currentWeek=new Date,this.updateWeekDays()}getBookingsForDay(t){return this.bookings.filter(e=>this.isSameDay(e.date,t))}isSameDay(t,e){let n=typeof t=="string"?new Date(t):t;return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()}isToday(t){let e=typeof t=="string"?new Date(t):t,n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}calculatePosition(t,e){let c=(Fe(t)-6)*80,S=(Fe(e)-Fe(t))*80;return{top:`${c}px`,height:`${S}px`}}formatDate(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{month:"short",day:"numeric"})}getMonthYear(){return this.weekDays[0]?.toLocaleDateString("en-US",{month:"long",year:"numeric"})||""}onTimeSlotClick(t,e){console.log("Time slot clicked:",t,e)}numberToTimeString(t){let e=Math.floor(t).toString().padStart(2,"0"),n=Math.round((t-Math.floor(t))*60).toString().padStart(2,"0");return`${e}:${n}`}timeStringtoNumber(t){if(!t)return 0;if(typeof t=="string"){let[e,n]=t.split(":").map(Number);return e+n/60}else return t.getHours()+t.getMinutes()/60}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-weekly-calendar"]],viewQuery:function(e,n){if(e&1&&A(Tt,5),e&2){let a;L(a=j())&&(n.dialog=a.first)}},inputs:{bookings:"bookings"},outputs:{bookingUpdate:"bookingUpdate"},decls:27,vars:5,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"header-info"],[1,"month-year"],[1,"navigation"],[1,"nav-btn",3,"click"],[1,"icon"],[1,"today-btn",3,"click"],[1,"calendar-grid"],[1,"grid-header"],[1,"time-header"],[1,"clock-icon"],["class","day-header",3,"today",4,"ngFor","ngForOf"],[1,"grid-body"],[1,"time-column"],["class","time-slot",4,"ngFor","ngForOf"],["class","day-column",3,"today-column",4,"ngFor","ngForOf"],["style","z-index: 1000;",3,"booking","update","close",4,"ngIf"],[1,"day-header"],[1,"day-name"],[1,"day-number"],[1,"time-slot"],[1,"day-column"],["class","time-cell",3,"click",4,"ngFor","ngForOf"],["class","booking-item",3,"background","top","height","click",4,"ngFor","ngForOf"],[1,"time-cell",3,"click"],[1,"booking-item",3,"click"],[1,"booking-title"],[1,"booking-time"],[1,"booking-room"],[2,"z-index","1000",3,"update","close","booking"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"My Bookings"),i(),o(5,"p",3),l(6),i()(),o(7,"div",4)(8,"button",5),m("click",function(){return n.navigateWeek("prev")}),o(9,"span",6),l(10,"\u2039"),i()(),o(11,"button",7),m("click",function(){return n.goToToday()}),l(12,"Today"),i(),o(13,"button",5),m("click",function(){return n.navigateWeek("next")}),o(14,"span",6),l(15,"\u203A"),i()()()(),o(16,"div",8)(17,"div",9)(18,"div",10)(19,"span",11),l(20,"\u{1F550}"),i()(),b(21,Dt,5,4,"div",12),i(),o(22,"div",13)(23,"div",14),b(24,Et,2,1,"div",15),i(),b(25,Vt,3,4,"div",16),i()()(),b(26,Ft,1,1,"app-booking-details",17)),e&2&&(s(6),_(n.getMonthYear()),s(15),g("ngForOf",n.weekDays),s(3),g("ngForOf",n.timeSlots),s(),g("ngForOf",n.weekDays),s(),g("ngIf",n.showBookingDetails))},dependencies:[M,P,I,we],styles:[".calendar-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:1.5rem;background-color:#f9fafb;min-height:100vh}.calendar-header[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;padding:1rem 1.5rem;margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0}.calendar-header[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{color:#6b7280;margin:.25rem 0 0}.calendar-header[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:transparent;border-radius:.5rem;cursor:pointer;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;cursor:pointer;font-weight:500;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.grid-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr);border-bottom:1px solid #e5e7eb}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;display:flex;align-items:center;justify-content:center}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]   .clock-icon[_ngcontent-%COMP%]{font-size:1.25rem}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;text-align:center}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]:last-child{border-right:none}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]{background-color:#eff6ff}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:var(--primary-400)}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-top:.25rem}.grid-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr)}.time-column[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb}.time-column[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;padding:.5rem;font-size:.875rem;font-weight:500;color:#6b7280}.day-column[_ngcontent-%COMP%]{border-right:1px solid #e5e7eb;position:relative}.day-column[_ngcontent-%COMP%]:last-child{border-right:none}.day-column.today-column[_ngcontent-%COMP%]{background-color:#eff6ff4d}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]{position:absolute;left:4px;right:4px;padding:.5rem;border-radius:.25rem;color:#fff;font-size:.75rem;overflow:hidden;cursor:pointer;box-shadow:0 1px 3px #0003;transition:box-shadow .2s,transform .2s}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000004d;transform:scale(1.02)}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-title[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;margin-top:.25rem;opacity:.9}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.day-column[_ngcontent-%COMP%]   .booking-blue[_ngcontent-%COMP%]{background-color:#3b82f6}.day-column[_ngcontent-%COMP%]   .booking-purple[_ngcontent-%COMP%]{background-color:#a855f7}.day-column[_ngcontent-%COMP%]   .booking-green[_ngcontent-%COMP%]{background-color:#10b981}.day-column[_ngcontent-%COMP%]   .booking-orange[_ngcontent-%COMP%]{background-color:#f97316}"]})};var Nt=["select"],Rt=["calendar"];function zt(r,t){if(r&1&&(o(0,"option",25),l(1),i()),r&2){let e=t.$implicit;g("value",e.id),s(),T("",e.name," (Capacity: ",e.capacity,")")}}function Ht(r,t){r&1&&(o(0,"div",26)(1,"small"),l(2,"A room is required."),i()())}function At(r,t){if(r&1&&(o(0,"span",43),l(1),i()),r&2){let e=t.$implicit;s(),h(" ",e," ")}}function Lt(r,t){if(r&1){let e=v();o(0,"div",15)(1,"div",27)(2,"div",28)(3,"h2",29),l(4),i(),o(5,"p",30),l(6),i()(),o(7,"div",31)(8,"div",32),l(9,"Capacity"),i(),o(10,"div",33),l(11),i()()(),o(12,"div",34),b(13,At,2,1,"span",35),i(),o(14,"div",36)(15,"button",37),m("click",function(){u(e);let a=d();return f(a.changeDate(-1))}),D(),o(16,"svg",5),p(17,"polyline",38),i()(),B(),o(18,"div",39)(19,"h3",40),l(20),i(),o(21,"button",41),m("click",function(){u(e);let a=d();return f(a.goToToday())}),l(22," Today "),i()(),o(23,"button",37),m("click",function(){u(e);let a=d();return f(a.changeDate(1))}),D(),o(24,"svg",5),p(25,"polyline",42),i()()()()}if(r&2){let e=d();s(4),_(e.selectedRoom.name),s(2),_(e.selectedRoom.description),s(5),h("",e.selectedRoom.capacity," people"),s(2),g("ngForOf",e.selectedRoom.amenities),s(7),h(" ",e.formatDate(e.selectedDate)," ")}}function jt(r,t){if(r&1){let e=v();o(0,"div",44),m("mousedown",function(){let a=u(e).$implicit,c=d();return f(c.onSlotMouseDown(a))})("mouseenter",function(){let a=u(e).$implicit,c=d();return f(c.onSlotMouseEnter(a))}),o(1,"div",45),l(2),i()()}if(r&2){let e=t.$implicit;N("booked",e.isBooked)("selected",e.isSelected)("available",!e.isBooked),s(2),_(e.displayTime)}}function Ut(r,t){if(r&1){let e=v();o(0,"div",46),m("click",function(){u(e);let a=d();return f(a.cancelBookingForm())}),o(1,"div",47),m("click",function(a){return u(e),f(a.stopPropagation())}),o(2,"h3",48),l(3,"Confirm Booking"),i(),o(4,"div",49)(5,"label",50),l(6," Selected Time "),i(),o(7,"div",51),l(8),i(),o(9,"div",52),l(10),i()(),o(11,"div",49)(12,"label",50),l(13," Title * "),i(),o(14,"input",53),m("input",function(a){u(e);let c=d();return f(c.onTitleTypeChange(a))}),i()(),o(15,"div",54)(16,"label",50),l(17," Description "),i(),o(18,"textarea",55),m("input",function(a){u(e);let c=d();return f(c.onDescriptionTypeChange(a))}),i()(),o(19,"div",56)(20,"button",57),m("click",function(){u(e);let a=d();return f(a.confirmBooking())}),l(21," Confirm Booking "),i(),o(22,"button",58),m("click",function(){u(e);let a=d();return f(a.cancelBookingForm())}),l(23," Cancel "),i()()()()}if(r&2){let e=d();s(8),T(" ",e.formatTime(e.selectedSlots[0].time,0)," - ",e.formatTime(e.selectedSlots[e.selectedSlots.length-1].time+.5,0)," "),s(2),h(" Duration: ",e.selectedSlots.length*30," minutes "),s(4),g("value",e.bookingTitle()),s(4),g("value",e.bookingDescription())}}function Ne(r){let t=r.get("startTime")?.value,e=r.get("endTime")?.value;if(!t||!e)return null;let[n,a]=(t||"").split(":").map(oe=>Number(oe)),[c,S]=(e||"").split(":").map(oe=>Number(oe)),y=n+a/60;return c+S/60>y?null:{endBeforeStart:!0}}function ie(r){let[t,e]=r.toString().split(":").map(Number);return t+":"+e}var Se=class r{created=new w;close=new w;roomDropDown;calendar;fb=x(X);bookingService=x(U);roomService=x($);timeSlots=[];selectedSlots=[];isSelecting=!1;className="";selectedDate=new Date;showBookingForm=!1;bookingTitle=Q("");bookingDescription=Q("");availableRooms=[];roomBookings;selectedRoom;form=this.fb.group({title:["",[O.required,O.minLength(2)]],date:["",O.required],startTime:["",O.required],endTime:["",O.required],roomId:["",O.required],description:[""]},{validators:Ne});constructor(){let t=new Date}onTitleTypeChange(t){let e=t.target;this.bookingTitle.set(e.value)}onDescriptionTypeChange(t){let e=t.target;this.bookingDescription.set(e.value)}toDateInput(t){let e=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}get f(){return this.form.controls}ngOnInit(){this.roomService.getRooms().subscribe({next:t=>{this.availableRooms=t},error:t=>alert(t)}),this.onSelectChange()}onSelectChange(){let t=this.roomDropDown.nativeElement.value;this.bookingService.getBookingsByRoom(t).subscribe({next:e=>{this.roomBookings=e,console.log(this.roomBookings),this.generateTimeSlots()},error:e=>alert(e)}),this.selectedRoom=this.availableRooms.find(e=>String(e.id)===t)}timeStringToHourNumber(t){if(!t)return 0;let[e,n]=t.split(":").map(Number);return e+n/60}onClose(){this.close.emit()}generateTimeSlots(){this.timeSlots=[];let t=this.timeStringToHourNumber(ie(this.selectedRoom.openTime)),e=this.timeStringToHourNumber(ie(this.selectedRoom.closeTime));for(let n=t;n<e&&!(n>=20);n+=.5){let a={time:n,displayTime:this.formatTime(n,n+.5),isBooked:this.isSlotBooked(n),isSelected:!1};n<new Date().getHours()+new Date().getMinutes()/60-.5&&new Date>=this.selectedDate&&(a.isBooked=!0),this.timeSlots.push(a)}}formatTime(t,e){let n=Math.floor(t),a=t%1*60;if(e==0)return`${n}:${a.toString().padStart(2,"0")}`;let c=Math.floor(e),S=e%1*60;return`${n>12?n:n===0?12:n}:${a.toString().padStart(2,"0")} - ${c}:${S.toString().padStart(2,"0")}`}isSlotBooked(t){for(let e of this.roomBookings)if(this.isSameDate(e.date,this.selectedDate)&&t>=Number(k(e.startTime).split(":")[0])+Number(k(e.startTime).split(":")[1])/60&&t<Number(k(e.endTime).split(":")[0])+Number(k(e.endTime).split(":")[1])/60)return!0;return!1}isSameDate(t,e){let[n,a,c]=t.toString().split("-");return Number(n)===e.getFullYear()&&Number(a)===e.getMonth()+1&&Number(c)===e.getDate()}onSlotMouseDown(t){t.isBooked||(this.isSelecting=!0,this.selectedSlots=[t],t.isSelected=!0)}onSlotMouseEnter(t){if(!this.isSelecting||t.isBooked)return;let e=this.selectedSlots[0],n=this.timeSlots.indexOf(e),a=this.timeSlots.indexOf(t);this.timeSlots.forEach(y=>y.isSelected=!1);let c=Math.min(n,a),S=Math.max(n,a);this.selectedSlots=[];for(let y=c;y<=S&&!this.timeSlots[y].isBooked;y++)this.timeSlots[y].isSelected=!0,this.selectedSlots.push(this.timeSlots[y])}onSlotMouseUp(){this.isSelecting=!1,this.selectedSlots.length>0&&(this.showBookingForm=!0)}confirmBooking(){if(this.selectedSlots.length===0||!this.bookingTitle().trim()){alert("Please provide a title for the booking");return}let t=Math.min(...this.selectedSlots.map(a=>a.time)),e=Math.max(...this.selectedSlots.map(a=>a.time))+.5,n={id:"",room:this.selectedRoom,date:new Date(this.selectedDate),startTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(t)+":"+t%1*60)),endTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(e)+":"+e%1*60)),title:this.bookingTitle(),description:this.bookingDescription(),userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0,active:!0};this.created.emit(n),this.roomBookings.push(n),this.cancelBookingForm(),this.generateTimeSlots(),console.log({startTime:t,endTime:e})}cancelBookingForm(){this.showBookingForm=!1,this.bookingTitle.set(""),this.bookingDescription.set(""),this.selectedSlots.forEach(t=>t.isSelected=!1),this.selectedSlots=[]}isFirstSlotOfBooking(t){return t.time===Number(k(t.booking.startTime).split(":")[0])+Number(k(t.booking.startTime).split(":")[1])/60}changeDate(t){let e=new Date(this.selectedDate);e.setDate(e.getDate()+t);let n=new Date().setDate(new Date().getDate()-1);e<=new Date(n)||(this.selectedDate=e,this.generateTimeSlots())}goToToday(){this.selectedDate=new Date,this.generateTimeSlots()}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}closeModal(){this.close.emit()}onModalClick(t){t.stopPropagation()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-new-booking"]],viewQuery:function(e,n){if(e&1&&(A(Nt,5),A(Rt,5)),e&2){let a;L(a=j())&&(n.roomDropDown=a.first),L(a=j())&&(n.calendar=a.first)}},outputs:{created:"created",close:"close"},decls:30,vars:6,consts:[["dialog",""],["select",""],[1,"modal-backdrop"],[1,"modal-panel","calendar-modal-content"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"header"],[3,"formGroup"],[1,"flex","justify-between","items-center"],["formControlName","roomId","required","",1,"rooms",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],[1,"modal-header"],[1,"instruction-banner"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"inline","mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"calendar-content"],[1,"",2,"user-select","none",3,"mouseup","mouseleave"],["class","time-slot",3,"booked","selected","available","mousedown","mouseenter",4,"ngFor","ngForOf"],["class","booking-form-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"error"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex-1"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-gray-600","py-2",2,"width","80%"],[1,"text-right","mr-5"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","duration"],[1,"flex","flex-wrap","gap-2"],["class","px-3 py-1 amenity",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between",2,"margin-top","0.5rem","padding-top","0.5rem","border-top","1px solid var(--slate-300)"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["points","15 18 9 12 15 6"],[1,"flex","gap-4","items-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-sm","bg-blue-400","text-white","rounded-lg","hover:bg-blue-400","hover:cursor-pointer",2,"padding","0.25rem",3,"click"],["points","9 18 15 12 9 6"],[1,"px-3","py-1","amenity"],[1,"time-slot",3,"mousedown","mouseenter"],[1,"time-label"],[1,"booking-form-overlay",3,"click"],[1,"booking-form-content",3,"click"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-lg","font-semibold","duration"],[1,"text-sm","text-gray-600","mt-1"],["type","text","placeholder","Enter booking title",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"mb-6"],["rows","3","placeholder","Enter booking description (optional)",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"flex","gap-3"],[1,"flex-1","btn","save",3,"click"],[1,"flex-1","btn","close",3,"click"]],template:function(e,n){if(e&1){let a=v();o(0,"div",2,0)(2,"div",3)(3,"button",4),m("click",function(){return u(a),f(n.onClose())}),D(),o(4,"svg",5),p(5,"line",6)(6,"line",7),i()(),B(),o(7,"h3",8),l(8,"Create new booking"),i(),o(9,"form",9)(10,"div",10)(11,"select",11,1),m("change",function(){return u(a),f(n.onSelectChange())}),o(13,"option",12),l(14,"Select a room to book "),i(),b(15,zt,2,3,"option",13),i()(),b(16,Ht,3,0,"div",14)(17,Lt,26,5,"div",15),o(18,"div",16),D(),o(19,"svg",17),p(20,"circle",18)(21,"line",19)(22,"line",20),i(),B(),o(23,"strong"),l(24,"How to book:"),i(),l(25," Click or drag to select consecutive 30-minute time slots "),i(),o(26,"div",21)(27,"div",22),m("mouseup",function(){return u(a),f(n.onSlotMouseUp())})("mouseleave",function(){return u(a),f(n.isSelecting=!1)}),b(28,jt,3,7,"div",23),i()()()()(),b(29,Ut,24,5,"div",24)}e&2&&(s(9),g("formGroup",n.form),s(6),g("ngForOf",n.availableRooms),s(),g("ngIf",n.f.roomId.touched&&n.f.roomId.invalid),s(),R(n.selectedRoom?17:-1),s(11),g("ngForOf",n.timeSlots),s(),g("ngIf",n.showBookingForm))},dependencies:[M,P,I,ee,_e,lt,st,at,K,he,ct,xe,ve],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}select[_ngcontent-%COMP%]:focus{border:2px solid var(--slate-300);outline:none}.modal-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:70vw;height:90vh;box-shadow:0 10px 30px #00000040;z-index:999}.modal-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem}.modal-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.modal-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.modal-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:12px;cursor:pointer;transition:all .3s ease-in-out}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-panel[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{overflow-y:scroll}.edit[_ngcontent-%COMP%]{border:2px solid var(--slate-300);background-color:var(--slate-500);color:#fff}.close[_ngcontent-%COMP%]{border:2px solid var(--slate-500);color:var(--slate-500);background:none}.save[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-400),var(--primary-600));color:var(--white)}.modal-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.modal-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.rooms[_ngcontent-%COMP%]{border:1px solid var(--slate-300);color:var(--slate-500);border-radius:10px;width:100%;padding:.25rem}.error[_ngcontent-%COMP%]{color:red}.close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px #0000001a}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.instruction-banner[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #bfdbfe;padding:12px 16px;margin:16px 24px;border-radius:8px;color:#1e40af;font-size:14px}.calendar-content[_ngcontent-%COMP%]{padding:24px;flex:1}.time-slot[_ngcontent-%COMP%]{position:relative;height:60px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:4px;display:flex;align-items:center;padding:0 12px;transition:all .2s;cursor:pointer}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#eff6ff;border-color:#3b82f6}.time-slot.selected[_ngcontent-%COMP%]{background-color:#dbeafe;border-color:#3b82f6;border-width:2px}.time-slot.booked[_ngcontent-%COMP%]{background-color:var(--secondary);cursor:not-allowed;opacity:.6}.time-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#4b5563;z-index:1}.booking-card[_ngcontent-%COMP%]{position:absolute;inset:0;padding:12px;color:#fff;border-radius:8px;pointer-events:none;box-shadow:0 2px 8px #0000001a;z-index:2;overflow:hidden}.booking-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:4px}.booking-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px}.booking-description[_ngcontent-%COMP%]{font-size:11px;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-form-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.booking-form-content[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;width:40vw;max-height:60vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000004d}.booking-form-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:.5rem;font-weight:700}.booking-form-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .booking-form-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.25rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none}.calendar-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:70vw;max-height:90vh;overflow:hidden;box-shadow:0 20px 25px -5px #0003;display:flex;flex-direction:column;position:relative;margin:auto}.duration[_ngcontent-%COMP%]{color:var(--primary-500)}"]})};var $t=["sortSelect"],Wt=["details"],Yt=["options"];function Qt(r,t){r&1&&(o(0,"h2",12),l(1,"Your bookings"),i())}function qt(r,t){if(r&1){let e=v();o(0,"div",23)(1,"app-weekly-calendar",26),m("bookingUpdate",function(a){u(e);let c=d();return f(c.onUpdateBooking(a))}),i()()}if(r&2){let e=d();s(),g("bookings",e.bookings)}}function Gt(r,t){r&1&&(o(0,"p",31),l(1,"No bookings yet."),i())}function Zt(r,t){if(r&1){let e=v();o(0,"app-booking-item",32),m("click",function(){let a=u(e).$index,c=d(2);return f(c.handleClick(a))})("showDetails",function(a){u(e);let c=d(2);return f(c.onShowBookingDetails(a))})("cancelBooking",function(a){u(e);let c=d(2);return f(c.onCancelBooking(a))})("updateBooking",function(a){u(e);let c=d(2);return f(c.onUpdateBooking(a))}),i()}if(r&2){let e=t.$implicit,n=t.$index;g("id","book-"+n)("booking",e)}}function Jt(r,t){r&1&&(o(0,"p"),l(1,"Click a booking to see the details here."),i())}function Kt(r,t){if(r&1){let e=v();o(0,"div",35,3)(2,"div",42),m("click",function(){u(e);let a=d(3);return f(a.doClose())}),l(3,"Clear"),i(),o(4,"div"),l(5,"Edit"),i(),o(6,"div",43),m("click",function(){u(e);let a=d(3);return f(a.onCancel(a.bookingDetails.id))}),l(7,"Cancel"),i()()}}function Xt(r,t){if(r&1&&(o(0,"li",46),l(1),i()),r&2){let e=t.$implicit;s(),_(e)}}function en(r,t){if(r&1&&(z(0),o(1,"ul",44),b(2,Xt,2,1,"li",45),i(),H()),r&2){let e=d(3);s(2),g("ngForOf",e.bookingDetails.room.amenities)}}function tn(r,t){r&1&&l(0,"\u2014")}function nn(r,t){if(r&1){let e=v();o(0,"div",33),m("click",function(){u(e);let a=d(2);return f(a.onShowTooltips())}),p(1,"i",34),i(),b(2,Kt,8,0,"div",35),o(3,"h3",36),l(4),i(),o(5,"div",37)(6,"strong",38),l(7,"Date:"),i(),z(8),l(9),G(10,"date"),H(),i(),o(11,"div",37)(12,"div")(13,"strong",38),l(14,"Period: "),i(),l(15),i()(),o(16,"div",37)(17,"strong"),l(18,"Room:"),i(),l(19),i(),o(20,"div",37)(21,"strong"),l(22,"Capacity:"),i(),l(23),i(),o(24,"div",37)(25,"strong"),l(26,"Amenities:"),i(),b(27,en,3,1,"ng-container",39)(28,tn,1,0,"ng-template",null,2,fe),i(),o(30,"div",40)(31,"strong",41),l(32,"Description:"),i(),z(33),l(34),H(),i()}if(r&2){let e=me(29),n=d(2);s(2),R(n.showMoreOptions?2:-1),s(2),_(n.bookingDetails.title),s(5),h(" ",Z(10,10,n.bookingDetails.date,"fullDate")," "),s(6),T("",n.startTimeString," \u2014 ",n.endTimeString,""),s(4),h(" ",n.bookingDetails.room.name,""),s(4),h(" ",n.bookingDetails.room.capacity," people"),s(4),g("ngIf",n.bookingDetails.room.amenities&&n.bookingDetails.room.amenities.length)("ngIfElse",e),s(7),_(n.bookingDetails.description||"\u2014")}}function on(r,t){if(r&1&&(o(0,"div",24)(1,"ul",27)(2,"div"),b(3,Gt,2,0,"p",28),i(),We(4,Zt,1,2,"app-booking-item",29,$e),i(),o(6,"div",30,1),b(8,Jt,2,0,"p")(9,nn,35,13),i()()),r&2){let e=d();s(3),g("ngIf",e.bookings.length===0),s(),Ye(e.bookings),s(4),R(e.showDetails?9:8)}}function rn(r,t){if(r&1){let e=v();o(0,"app-new-booking",47),m("created",function(a){u(e);let c=d();return f(c.onNewCreated(a))})("close",function(){u(e);let a=d();return f(a.onNewCancelled())}),i()}}var Oe=class r{showCalendar=!1;showNewBookingModal=!1;showDetails=!1;bookingDetails;selected;showMoreOptions;currentUserSubject=new le(JSON.parse(localStorage.getItem("currentUser")||"{}"));latest=!0;_latest=this.latest;sortSelect;details;options;startTimeString;endTimeString;bookings=[];bookingService=x(U);roomService=x($);ngOnInit(){this.bookingService.getBookings().subscribe({next:t=>{this.bookings=t.filter(e=>e.userId===this.currentUserSubject.getValue().id.toString()&&(e.isActive??e.active??!0)),this.sortElements(this.latest?-1:1)},error:t=>{alert("Error fetching bookings "+t),console.error("error",t)}})}onCancel(t){confirm("Do you really want to cancel this booking ?")&&this.bookingService.cancel(t).subscribe({next:e=>alert(e),error:e=>alert(e)}),location.reload()}handleOutClick(t){let e=t.target;this.options.nativeElement.contains(e)||(this.showMoreOptions=!1)}toggleCalendar(){this.showCalendar=!this.showCalendar}onShowBookingDetails(t){this.bookingDetails=t,this.showDetails=!0,this.startTimeString=k(t.startTime),this.endTimeString=k(t.endTime)}sortBookings(){this.latest=this.sortSelect.nativeElement.value==="latest",this._latest!==this.latest&&(this._latest=this.latest,this.sortElements(this.latest?-1:1))}sortElements(t){this.bookings=this.bookings.sort((e,n)=>e.date>=n.date&&e.startTime>n.startTime?t:-t)}onCancelBooking(t){this.bookingService.deleteBooking(parseInt(t,10)).subscribe({})}onUpdateBooking(t){this.bookingService.updateBooking(parseInt(t.id,10),t).subscribe({})}openNewBookingModal(){this.showNewBookingModal=!0}closeNewBookingModal(){this.showNewBookingModal=!1}onNewCreated(t){console.log("New booking created:",t),this.bookingService.create(t),this.showNewBookingModal=!1,location.reload()}onNewCancelled(){this.showNewBookingModal=!1}doClose(){this.showDetails=!1,this.selected.firstElementChild.classList.remove("active"),this.showMoreOptions=!1}handleClick(t){this.selected&&this.selected.firstElementChild.classList.remove("active"),this.selected=document.querySelector("#book-"+t),this.selected.firstElementChild.classList.add("active")}onShowTooltips(){this.showMoreOptions=!0}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-home"]],viewQuery:function(e,n){if(e&1&&(A($t,5),A(Wt,5),A(Yt,5)),e&2){let a;L(a=j())&&(n.sortSelect=a.first),L(a=j())&&(n.details=a.first),L(a=j())&&(n.options=a.first)}},hostBindings:function(e,n){e&1&&m("click",function(c){return n.handleOutClick(c)},!1,Le)},decls:30,vars:5,consts:[["sortSelect",""],["details",""],["noAmenities",""],["options",""],[2,"width","100vw","height","100vh"],[1,"body"],[1,"",2,"font-size","2rem"],[2,"margin","0 0.5rem"],[1,"bookings"],[1,"flex","justify-between",2,"margin-bottom","0.5rem"],[1,"flex","gap-4","items-center"],["type","button",1,"calendar-button",3,"click"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],[1,"flex","search-nav"],["type","text","placeholder","Search a room...",1,"search"],[1,"search-book"],[1,"fi","fi-rr-search"],[1,"latest",3,"change"],["value","latest","selected",""],["value","oldest"],[1,"new-booking",3,"click"],[1,"flex"],[2,"width","100%","height","100%"],[1,"book-wrapper","flex","gap-2"],[3,"created","close",4,"ngIf"],[3,"bookingUpdate","bookings"],[1,"booking-list"],["style","margin: 2rem 0;","class","text-center m-5 text-gray-400",4,"ngIf"],[3,"id","booking"],[1,"booking-details","no-navbar"],[1,"text-center","m-5","text-gray-400",2,"margin","2rem 0"],[3,"click","showDetails","cancelBooking","updateBooking","id","booking"],[1,"tooltip",3,"click"],[1,"fi","fi-rr-menu-dots-vertical"],["role","menu",1,"options"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[3,"click"],[1,"cancel",3,"click"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],[3,"created","close"]],template:function(e,n){if(e&1){let a=v();o(0,"div",4),p(1,"app-navbar"),o(2,"div",5)(3,"h1",6),l(4,"Welcome back, "),o(5,"span",7),l(6),i()(),o(7,"section",8)(8,"div",9)(9,"div",10)(10,"button",11),m("click",function(){return u(a),f(n.toggleCalendar())}),l(11),i(),b(12,Qt,2,0,"h2",12),i(),o(13,"div",13)(14,"div",14),p(15,"input",15),o(16,"button",16),p(17,"i",17),i()(),o(18,"select",18,0),m("change",function(){return u(a),f(n.sortBookings())}),o(20,"option",19),l(21,"Latest"),i(),o(22,"option",20),l(23,"Oldest"),i()(),o(24,"button",21),m("click",function(){return u(a),f(n.openNewBookingModal())}),l(25,"+ New Booking"),i()()(),o(26,"div",22),b(27,qt,2,1,"div",23)(28,on,10,2,"div",24),i()()(),b(29,rn,1,0,"app-new-booking",25),i()}e&2&&(s(6),h("",n.currentUserSubject.getValue().name.substring(0,1).toUpperCase()+n.currentUserSubject.getValue().name.substring(1).toLowerCase()," !"),s(5),h(" ",n.showCalendar?"Hide Calendar":"Show Calendar"," "),s(),R(n.showCalendar?-1:12),s(15),R(n.showCalendar?27:28),s(2),g("ngIf",n.showNewBookingModal))},dependencies:[te,ye,M,P,I,J,Me,Se],styles:[".body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}.book-wrapper[_ngcontent-%COMP%]{width:100%;height:50vh;justify-content:space-between}.booking-list[_ngcontent-%COMP%]{width:50%;height:100%;overflow-y:auto;padding-right:1rem}.booking-details[_ngcontent-%COMP%]{overflow-y:auto;background:var(--white);border:1px solid var(--secondary);padding:1rem;justify-self:flex-end;width:50%;height:100%;border-radius:10px;margin:1rem 0;margin:.5rem 0 1rem 1rem;box-shadow:1px 1px 4px #d3d3d3;position:relative;transition:all .3s ease-in-out}.booking-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-600);text-align:center;padding-bottom:.5rem;border-bottom:var(--slate-300) 1px solid}.booking-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.5rem 0}.booking-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.booking-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:var(--slate-500)}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}@media screen and (min-width: 768px){.book-wrapper[_ngcontent-%COMP%]{height:60vh}}.tooltip[_ngcontent-%COMP%]{position:absolute;right:.4rem;top:.5rem;padding:.1rem .3rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--primary-700);box-sizing:content-box;transition:all .3s ease-in-out}.tooltip[_ngcontent-%COMP%]:hover{border-radius:999px;background-color:var(--primary-50)}.options[_ngcontent-%COMP%]{position:absolute;background-color:var(--white);border:1px var(--slate-300) solid;right:.75rem;top:.75rem;border-radius:12px;color:var(--slate-500);box-shadow:1px 2px 8px #d3d3d3;display:block}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.25rem 1rem;cursor:pointer}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover:not(.cancel){background-color:#f5f5f5}.options[_ngcontent-%COMP%]{animation:fade-out .4s ease-out}.options[open][_ngcontent-%COMP%]{animation:fade-in .4s ease-out}.cancel[_ngcontent-%COMP%]{color:red;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.cancel[_ngcontent-%COMP%]:hover{background-color:red;color:#fff0f0}"]})};var Pe=class r{room;book=new w;viewDetails=new w;ngOnInit(){this.room=ae(re({},this.room),{openTime:k(this.room.openTime),closeTime:k(this.room.closeTime)})}onBook(){this.book.emit(this.room),console.log("Book event emitted for room:",this.room)}onViewDetails(){this.viewDetails.emit(this.room)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-room-card"]],inputs:{room:"room"},outputs:{book:"book",viewDetails:"viewDetails"},decls:15,vars:4,consts:[[1,"room-card"],[1,"image-header"],[1,"fi","fi-rr-couch"],[1,"header"],[1,"times"],[1,"meta"],[1,"actions"],[1,"btn","primary",3,"click"],[1,"btn",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),p(2,"i",2),i(),o(3,"div",3)(4,"h4"),l(5),i(),o(6,"div",4),l(7),i(),o(8,"div",5),l(9),i()(),o(10,"div",6)(11,"button",7),m("click",function(){return n.onBook()}),l(12,"Book"),i(),o(13,"button",8),m("click",function(){return n.onViewDetails()}),l(14,"View details"),i()()()),e&2&&(s(5),_(n.room.name),s(2),T("",n.room.openTime," \u2014 ",n.room.closeTime,""),s(2),h("Capacity: ",n.room.capacity," people"))},dependencies:[M],styles:[".room-card[_ngcontent-%COMP%]{border:1px solid #e6e6e6;box-shadow:2px 4px 8px #0000001a;padding:.8rem;border-radius:8px;background:var(--white);display:flex;margin:1rem .5rem;flex-direction:column;gap:.6rem;transition:all .3s ease-in-out;width:12rem;cursor:pointer}.room-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.room-card[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.room-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#777;font-size:.85rem}.room-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.room-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:6px;border:1px solid #bbb;cursor:pointer}.room-card[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:#fff;border:none}.room-card[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_float 1s ease-in-out infinite}.image-header[_ngcontent-%COMP%]{width:100%;height:200px;background:var(--primary-400);border-radius:8px;display:flex;justify-content:center;align-items:center}.image-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--white)}.actions[_ngcontent-%COMP%]{align-self:flex-end}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0)}50%{transform:translateY(10px)}to{transform:translateY(0)}}"]})};function an(r,t){if(r&1&&(o(0,"li",5),l(1),i()),r&2){let e=t.$implicit;s(),_(e)}}var Te=class r{room;close=new w;ngOnInit(){console.log(this.room)}closePanel(){this.close.emit()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-room-details"]],inputs:{room:"room"},outputs:{close:"close"},decls:28,vars:6,consts:[[1,"side-panel-backdrop"],[1,"side-panel"],[1,"close",3,"click"],[1,"row"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"aside",1)(2,"button",2),m("click",function(){return n.closePanel()}),l(3,"\u2715"),i(),o(4,"h3"),l(5),i(),o(6,"div",3)(7,"strong"),l(8,"Opens at:"),i(),l(9),i(),o(10,"div",3)(11,"strong"),l(12,"Closes at:"),i(),l(13),i(),o(14,"div",3)(15,"strong"),l(16,"Capacity:"),i(),l(17),i(),o(18,"div",3)(19,"strong"),l(20,"Amenities:"),i(),o(21,"ul"),b(22,an,2,1,"li",4),i()(),o(23,"div",3)(24,"strong"),l(25,"Description:"),i(),o(26,"div"),l(27),i()()()()),e&2&&(s(5),_(n.room==null?null:n.room.name),s(4),h(" ",n.room==null?null:n.room.openTime,""),s(4),h(" ",n.room==null?null:n.room.closeTime,""),s(4),h(" ",n.room==null?null:n.room.capacity," people"),s(5),g("ngForOf",n.room==null?null:n.room.amenities),s(5),_((n.room==null?null:n.room.description)||"\u2014"))},dependencies:[M,P],styles:[".side-panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:2500;display:flex;justify-content:flex-end;background:#00000059}.side-panel-backdrop[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{background:var(--white);width:360px;padding:1rem;height:100vh;box-shadow:-8px 0 24px #0003;overflow:auto}.side-panel-backdrop[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background:transparent;border:none;font-size:1.1rem;cursor:pointer}.side-panel-backdrop[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.6rem 0}.side-panel-backdrop[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;padding:.5rem 0;color:var(--slate-500);border-bottom:2px solid var(--slate-300)}.side-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.side-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}"]})};function ln(r,t){if(r&1&&(o(0,"span",34),l(1),i()),r&2){let e=t.$implicit;s(),h(" ",e," ")}}function sn(r,t){if(r&1){let e=v();o(0,"div",35),m("mousedown",function(){let a=u(e).$implicit,c=d();return f(c.onSlotMouseDown(a))})("mouseenter",function(){let a=u(e).$implicit,c=d();return f(c.onSlotMouseEnter(a))}),o(1,"div",36),l(2),i()()}if(r&2){let e=t.$implicit;N("booked",e.isBooked)("selected",e.isSelected)("available",!e.isBooked),s(2),_(e.displayTime)}}function cn(r,t){if(r&1){let e=v();o(0,"div",37),m("click",function(){u(e);let a=d();return f(a.cancelBookingForm())}),o(1,"div",38),m("click",function(a){return u(e),f(a.stopPropagation())}),o(2,"h3",39),l(3,"Confirm Booking"),i(),o(4,"div",40)(5,"label",41),l(6," Selected Time "),i(),o(7,"div",42),l(8),i(),o(9,"div",43),l(10),i()(),o(11,"div",40)(12,"label",41),l(13," Title * "),i(),o(14,"input",44),m("input",function(a){u(e);let c=d();return f(c.onTitleTypeChange(a))}),i()(),o(15,"div",45)(16,"label",41),l(17," Description "),i(),o(18,"textarea",46),m("input",function(a){u(e);let c=d();return f(c.onDescriptionTypeChange(a))}),i()(),o(19,"div",47)(20,"button",48),m("click",function(){u(e);let a=d();return f(a.confirmBooking())}),l(21," Confirm Booking "),i(),o(22,"button",49),m("click",function(){u(e);let a=d();return f(a.cancelBookingForm())}),l(23," Cancel "),i()()()()}if(r&2){let e=d();s(8),T(" ",e.formatTime(e.selectedSlots[0].time,0)," - ",e.formatTime(e.selectedSlots[e.selectedSlots.length-1].time+.5,0)," "),s(2),h(" Duration: ",e.selectedSlots.length*30," minutes "),s(4),g("value",e.bookingTitle()),s(4),g("value",e.bookingDescription())}}var De=class r{created=new w;close=new w;selectedRoom;fb=x(X);bookingService=x(U);roomService=x($);bookings=[];timeSlots=[];selectedSlots=[];isSelecting=!1;className="";selectedDate=new Date;showBookingForm=!1;bookingTitle=Q("");bookingDescription=Q("");availableRooms=[];roomBookings;form=this.fb.group({title:["",[O.required,O.minLength(2)]],date:["",O.required],startTime:["",O.required],endTime:["",O.required],roomId:["",O.required],description:[""]},{validators:Ne});constructor(){let t=new Date}ngOnChanges(){this.selectedRoom&&this.onSelectChange()}onTitleTypeChange(t){let e=t.target;this.bookingTitle.set(e.value)}onDescriptionTypeChange(t){let e=t.target;this.bookingDescription.set(e.value)}toDateInput(t){let e=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}get f(){return this.form.controls}onSelectChange(){let t=this.selectedRoom.id;this.bookingService.getBookingsByRoom(t).subscribe({next:e=>{this.roomBookings=e,console.log(this.roomBookings),this.generateTimeSlots()},error:e=>alert(e)})}timeStringToHourNumber(t){if(!t)return 0;let[e,n]=t.split(":").map(Number);return e+n/60}onClose(){this.close.emit()}generateTimeSlots(){this.timeSlots=[],console.log(this.selectedRoom);let t=this.timeStringToHourNumber(ie(this.selectedRoom.openTime)),e=this.timeStringToHourNumber(ie(this.selectedRoom.closeTime));for(let n=t;n<e&&!(n>=20);n+=.5){let a={time:n,displayTime:this.formatTime(n,n+.5),isBooked:this.isSlotBooked(n),isSelected:!1};n<new Date().getHours()+new Date().getMinutes()/60-.5&&new Date>=this.selectedDate&&(a.isBooked=!0),this.timeSlots.push(a)}}formatTime(t,e){let n=Math.floor(t),a=t%1*60;if(e==0)return`${n}:${a.toString().padStart(2,"0")}`;let c=Math.floor(e),S=e%1*60;return`${n>12?n:n===0?12:n}:${a.toString().padStart(2,"0")} - ${c}:${S.toString().padStart(2,"0")}`}isSlotBooked(t){for(let e of this.roomBookings)if(this.isSameDate(e.date,this.selectedDate)&&t>=Number(k(e.startTime).split(":")[0])+Number(k(e.startTime).split(":")[1])/60&&t<Number(k(e.endTime).split(":")[0])+Number(k(e.endTime).split(":")[1])/60)return!0;return!1}isSameDate(t,e){let[n,a,c]=t.toString().split("-");return Number(n)===e.getFullYear()&&Number(a)===e.getMonth()+1&&Number(c)===e.getDate()}onSlotMouseDown(t){t.isBooked||(this.isSelecting=!0,this.selectedSlots=[t],t.isSelected=!0)}onSlotMouseEnter(t){if(!this.isSelecting||t.isBooked)return;let e=this.selectedSlots[0],n=this.timeSlots.indexOf(e),a=this.timeSlots.indexOf(t);this.timeSlots.forEach(y=>y.isSelected=!1);let c=Math.min(n,a),S=Math.max(n,a);this.selectedSlots=[];for(let y=c;y<=S&&!this.timeSlots[y].isBooked;y++)this.timeSlots[y].isSelected=!0,this.selectedSlots.push(this.timeSlots[y])}onSlotMouseUp(){this.isSelecting=!1,this.selectedSlots.length>0&&(this.showBookingForm=!0)}confirmBooking(){if(this.selectedSlots.length===0||!this.bookingTitle().trim()){alert("Please provide a title for the booking");return}let t=Math.min(...this.selectedSlots.map(a=>a.time)),e=Math.max(...this.selectedSlots.map(a=>a.time))+.5,n={id:"",room:this.selectedRoom,date:new Date(this.selectedDate),startTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(t)+":"+t%1*60)),endTime:this.numberToTimeString(this.timeStringToHourNumber(Math.floor(e)+":"+e%1*60)),title:this.bookingTitle(),description:this.bookingDescription(),userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0,active:!0};this.created.emit(n),this.roomBookings.push(n),this.cancelBookingForm(),this.generateTimeSlots(),console.log({startTime:t,endTime:e})}cancelBookingForm(){this.showBookingForm=!1,this.bookingTitle.set(""),this.bookingDescription.set(""),this.selectedSlots.forEach(t=>t.isSelected=!1),this.selectedSlots=[]}isFirstSlotOfBooking(t){return t.time===Number(k(t.booking.startTime).split(":")[0])+Number(k(t.booking.startTime).split(":")[1])/60}changeDate(t){let e=new Date(this.selectedDate);e.setDate(e.getDate()+t);let n=new Date().setDate(new Date().getDate()-1);e<=new Date(n)||(this.selectedDate=e,this.generateTimeSlots())}goToToday(){this.selectedDate=new Date,this.generateTimeSlots()}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}closeModal(){this.close.emit()}onModalClick(t){t.stopPropagation()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-room-booking-calendar"]],inputs:{selectedRoom:"selectedRoom"},outputs:{created:"created",close:"close"},features:[ce],decls:47,vars:7,consts:[["dialog",""],[1,"modal-backdrop"],[1,"modal-panel","calendar-modal-content"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"header"],[1,"modal-header"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex-1"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-gray-600","py-2",2,"width","80%"],[1,"text-right","mr-5"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","duration"],[1,"flex","flex-wrap","gap-2"],["class","px-3 py-1 amenity",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between",2,"margin-top","0.5rem","padding-top","0.5rem","border-top","1px solid var(--slate-300)"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["points","15 18 9 12 15 6"],[1,"flex","gap-4","items-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-sm","bg-blue-400","text-white","rounded-lg","hover:bg-blue-400","hover:cursor-pointer",2,"padding","0.25rem",3,"click"],["points","9 18 15 12 9 6"],[1,"instruction-banner"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"inline","mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"calendar-content"],[1,"",2,"user-select","none",3,"mouseup","mouseleave"],["class","time-slot",3,"booked","selected","available","mousedown","mouseenter",4,"ngFor","ngForOf"],["class","booking-form-overlay",3,"click",4,"ngIf"],[1,"px-3","py-1","amenity"],[1,"time-slot",3,"mousedown","mouseenter"],[1,"time-label"],[1,"booking-form-overlay",3,"click"],[1,"booking-form-content",3,"click"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-lg","font-semibold","duration"],[1,"text-sm","text-gray-600","mt-1"],["type","text","placeholder","Enter booking title",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"mb-6"],["rows","3","placeholder","Enter booking description (optional)",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","value"],[1,"flex","gap-3"],[1,"flex-1","btn","save",3,"click"],[1,"flex-1","btn","close",3,"click"]],template:function(e,n){if(e&1){let a=v();o(0,"div",1,0)(2,"div",2)(3,"button",3),m("click",function(){return u(a),f(n.onClose())}),D(),o(4,"svg",4),p(5,"line",5)(6,"line",6),i()(),B(),o(7,"h3",7),l(8,"Create new booking"),i(),o(9,"div",8)(10,"div",9)(11,"div",10)(12,"h2",11),l(13),i(),o(14,"p",12),l(15),i()(),o(16,"div",13)(17,"div",14),l(18,"Capacity"),i(),o(19,"div",15),l(20),i()()(),o(21,"div",16),b(22,ln,2,1,"span",17),i(),o(23,"div",18)(24,"button",19),m("click",function(){return u(a),f(n.changeDate(-1))}),D(),o(25,"svg",4),p(26,"polyline",20),i()(),B(),o(27,"div",21)(28,"h3",22),l(29),i(),o(30,"button",23),m("click",function(){return u(a),f(n.goToToday())}),l(31," Today "),i()(),o(32,"button",19),m("click",function(){return u(a),f(n.changeDate(1))}),D(),o(33,"svg",4),p(34,"polyline",24),i()()()(),B(),o(35,"div",25),D(),o(36,"svg",26),p(37,"circle",27)(38,"line",28)(39,"line",29),i(),B(),o(40,"strong"),l(41,"How to book:"),i(),l(42," Click or drag to select consecutive 30-minute time slots "),i(),o(43,"div",30)(44,"div",31),m("mouseup",function(){return u(a),f(n.onSlotMouseUp())})("mouseleave",function(){return u(a),f(n.isSelecting=!1)}),b(45,sn,3,7,"div",32),i()()()(),b(46,cn,24,5,"div",33)}e&2&&(s(13),_(n.selectedRoom.name),s(2),_(n.selectedRoom.description),s(5),h("",n.selectedRoom.capacity," people"),s(2),g("ngForOf",n.selectedRoom.amenities),s(7),h(" ",n.formatDate(n.selectedDate)," "),s(16),g("ngForOf",n.timeSlots),s(),g("ngIf",n.showBookingForm))},dependencies:[M,P,I,Ce,ee],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}select[_ngcontent-%COMP%]:focus{border:2px solid var(--slate-300);outline:none}.modal-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:70vw;height:90vh;box-shadow:0 10px 30px #00000040;z-index:999}.modal-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem}.modal-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.modal-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.modal-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:12px;cursor:pointer;transition:all .3s ease-in-out}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-panel[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{overflow-y:scroll}.edit[_ngcontent-%COMP%]{border:2px solid var(--slate-300);background-color:var(--slate-500);color:#fff}.close[_ngcontent-%COMP%]{border:2px solid var(--slate-500);color:var(--slate-500);background:none}.save[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-400),var(--primary-600));color:var(--white)}.modal-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.modal-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.rooms[_ngcontent-%COMP%]{border:1px solid var(--slate-300);color:var(--slate-500);border-radius:10px;width:100%;padding:.25rem}.error[_ngcontent-%COMP%]{color:red}.close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px #0000001a}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.instruction-banner[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #bfdbfe;padding:12px 16px;margin:16px 24px;border-radius:8px;color:#1e40af;font-size:14px}.calendar-content[_ngcontent-%COMP%]{padding:24px;flex:1}.time-slot[_ngcontent-%COMP%]{position:relative;height:60px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:4px;display:flex;align-items:center;padding:0 12px;transition:all .2s;cursor:pointer}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#eff6ff;border-color:#3b82f6}.time-slot.selected[_ngcontent-%COMP%]{background-color:#dbeafe;border-color:#3b82f6;border-width:2px}.time-slot.booked[_ngcontent-%COMP%]{background-color:var(--secondary);cursor:not-allowed;opacity:.6}.time-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#4b5563;z-index:1}.booking-card[_ngcontent-%COMP%]{position:absolute;inset:0;padding:12px;color:#fff;border-radius:8px;pointer-events:none;box-shadow:0 2px 8px #0000001a;z-index:2;overflow:hidden}.booking-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:4px}.booking-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px}.booking-description[_ngcontent-%COMP%]{font-size:11px;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-form-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.booking-form-content[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;width:40vw;max-height:60vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000004d}.booking-form-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:.5rem;font-weight:700}.booking-form-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .booking-form-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.25rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none}.calendar-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:70vw;max-height:90vh;overflow:hidden;box-shadow:0 20px 25px -5px #0003;display:flex;flex-direction:column;position:relative;margin:auto}.duration[_ngcontent-%COMP%]{color:var(--primary-500)}"]})};function mn(r,t){if(r&1){let e=v();o(0,"app-room-card",20),m("book",function(a){u(e);let c=d();return f(c.openBook(a))})("viewDetails",function(a){u(e);let c=d();return f(c.openDetails(a))}),i()}if(r&2){let e=t.$implicit;g("room",e)}}function dn(r,t){if(r&1){let e=v();o(0,"app-room-details",21),m("close",function(){u(e);let a=d();return f(a.closeDetails())}),i()}if(r&2){let e=d();g("room",e.selected)}}function pn(r,t){if(r&1){let e=v();o(0,"app-room-booking-calendar",22),m("close",function(){u(e);let a=d();return f(a.closeBook())})("created",function(a){u(e);let c=d();return f(c.onBookingCreated(a))}),i()}if(r&2){let e=d();g("selectedRoom",e.selected)}}var Ee=class r{constructor(t){this.bookingService=t}roomService=x($);rooms=[];selected;showBookModal=!1;showDetails=!1;currentDate=new Date;currentUser;ngOnInit(){this.roomService.getRooms().subscribe({next:t=>{console.log(t),this.rooms=t.filter(e=>e.isActive??e.active??!0),console.log(this.rooms),this.currentUser=JSON.parse(localStorage.getItem("currentUser"))},error:t=>alert(t)})}openBook(t){this.selected=t,this.showBookModal=!0,console.log("selected ",this.selected)}closeBook(){this.showBookModal=!1}openDetails(t){this.selected=t,this.showDetails=!0}closeDetails(){this.showDetails=!1}onBookingCreated(t){console.log("New booking created:",t),this.bookingService.createBooking(t).subscribe({next:e=>{alert("Booking created successfully!"),location.reload()},error:e=>{alert("Error creating booking: "+e),console.error("Booking creation error:",e)}})}static \u0275fac=function(e){return new(e||r)(je(U))};static \u0275cmp=C({type:r,selectors:[["app-all-rooms"]],decls:28,vars:4,consts:[[1,"page"],[1,"body"],[1,"",2,"font-size","2rem"],[1,"bookings"],[1,"flex","justify-between","mb-5"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],[1,"flex","search-nav","magic-input"],["type","text","placeholder","Search a room...",1,"search"],[1,"search-book"],[1,"fi","fi-rr-search"],[1,"flex","items-center"],["for","",1,"text-gray-600",2,"padding","0 0.5rem"],["type","time","placeholder","Open",1,"latest"],["type","time","placeholder","Close",1,"latest"],["type","number","placeholder","Capacity",1,"latest"],[1,"flex","gap-5","flex-wrap",2,"width","100%","height","100%","margin-left","0.5rem"],[3,"room","book","viewDetails",4,"ngFor","ngForOf"],[3,"room","close",4,"ngIf"],[3,"selectedRoom","close","created",4,"ngIf"],[3,"book","viewDetails","room"],[3,"close","room"],[3,"close","created","selectedRoom"]],template:function(e,n){e&1&&(o(0,"div",0),p(1,"app-navbar"),o(2,"div",1)(3,"h1",2),l(4),i(),o(5,"section",3)(6,"div",4)(7,"div")(8,"h2",5),l(9,"All rooms"),i()(),o(10,"div",6)(11,"div",7),p(12,"input",8),o(13,"button",9),p(14,"i",10),i()(),o(15,"div",11)(16,"label",12),l(17,"Open: "),i(),p(18,"input",13),i(),o(19,"div",11)(20,"label",12),l(21,"Close: "),i(),p(22,"input",14),i(),p(23,"input",15),i()(),o(24,"div",16),b(25,mn,1,1,"app-room-card",17),i(),b(26,dn,1,1,"app-room-details",18)(27,pn,1,1,"app-room-booking-calendar",19),i()()()),e&2&&(s(4),h("Welcome back, ",n.currentUser.name.substring(0,1).toUpperCase()+n.currentUser.name.substring(1).toLowerCase()," !"),s(21),g("ngForOf",n.rooms),s(),g("ngIf",n.showDetails),s(),g("ngIf",n.showBookModal))},dependencies:[M,P,I,Pe,Te,te,De],styles:[".page[_ngcontent-%COMP%]{width:100vw;height:100vh}.body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}"]})};var pt=[{path:"dashboard",loadComponent:()=>import("./chunk-33C46GWJ.js").then(r=>r.BookingDashboardComponent)},{path:"users",loadComponent:()=>import("./chunk-L3HNX6CY.js").then(r=>r.UserManagementComponent)},{path:"rooms",loadComponent:()=>import("./chunk-2IYBTF5B.js").then(r=>r.RoomManagementComponent)},{path:"bookings",loadComponent:()=>import("./chunk-7BOYNJAH.js").then(r=>r.BookingManagementComponent)},{path:"calendar",loadComponent:()=>import("./chunk-HUC5PX44.js").then(r=>r.CalendarComponent)},{path:"settings",loadComponent:()=>import("./chunk-S5EPWY5L.js").then(r=>r.SettingsComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}];var ne=class r{authService=x(W);router=x(V);canActivate(t,e){return this.authService.isAuthenticated()?!0:this.router.createUrlTree(["/auth"],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=se({token:r,factory:r.\u0275fac,providedIn:"root"})};var Be=class r{router=x(V);location=x(qe);goBack(){this.location.back()}goHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-not-found"]],decls:104,vars:0,consts:[[1,"not-found-container"],[1,"content"],[1,"title-404"],[1,"illustration"],["viewBox","0 0 800 400",1,"jazz-svg"],["x","50","y","300","width","700","height","20","fill","#0f3460","opacity","0.6"],["id","spotlight1","cx","30%","cy","0%"],["offset","0%","stop-color","#6fa4e3","stop-opacity","0.4"],["offset","100%","stop-color","#6fa4e3","stop-opacity","0"],["id","spotlight2","cx","70%","cy","0%"],["offset","0%","stop-color","#93c3f3","stop-opacity","0.4"],["offset","100%","stop-color","#93c3f3","stop-opacity","0"],["cx","240","cy","200","rx","150","ry","200","fill","url(#spotlight1)"],["cx","560","cy","200","rx","150","ry","200","fill","url(#spotlight2)"],[1,"drummer"],["cx","200","cy","280","rx","30","ry","15","fill","#8b4513"],["cx","200","cy","260","rx","30","ry","40","fill","#a0522d"],["cx","240","cy","250","r","25","fill","#cd853f"],["cx","160","cy","250","r","20","fill","#cd853f"],["cx","200","cy","230","rx","20","ry","30","fill","#4a4a4a"],["cx","200","cy","200","r","15","fill","#d4a574"],["x1","200","y1","215","x2","180","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","180;175;180","dur","0.6s","repeatCount","indefinite"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite"],["x1","200","y1","215","x2","220","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","220;225;220","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["x1","180","y1","240","x2","170","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","170;165;170","dur","0.6s","repeatCount","indefinite"],["x1","220","y1","240","x2","230","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","230;235;230","dur","0.6s","repeatCount","indefinite","begin","0.3s"],[1,"sax-player"],["cx","350","cy","230","rx","22","ry","35","fill","#2c3e50"],["cx","350","cy","190","r","18","fill","#d4a574"],["d","M 360 210 Q 380 220 390 250 L 385 255 Q 375 225 365 215 Z","fill","#daa520"],["cx","390","cy","252","r","8","fill","#b8860b"],["cx","380","cy","235","r","3","fill","#000"],["cx","385","cy","242","r","3","fill","#000"],["x1","350","y1","215","x2","365","y2","225","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","350","y1","225","x2","380","y2","245","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"piano-player"],["x","440","y","250","width","80","height","50","fill","#1a1a1a","rx","5"],["x","445","y","255","width","70","height","35","fill","#f5f5f5"],["x","448","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","458","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","468","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","478","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","488","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","498","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","508","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","455","y","255","width","6","height","20","fill","#000"],["x","470","y","255","width","6","height","20","fill","#000"],["x","485","y","255","width","6","height","20","fill","#000"],["x","500","y","255","width","6","height","20","fill","#000"],["cx","480","cy","220","rx","20","ry","32","fill","#34495e"],["cx","480","cy","185","r","16","fill","#d4a574"],["x1","480","y1","205","x2","460","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","480","y1","205","x2","500","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"bass-player"],["cx","600","cy","240","rx","25","ry","60","fill","#8b4513"],["cx","600","cy","240","rx","20","ry","55","fill","#a0522d"],["x","598","y","170","width","4","height","80","fill","#654321"],["cx","600","cy","170","rx","8","ry","5","fill","#654321"],["cx","570","cy","220","rx","18","ry","30","fill","#c0392b"],["cx","570","cy","185","r","14","fill","#d4a574"],["x1","570","y1","200","x2","590","y2","210","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","570","y1","210","x2","590","y2","250","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"audience"],["x","660","y","240","width","50","height","60","fill","#654321","opacity","0.7"],["x","655","y","235","width","60","height","10","fill","#8b4513"],["cx","685","cy","255","rx","22","ry","28","fill","#5d4e37"],["cx","685","cy","220","r","18","fill","#d4a574"],["cx","710","cy","265","rx","8","ry","10","fill","#d2691e"],["cx","710","cy","262","rx","8","ry","3","fill","#8b4513"],["d","M 718 265 Q 725 265 725 270","stroke","#d2691e","stroke-width","2","fill","none"],["opacity","0.6"],["d","M 708 255 Q 706 245 708 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 708 255 Q 706 245 708 240;M 708 255 Q 710 245 708 240;M 708 255 Q 706 245 708 240","dur","2s","repeatCount","indefinite"],["d","M 712 255 Q 714 245 712 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 712 255 Q 714 245 712 240;M 712 255 Q 710 245 712 240;M 712 255 Q 714 245 712 240","dur","2s","repeatCount","indefinite","begin","0.3s"],["x1","685","y1","235","x2","705","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["x1","685","y1","240","x2","665","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["opacity","0.7",1,"musical-notes"],["x","280","y","150","fill","#6fa4e3","font-size","24","font-weight","bold"],["x","420","y","130","fill","#6fa4e3","font-size","28","font-weight","bold"],["x","540","y","145","fill","#6fa4e3","font-size","26","font-weight","bold"],["attributeName","transform","type","translate","values","0 0; 0 -20; 0 0","dur","3s","repeatCount","indefinite"],[1,"message"],[1,"subtitle"],[1,"description"],[1,"button-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"404"),i(),o(4,"div",3),D(),o(5,"svg",4),p(6,"rect",5),o(7,"defs")(8,"radialGradient",6),p(9,"stop",7)(10,"stop",8),i(),o(11,"radialGradient",9),p(12,"stop",10)(13,"stop",11),i()(),p(14,"ellipse",12)(15,"ellipse",13),o(16,"g",14),p(17,"ellipse",15)(18,"ellipse",16)(19,"circle",17)(20,"circle",18)(21,"ellipse",19)(22,"circle",20),o(23,"line",21),p(24,"animate",22)(25,"animate",23),i(),o(26,"line",24),p(27,"animate",25)(28,"animate",26),i(),o(29,"line",27),p(30,"animate",28),i(),o(31,"line",29),p(32,"animate",30),i()(),o(33,"g",31),p(34,"ellipse",32)(35,"circle",33)(36,"path",34)(37,"circle",35)(38,"circle",36)(39,"circle",37)(40,"line",38)(41,"line",39),i(),o(42,"g",40),p(43,"rect",41)(44,"rect",42)(45,"rect",43)(46,"rect",44)(47,"rect",45)(48,"rect",46)(49,"rect",47)(50,"rect",48)(51,"rect",49)(52,"rect",50)(53,"rect",51)(54,"rect",52)(55,"rect",53)(56,"ellipse",54)(57,"circle",55)(58,"line",56)(59,"line",57),i(),o(60,"g",58),p(61,"ellipse",59)(62,"ellipse",60)(63,"rect",61)(64,"ellipse",62)(65,"ellipse",63)(66,"circle",64)(67,"line",65)(68,"line",66),i(),o(69,"g",67),p(70,"rect",68)(71,"rect",69)(72,"ellipse",70)(73,"circle",71)(74,"ellipse",72)(75,"ellipse",73)(76,"path",74),o(77,"g",75)(78,"path",76),p(79,"animate",77),i(),o(80,"path",78),p(81,"animate",79),i()(),p(82,"line",80)(83,"line",81),i(),o(84,"g",82)(85,"text",83),l(86,"\u266A"),i(),o(87,"text",84),l(88,"\u266B"),i(),o(89,"text",85),l(90,"\u266A"),i(),p(91,"animateTransform",86),i()()(),B(),o(92,"div",87)(93,"h2",88),l(94," Got lost? Have some coffee while"),p(95,"br"),l(96,"listening to some nice jazz with me. "),i(),o(97,"p",89),l(98," The page you're looking for doesn't exist, but at least the music is good! \u2615\u{1F3B7} "),i(),o(99,"div",90)(100,"button",91),m("click",function(){return n.goBack()}),l(101," Go Back "),i(),o(102,"button",92),m("click",function(){return n.goHome()}),l(103," Home Page "),i()()()()())},styles:[".not-found-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;padding:20px}.not-found-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;max-width:900px;width:100%}.not-found-container[_ngcontent-%COMP%]   .title-404[_ngcontent-%COMP%]{font-size:clamp(80px,15vw,180px);font-weight:800;margin:0;background:linear-gradient(135deg,#6fa4e3,#93c3f3);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-5px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:40px 0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   .jazz-svg[_ngcontent-%COMP%]{width:100%;max-width:700px;height:auto}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:40px;animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:clamp(24px,5vw,36px);color:#6fa4e3;font-weight:600;margin:0 0 15px;line-height:1.4}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#a5b3c7;font-size:clamp(14px,3vw,18px);margin-bottom:40px}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}.not-found-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 40px;font-size:16px;font-weight:600;border:none;border-radius:50px;cursor:pointer;transition:all .3s ease;font-family:inherit}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#6fa4e3,#93c3f3);box-shadow:0 8px 20px #6fa4e34d}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #6fa4e366}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{color:#6fa4e3;background:transparent;border:2px solid #6fa4e3}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#6fa4e3;color:#fff}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.not-found-container[_ngcontent-%COMP%]{padding:15px}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:30px 0}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:30px}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:30px}}"]})};var gt=[{path:"",redirectTo:"/auth",pathMatch:"full"},{path:"auth",title:"User Authentication",component:ke},{path:"all-rooms",title:"All Rooms",component:Ee,canActivate:[ne]},{path:"home",title:"Home",component:Oe,canActivate:[ne]},{path:"admin",title:"Admin Panel",children:pt,canActivate:[ne]},{path:"**",redirectTo:"404"},{path:"404",title:"Page Not Found",component:Be}];var ut=(r,t)=>{let e=x(W),n=x(V),a=e.getAccessToken();return a?(r=r.clone({setHeaders:{Authorization:`Bearer ${a}`}}),console.log("\u2705 Authorization header added to request")):console.log("\u26A0\uFE0F No token found - request will be sent without auth"),t(r).pipe(He(c=>(c.status===401?(console.error("\u{1F6AB} 401 Unauthorized - Token invalid or expired"),e.logout(),n.navigate(["/auth"])):c.status===403&&console.error("\u{1F6AB} 403 Forbidden - Access denied"),ze(()=>c))))};var ft={providers:[Qe({eventCoalescing:!0}),it(gt),Je(Ke([ut]))]};var Ie=class r{title="MeetIn-frontend";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&p(0,"router-outlet")},dependencies:[tt],encapsulation:2})};Ge(Ie,ft).catch(r=>console.error(r));
