import{a as ve}from"./chunk-UIA7XDHT.js";import{b as H,c as D,d as A,e as pe,f as ge,g as ue,j as fe,k as be,l as ot,m as it,n as rt,q as he,r as _e,s as xe}from"./chunk-VVIW2NKS.js";import{$ as c,A as Z,Aa as M,Ba as T,C as s,E as Le,Ea as X,F as v,Fa as y,Ga as Qe,Ha as me,Ia as qe,J as b,Ja as Ze,Ka as Je,La as Ke,M as m,Ma as Xe,N as le,Na as E,O as R,Oa as et,Pa as tt,Q as z,Qa as nt,R as Ue,S as We,T as $e,U as i,V as o,W as p,X as I,Y as F,Z as C,_ as g,a as Re,aa as oe,b as ze,ba as ie,ca as re,d as Q,da as se,ea as a,f as He,fa as h,ga as _,ha as S,i as Ae,j as je,ja as $,ka as Y,la as G,m as q,oa as de,p as x,pa as J,q as ae,qa as K,r as u,ra as ce,s as f,sa as Ye,t as N,u as V,x as k,ya as Ge}from"./chunk-FB3DZHIX.js";var j=class r{API_URL=ve.apiUrl+"/api/auth/login";currentUserSubject=new Q(null);http=x(me);router=x(E);constructor(){this.loadUserFromStorage()}login(t){return this.http.post(`${this.API_URL}`,t).pipe(je(e=>this.handleAuthSuccess(e)))}logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/auth"])}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return!!this.getAccessToken()}getAccessToken(){let t=localStorage.getItem("accessToken");return t&&this.isTokenExpired(t)?(console.log("\u26A0\uFE0F Token expired"),this.logout(),null):t}isTokenExpired(t){try{let e=JSON.parse(atob(t.split(".")[1])),n=new Date(e.exp*1e3),l=n<new Date;return l&&console.log("\u26A0\uFE0F Token expired at:",n),l}catch(e){return console.error("\u274C Error checking token expiration",e),!0}}handleAuthSuccess(t){console.log("Auth response:",t),localStorage.setItem("currentUser",JSON.stringify(t.user)),localStorage.setItem("accessToken",t.token)}loadUserFromStorage(){let t=localStorage.getItem("accessToken"),e=localStorage.getItem("currentUser");if(t&&e)try{let n=JSON.parse(e);this.currentUserSubject.next(n)}catch(n){console.error("Error parsing stored user",n),this.logout()}}static \u0275fac=function(e){return new(e||r)};static \u0275prov=q({token:r,factory:r.\u0275fac,providedIn:"root"})};function ct(r,t){if(r&1&&(i(0,"div",41),p(1,"div",42),i(2,"div",43)(3,"h3"),a(4),o(),i(5,"p"),a(6),o()()()),r&2){let e=t.$implicit;s(),m("innerHTML",e.icon,Z),s(3),h(e.title),s(2),h(e.description)}}function mt(r,t){r&1&&p(0,"span",39)}function pt(r,t){if(r&1&&p(0,"span",40),r&2){let e=c();m("innerHTML",e.icons.arrow,Z)}}var Ce=class r{loading=!1;loginForm;errorMessage="";returnUrl="/home";submitted=!1;emailFocused=!1;passFocused=!1;nameFocused=!1;regEmailFocused=!1;regPassFocused=!1;confirmFocused=!1;showPassword=!1;icons={};features=[];route=x(Ke);authService=x(j);router=x(E);fb=x(he);sanitizer=x(Je);constructor(){this.initIcons(),this.initFeatures(),this.loginForm=this.fb.group({email:["",[D.required,D.email]],password:["",[D.required,D.minLength(6)]]})}ngOnInit(){this.setMode(!0),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home"}initIcons(){this.icons={mail:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>'),lock:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>'),user:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'),eye:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>'),eyeOff:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>'),arrow:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>'),rocket:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>'),calendar:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/></svg>'),zap:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>'),google:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>'),facebook:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path fill="#1877F2" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>'),github:this.sanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>')}}initFeatures(){this.features=[{icon:this.icons.rocket,title:"Instant Booking",description:"Reserve meeting rooms in seconds with our smart system"},{icon:this.icons.calendar,title:"Smart Scheduling",description:"AI-powered availability matching for your team"},{icon:this.icons.zap,title:"Real-time Sync",description:"Live updates and instant notifications"}]}setMode(t){this.emailFocused=!1,this.passFocused=!1,this.confirmFocused=!1}onLogin(t){t.preventDefault(),this.submitted=!0,this.loading=!0,this.loginForm.valid&&(console.log("Login:",this.loginForm.value),this.authService.login(this.loginForm.value).subscribe({next:e=>{this.returnUrl=e.user.role?.toLowerCase()==="admin"?"/admin":"/home",this.router.navigate([this.returnUrl])},error:e=>{console.error("Login error:",e),this.loading=!1,alert("Login failed. Please check your credentials and try again.")},complete:()=>{this.loading=!1}}))}get loginEmail(){return this.loginForm.get("email")}get loginPassword(){return this.loginForm.get("password")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-login"]],decls:71,vars:18,consts:[[1,"auth-page"],[1,"brand-panel"],[1,"bg-orb","orb-1"],[1,"bg-orb","orb-3"],[1,"bg-orb","orb-4"],[1,"bg-orb","orb-5"],[1,"bg-orb","orb-7"],[1,"bg-orb","orb-8"],[1,"bg-orb","orb-9"],[1,"bg-orb","orb-10"],[1,"bg-grid"],[1,"brand-content"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"tagline"],[1,"tagline-sub"],[1,"features"],["class","feature",4,"ngFor","ngForOf"],[1,"form-panel"],[1,"form-wrapper"],[1,"mobile-logo"],[1,"logo-name"],[1,"form-header"],[1,"toggle-tabs"],[1,"active","text-center"],[1,"active",3,"ngSubmit","formGroup"],[1,"magic-input"],[1,"input-icon",3,"innerHTML"],["type","email","formControlName","email",3,"focus","blur"],[1,"input-line"],[1,"input-border-animated"],[1,"input-glow"],["formControlName","password",3,"focus","blur","type"],["type","button",1,"toggle-password",3,"click"],[3,"innerHTML"],["href","#",1,"forgot-link"],["type","submit",1,"submit-btn",3,"disabled"],[1,"spinner"],[1,"btn-icon",3,"innerHTML"],[1,"feature"],[1,"feature-icon",3,"innerHTML"],[1,"feature-text"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),i(11,"div",11)(12,"div",12)(13,"div",13)(14,"span"),a(15,"M"),o(),p(16,"div",14),o(),i(17,"div",15)(18,"h1"),a(19,"meetin"),o()()(),i(20,"div",16)(21,"p",17),a(22,"Welcome to the future of"),o(),i(23,"h2"),a(24,"Meeting"),p(25,"br"),i(26,"span"),a(27,"Management"),o()()(),i(28,"div",18),b(29,ct,7,3,"div",19),o()()(),i(30,"div",20)(31,"div",21)(32,"div",22)(33,"div",13)(34,"span"),a(35,"M"),o()(),i(36,"span",23),a(37,"meetin"),o()(),i(38,"div",24)(39,"h2"),a(40,"Welcome back"),o(),i(41,"p"),a(42,"Enter your credentials to access your account"),o()(),i(43,"div",25)(44,"div",26),a(45,"Sign In"),o()(),i(46,"form",27),g("ngSubmit",function(d){return n.onLogin(d)}),i(47,"div",28),p(48,"div",29),i(49,"label"),a(50,"Email Address"),o(),i(51,"input",30),g("focus",function(){return n.emailFocused=!0})("blur",function(){return n.emailFocused=!1}),o(),p(52,"div",31)(53,"div",32)(54,"div",33),o(),i(55,"div",28),p(56,"div",29),i(57,"label"),a(58,"Password"),o(),i(59,"input",34),g("focus",function(){return n.passFocused=!0})("blur",function(){return n.passFocused=!1}),o(),i(60,"button",35),g("click",function(){return n.showPassword=!n.showPassword}),p(61,"span",36),o(),p(62,"div",31)(63,"div",32)(64,"div",33),o(),i(65,"a",37),a(66,"Forgot password?"),o(),i(67,"button",38),a(68),b(69,mt,1,0,"span",39)(70,pt,1,1,"span",40),o()()()()()),e&2&&(s(29),m("ngForOf",n.features),s(17),m("formGroup",n.loginForm),s(),R("focused",n.emailFocused)("filled",n.loginEmail.value),s(),m("innerHTML",n.icons.mail,Z),s(7),R("focused",n.passFocused)("filled",n.loginPassword.value),s(),m("innerHTML",n.icons.lock,Z),s(3),m("type",n.showPassword?"text":"password"),s(2),m("innerHTML",n.showPassword?n.icons.eyeOff:n.icons.eye,Z),s(6),m("disabled",n.loginForm.invalid),s(),_(" ",n.loading?"Logging in...":"Log In"," "),s(),z(n.loading?69:-1),s(),z(n.loading?-1:70))},dependencies:[y,M,xe,ue,H,A,pe,fe,be],styles:[`*{margin:0;padding:0;box-sizing:border-box}.auth-page{display:flex}.brand-panel{display:none;width:50%;position:relative;overflow:visible;padding:3rem;margin:0;background:linear-gradient(135deg,var(--primary-600) 0%,var(--primary-800) 100%),linear-gradient(135deg,var(--primary-700) 0%,var(--primary-900) 100%)}@media (min-width: 1024px){.brand-panel{display:flex;align-items:center;overflow:visible}}.bg-orb{position:absolute;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:0}@keyframes moveDiagonal1{0%,to{transform:translate(0)}25%{transform:translate(20vw,15vh)}50%{transform:translate(15vw,25vh)}75%{transform:translate(5vw,20vh)}}@keyframes moveWave{0%,to{transform:translateY(0)}25%{transform:translateY(15vh)}50%{transform:translateY(5vh)}75%{transform:translateY(20vh)}}.orb-4{width:450px;height:450px;top:5%;left:-20%;background:var(--primary-900);animation:pulse 6s ease-in-out infinite 4.5s,moveHorizontal 18s ease-in-out infinite}@keyframes moveHorizontal{0%,to{transform:translate(0)}25%{transform:translate(25vw)}50%{transform:translate(15vw)}75%{transform:translate(30vw)}}@keyframes moveZigzag{0%,to{transform:translate(0)}20%{transform:translate(15vw,-10vh)}40%{transform:translate(25vw,5vh)}60%{transform:translate(15vw,15vh)}80%{transform:translate(5vw,10vh)}}@keyframes moveFloat{0%,to{transform:translate(0)}20%{transform:translate(-12vw,-5vh)}40%{transform:translate(-8vw,12vh)}60%{transform:translate(10vw,8vh)}80%{transform:translate(5vw,-10vh)}}@keyframes moveBounce{0%,to{transform:translate(0)}25%{transform:translate(-15vw,10vh)}50%{transform:translate(10vw,15vh)}75%{transform:translate(-10vw,-5vh)}}@keyframes moveDrift{0%{transform:translate(0)}33%{transform:translate(40vw,-10vh)}66%{transform:translate(25vw,15vh)}to{transform:translate(0)}}@keyframes moveSpiral{0%{transform:translate(0) scale(1)}25%{transform:translate(15vw,8vh) scale(1.1)}50%{transform:translate(25vw,-5vh) scale(.9)}75%{transform:translate(10vw,-15vh) scale(1.05)}to{transform:translate(0) scale(1)}}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}.bg-grid{position:absolute;inset:0;opacity:.05;background-image:linear-gradient(var(--primary-900) 1px,transparent 1px),linear-gradient(90deg,var(--primary-200) 1px,transparent 1px);background-size:50px 50px}.brand-content{position:relative;z-index:1;max-width:480px;overflow:visible}.tagline{margin-bottom:.5rem}.tagline-sub{color:var(--primary-200);font-size:1.1rem;margin-bottom:8px}.tagline h2{font-size:3rem;font-weight:700;color:var(--white);line-height:1.1}.tagline h2 span{background:linear-gradient(135deg,var(--primary-300),var(--primary-100));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.features{display:flex;flex-direction:column;gap:16px;margin-bottom:100px}.feature{display:flex;align-items:flex-start;gap:16px;padding:20px;background:#fff3;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:16px;cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1)}.feature:hover{background:#f7fbef1a;border-color:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,.1));transform:translate(8px)}.feature-icon{width:48px;height:48px;min-width:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .4s ease}.feature-icon svg{width:24px;height:24px;stroke:var(--white)}.feature:hover .feature-icon{transform:scale(1.1) rotate(5deg)}.feature-text h3{font-size:1rem;font-weight:600;color:var(--white);transition:color .3s;padding:0;margin:0}.feature-text p{font-size:.875rem;color:var(--primary-200);line-height:1.5}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.form-panel{width:100%;display:flex;align-items:center;justify-content:center;padding:1.5rem;background:linear-gradient(135deg,var(--bg-light) 0%,var(--primary-0) 100%)!important;border-left:3px solid var(--primary-500);box-shadow:-10px 0 30px rgba(var(--black),.05)}@media (min-width: 1024px){.form-panel{width:50%}}.form-wrapper{background-color:transparent;width:100%;max-width:400px}.mobile-logo{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:3rem}.mobile-logo .logo-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600))}.mobile-logo .logo-name{font-size:2rem;font-weight:900;color:var(--primary-700)}@media (min-width: 1024px){.mobile-logo{display:none}}.form-header{margin-bottom:2rem;text-align:center}.form-header h2{font-size:1.875rem;font-weight:700;color:var(--primary-800);margin-bottom:8px}.form-header p{color:var(--primary-600);font-size:.95rem}.toggle-tabs{display:flex;background:var(--primary-100);border-radius:12px;padding:4px;margin:0 2.5rem 2.5rem;box-sizing:border-box;position:relative}.toggle-tabs div{flex:1;padding:12px;background:none;border:none;font-size:.875rem;font-weight:600;color:var(--primary-600);position:relative;z-index:1;transition:color .3s}.toggle-tabs button.active{color:var(--primary-800)}.toggle-indicator{position:absolute;top:4px;left:4px;width:calc(50% - 4px);height:calc(100% - 8px);background:var(--primary-100);border-radius:10px;box-shadow:0 2px 8px var(--primary-600);transition:transform .3s cubic-bezier(.4,0,.2,1)}.toggle-indicator.right{transform:translate(100%)}.magic-input{position:relative;margin-bottom:24px;padding-top:12px;padding-bottom:8px}.magic-input .input-icon{position:absolute;left:0;top:calc(50% + 2px);transform:translateY(-50%);width:24px;height:24px;color:var(--primary-400);transition:all .4s cubic-bezier(.4,0,.2,1)}.magic-input .input-icon svg{width:100%;height:100%}.magic-input:hover .input-icon{color:var(--primary-500)}.magic-input.focused .input-icon,.magic-input.filled .input-icon{color:var(--primary-600);transform:translateY(-50%) scale(.9)}.magic-input label{position:absolute;left:32px;top:calc(50% + 2px);transform:translateY(-50%);color:var(--primary-500);font-size:1rem;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input.focused label,.magic-input.filled label{top:0;transform:translateY(0);font-size:.75rem;color:var(--primary-600);font-weight:500}.magic-input input{width:100%;padding:8px 40px 8px 32px;background:transparent;border:none;font-size:1rem;color:var(--primary-800);outline:none;position:relative;z-index:2;caret-color:var(--primary-600)}.toggle-password{position:absolute;right:0;top:calc(50% + 2px);transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:4px;color:var(--primary-400);transition:color .3s;z-index:3}.toggle-password:hover{color:var(--primary-600)}.toggle-password svg{width:20px;height:20px}.input-line{position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--primary-200);transition:all .3s cubic-bezier(.4,0,.2,1)}.magic-input:hover .input-line{background:var(--primary-400);box-shadow:0 0 8px rgba(var(--primary-900) .3)}.magic-input.focused .input-line{background:transparent}.input-border-animated{position:absolute;top:-4px;left:-8px;width:calc(100% + 16px);height:calc(100% + 8px);border:2px solid transparent;border-radius:12px;pointer-events:none;opacity:0;clip-path:polygon(0 0,0 0,0 100%,0 100%);transition:clip-path .6s cubic-bezier(.4,0,.2,1),opacity .3s ease,border-color .3s ease}.magic-input.focused .input-border-animated{opacity:1;border-color:var(--primary-500);clip-path:polygon(0 0,100% 0,100% 100%,0 100%);animation:borderPulse 2s ease-in-out infinite}@keyframes borderPulse{0%,to{border-color:var(--primary-500);box-shadow:0 0 rgba(var(--primary-900),.1)}50%{border-color:var(--primary-400);box-shadow:0 0 0 2px rgba(var(--primary-900),.1)}}.input-glow{position:absolute;top:-8px;left:-12px;width:calc(100% + 24px);height:calc(100% + 16px);border-radius:16px;pointer-events:none;box-shadow:0 0 rgba(var(--primary-900),0);transition:box-shadow .5s cubic-bezier(.4,0,.2,1)}.magic-input.focused .input-glow{box-shadow:0 0 30px rgba(var(--primary-900),.2);animation:glowPulse 2s ease-in-out infinite}@keyframes glowPulse{0%,to{box-shadow:0 0 20px rgba(var(--primary-900),.15)}50%{box-shadow:0 0 35px rgba(var(--primary-900),.25)}}.form-fields{display:none}.form-fields.active{display:block;animation:fadeIn .3s ease-in-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.forgot-link{display:block;text-align:right;font-size:.875rem;color:var(--primary-500);text-decoration:none;margin-bottom:8px;transition:color .3s}.forgot-link:hover{color:var(--primary-700)}.submit-btn{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--primary-400),var(--primary-900));border:none;border-radius:12px;font-size:1rem;font-weight:600;color:var(--white);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 8px 24px rgba(var(--primary-700),.3);transition:all .3s cubic-bezier(.4,0,.2,1);margin-top:16px}.submit-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 12px 32px rgba(var(--primary-700),.4);background:linear-gradient(135deg,var(--primary-600),var(--primary-900))}.submit-btn:active:not(:disabled){transform:translateY(0)}.submit-btn:disabled{opacity:.5;cursor:not-allowed}.btn-icon{width:20px;height:20px;transition:transform .3s}.btn-icon svg{width:100%;height:100%}.submit-btn:hover .btn-icon{transform:translate(4px)}.divider{display:flex;align-items:center;gap:16px;margin:28px 0}.divider:before,.divider:after{content:"";flex:1;height:1px;background:var(--primary-200)}.divider span{font-size:.75rem;color:var(--primary-500);font-weight:500;text-transform:uppercase;letter-spacing:1px}.social-btns{display:flex;gap:12px}.social-btn{flex:1;padding:14px;background:none;border:2px solid var(--primary-200);border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.social-btn:hover{border-color:var(--primary-300);background:var(--primary-50);transform:translateY(-2px)}.social-btn svg{width:22px;height:22px}.footer-text{text-align:center;font-size:.9rem;color:var(--primary-600);margin-top:28px}.footer-text span{background:none;border:none;color:var(--primary-500);font-weight:600;cursor:pointer;margin-left:4px;transition:color .3s}.footer-text span:hover{color:var(--primary-700)}
`],encapsulation:2})};var Fe=r=>["/",r],ee=class r{homeRoute="home";allRoomsRoute="all-rooms";settingsRoute="settings";userName=null;router=x(E);constructor(){try{let t=localStorage.getItem("currentUser");if(t){let e=JSON.parse(t);this.userName=e.name||e.username}}catch{this.userName=null}}logout(){confirm("Do you really wish to Log out?")&&(localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),this.router.navigate(["/auth"]))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-navbar"]],decls:32,vars:10,consts:[[1,"navbar"],[1,"logo"],[1,"logo-icon"],[1,"logo-shine"],[1,"logo-text"],[1,"flex","search-nav"],[1,"fi","fi-rr-search"],["type","text","placeholder","Have a room in mind?",1,"search"],[1,"navlinks"],["routerLinkActive","active",1,"navlink",3,"routerLink"],[1,"fi","fi-rr-home"],[1,"fi","fi-rr-couch"],["tabindex","0",1,"profile"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M16 9C16 10.0609 15.5786 11.0783 14.8284 11.8284C14.0783 12.5786 13.0609 13 12 13C10.9391 13 9.92172 12.5786 9.17157 11.8284C8.42143 11.0783 8 10.0609 8 9C8 7.93913 8.42143 6.92172 9.17157 6.17157C9.92172 5.42143 10.9391 5 12 5C13.0609 5 14.0783 5.42143 14.8284 6.17157C15.5786 6.92172 16 7.93913 16 9ZM14 9C14 9.53043 13.7893 10.0391 13.4142 10.4142C13.0391 10.7893 12.5304 11 12 11C11.4696 11 10.9609 10.7893 10.5858 10.4142C10.2107 10.0391 10 9.53043 10 9C10 8.46957 10.2107 7.96086 10.5858 7.58579C10.9609 7.21071 11.4696 7 12 7C12.5304 7 13.0391 7.21071 13.4142 7.58579C13.7893 7.96086 14 8.46957 14 9Z","fill","#6FA4E3"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 1C5.925 1 1 5.925 1 12C1 18.075 5.925 23 12 23C18.075 23 23 18.075 23 12C23 5.925 18.075 1 12 1ZM3 12C3 14.09 3.713 16.014 4.908 17.542C5.74744 16.4401 6.83015 15.5471 8.07164 14.9327C9.31312 14.3183 10.6798 13.9991 12.065 14C13.4324 13.9984 14.7821 14.3091 16.0111 14.9084C17.2402 15.5077 18.3162 16.3797 19.157 17.458C20.0234 16.3216 20.6068 14.9952 20.8589 13.5886C21.111 12.182 21.0244 10.7355 20.6065 9.36898C20.1886 8.00243 19.4512 6.75505 18.4555 5.73004C17.4598 4.70503 16.2343 3.93186 14.8804 3.47451C13.5265 3.01716 12.0832 2.88877 10.6699 3.09997C9.25652 3.31117 7.91379 3.85589 6.75277 4.68905C5.59175 5.52222 4.64581 6.61987 3.99323 7.8912C3.34065 9.16252 3.00018 10.571 3 12ZM12 21C9.93391 21.0033 7.93014 20.2926 6.328 18.988C6.97281 18.0646 7.83119 17.3107 8.83008 16.7905C9.82896 16.2702 10.9388 15.999 12.065 16C13.1772 15.999 14.2735 16.2635 15.263 16.7713C16.2524 17.2792 17.1064 18.0158 17.754 18.92C16.1395 20.267 14.1026 21.0033 12 21Z","fill","#6FA4E3"],["role","menu",1,"profile-dropdown"],[1,"pd-user"],[1,"pd-link",3,"routerLink"],[1,"pd-link","logout",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),a(4,"M"),o(),p(5,"div",3),o(),i(6,"div",4)(7,"h1"),a(8,"meetin"),o()()(),i(9,"div",5),p(10,"i",6)(11,"input",7),o(),i(12,"div",8)(13,"a",9),p(14,"i",10),a(15," Home "),o(),i(16,"a",9),p(17,"i",11),a(18," All Rooms "),o(),i(19,"div",12),N(),i(20,"svg",13),p(21,"path",14)(22,"path",15),o(),V(),i(23,"p"),a(24,"My Profile"),o(),i(25,"div",16)(26,"div",17),a(27),o(),i(28,"a",18),a(29,"Settings"),o(),i(30,"button",19),g("click",function(){return n.logout()}),a(31,"Logout"),o()()()()()),e&2&&(s(13),m("routerLink",de(4,Fe,n.homeRoute)),s(3),m("routerLink",de(6,Fe,n.allRoomsRoute)),s(11),h(n.userName||"User"),s(),m("routerLink",de(8,Fe,n.settingsRoute)))},dependencies:[et,tt],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff;width:100vw;padding:.75rem 2rem;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;border:var(--secondary) 1px solid;box-shadow:2px 4px 8px var(--secondary)}.navlinks[_ngcontent-%COMP%]{width:max-content;display:flex;align-items:center;gap:2rem;box-sizing:border-box}.navlink[_ngcontent-%COMP%]{border-radius:20px;border:var(--primary-400) 2px solid;color:var(--primary-400);font-weight:700;text-align:center;padding:.1rem 1rem;text-decoration:none;transition:all .3s ease-in-out;display:flex;gap:.5rem;align-items:center}.navlink[_ngcontent-%COMP%]:hover{background-color:var(--primary-400);color:var(--white)}.active[_ngcontent-%COMP%]{color:var(--white);background-color:var(--primary-400)}.profile[_ngcontent-%COMP%]{color:var(--primary-400);font-weight:700;display:flex;gap:.15rem;align-items:center;position:relative}.profile-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:calc(100% + 8px);background:var(--white);border:1px solid rgba(0,0,0,.08);box-shadow:0 6px 20px #0000001f;padding:.6rem;border-radius:8px;min-width:160px;z-index:500}.profile[_ngcontent-%COMP%]:hover   .profile-dropdown[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]:focus-within   .profile-dropdown[_ngcontent-%COMP%]{display:block}.profile-dropdown[_ngcontent-%COMP%]   .pd-user[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.4rem}.profile-dropdown[_ngcontent-%COMP%]   .pd-link[_ngcontent-%COMP%]{display:block;padding:.35rem 0;color:var(--primary-600);text-decoration:none;background:transparent;border:none;text-align:left;width:100%;cursor:pointer}.profile-dropdown[_ngcontent-%COMP%]   .pd-link.logout[_ngcontent-%COMP%]{color:#b00020}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:0}.logo-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,var(--primary-400),var(--primary-600));border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 20px 40px var(--primary-100)}.logo-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;color:var(--primary-600);letter-spacing:-1px}.search-nav[_ngcontent-%COMP%]{margin-left:2rem;border:var(--secondary) 1px solid;border-radius:10px;padding:.1rem .75rem;width:30%;display:none;border:2px solid var(--secondary);color:var(--slate-400)}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 .5rem;width:100%}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{outline:none}@media (min-width: 1024px){.search-nav[_ngcontent-%COMP%]{display:flex}}"]})};function U(r){let t=r.toString().split("T")[1];return t.split(":")[0]+":"+t.split(":")[1]}var ke=class r{booking;cancelBooking=new k;updateBooking=new k;showDetails=new k;startTime="";endTime="";emitCancel(){this.booking&&this.booking.id&&this.cancelBooking.emit(this.booking.id)}toggleDetails(){this.showDetails.emit(this.booking)}onUpdate(t){this.updateBooking.emit(t)}numberToTimeString(t){return`${t.toString().split(".")[0]}`.padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}ngOnInit(){this.startTime=U(this.booking.startTime),this.endTime=U(this.booking.endTime)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-booking-item"]],inputs:{booking:"booking"},outputs:{cancelBooking:"cancelBooking",updateBooking:"updateBooking",showDetails:"showDetails"},decls:10,vars:7,consts:[[1,"booking-item",3,"click"],[1,"main"],[1,"info"],[1,"room"],[1,"time"],[1,"id"]],template:function(e,n){e&1&&(i(0,"li",0),g("click",function(){return n.toggleDetails()}),i(1,"div",1)(2,"div",2)(3,"div",3),a(4),o(),i(5,"div",4),a(6),J(7,"date"),o(),i(8,"div",5),a(9),o()()()()),e&2&&(s(4),h(n.booking.title),s(2),_(" ",K(7,4,n.booking.date,"fullDate")," "),s(3),S("",n.startTime," \u2014 ",n.endTime,""))},dependencies:[y,X],styles:[".booking-item[_ngcontent-%COMP%]{list-style:none;margin:.5rem 0;padding:.5rem;border:1px solid #e0e0e0;border-radius:6px;background:#fff;transition:all .3s ease-in-out}.booking-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .room[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--primary-600)}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.booking-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.booking-item[_ngcontent-%COMP%]:hover:not(.active){box-shadow:2px 2px 4px #d3d3d3;border:1px var(--primary-400) solid;translate:2px 4px}.booking-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.booking-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border:1px solid #bbb;background:#f7f7f7;border-radius:4px;cursor:pointer}.booking-item[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background:#fff5f5;border-color:#ffb0b0}.booking-item[_ngcontent-%COMP%]   .btn.details[_ngcontent-%COMP%]{background:#f5fbff;border-color:#b6ddff}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0006;z-index:1000}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;min-width:280px;max-width:90%;box-shadow:0 6px 18px #0003}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.4rem 0}.booking-item[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{margin-top:.6rem;text-align:right}.active[_ngcontent-%COMP%]{box-shadow:2px 2px 4px #d3d3d3;border:2px var(--primary-400) solid;translate:2px 4px}"]})};function gt(r,t){if(r&1&&(I(0),a(1),J(2,"date"),F()),r&2){let e=c();s(),_(" ",K(2,1,e.booking.date,"fullDate")," ")}}function ut(r,t){if(r&1){let e=C();I(0),i(1,"input",15),G("ngModelChange",function(l){u(e);let d=c();return Y(d.editStart,l)||(d.editStart=l),f(l)}),o(),i(2,"span"),a(3," \u2014 "),o(),i(4,"input",16),G("ngModelChange",function(l){u(e);let d=c();return Y(d.editEnd,l)||(d.editEnd=l),f(l)}),o(),F()}if(r&2){let e=c();s(),$("ngModel",e.editStart),s(3),$("ngModel",e.editEnd)}}function ft(r,t){if(r&1&&(i(0,"div",4)(1,"div")(2,"strong",5),a(3,"Period: "),o(),a(4),o()()),r&2){let e=c();s(4),S("",e.startTimeString," \u2014 ",e.endTimeString,"")}}function bt(r,t){if(r&1&&(i(0,"li",19),a(1),o()),r&2){let e=t.$implicit;s(),h(e)}}function ht(r,t){if(r&1&&(I(0),i(1,"ul",17),b(2,bt,2,1,"li",18),o(),F()),r&2){let e=c();s(2),m("ngForOf",e.booking.room.amenities)}}function _t(r,t){r&1&&a(0,"\u2014")}function xt(r,t){if(r&1&&(I(0),a(1),F()),r&2){let e=c();s(),h(e.booking.description||"\u2014")}}function vt(r,t){if(r&1){let e=C();I(0),i(1,"textarea",20),G("ngModelChange",function(l){u(e);let d=c();return Y(d.editDescription,l)||(d.editDescription=l),f(l)}),o(),F()}if(r&2){let e=c();s(),$("ngModel",e.editDescription)}}function Ct(r,t){if(r&1){let e=C();i(0,"button",21),g("click",function(){u(e);let l=c();return f(l.startEdit())}),a(1,"Edit"),o()}}function kt(r,t){if(r&1){let e=C();i(0,"button",22),g("click",function(){u(e);let l=c();return f(l.saveEdit())}),a(1,"Save"),o()}}var ye=class r{booking;close=new k;update=new k;editing=!1;editDate;editStart;editEnd;editDescription="";startTimeString="";endTimeString="";ngOnChanges(){this.booking&&(this.editDate=this.booking.date,this.editStart=this.booking.startTime,this.editEnd=this.booking.endTime,this.editDescription=this.booking.description||"")}ngOnInit(){this.startTimeString=U(this.booking.startTime),this.endTimeString=U(this.booking.endTime)}toLocalInput(t){if(!t)return"";let e=new Date(t),n=ne=>ne.toString().padStart(2,"0"),l=e.getFullYear(),d=n(e.getMonth()+1),P=n(e.getDate()),w=n(e.getHours()),Ve=n(e.getMinutes());return`${l}-${d}-${P}T${w}:${Ve}`}fromLocalInput(t){return t?new Date(t).toISOString():""}startEdit(){this.editing=!0,this.editStart=this.booking.startTime,this.editEnd=this.booking.endTime,this.editDescription=this.booking.description||"",this.editDate=this.booking.date}cancelEdit(){}saveEdit(){let t=ze(Re({},this.booking),{startTime:new Date(this.editStart),endTime:new Date(this.editEnd),description:this.editDescription});this.update.emit(t),this.editing=!1}doClose(){this.editing=!1,this.close.emit()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-booking-details"]],inputs:{booking:"booking"},outputs:{close:"close",update:"update"},features:[ae],decls:34,vars:12,consts:[["noAmenities",""],[1,"details-backdrop"],[1,"details-panel"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf"],["class","row",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[1,"actions"],["class","btn edit",3,"click",4,"ngIf"],["class","btn save",3,"click",4,"ngIf"],[1,"btn","close",3,"click"],["type","date",3,"ngModelChange","ngModel"],["type","datetime-local",3,"ngModelChange","ngModel"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],["rows","4",3,"ngModelChange","ngModel"],[1,"btn","edit",3,"click"],[1,"btn","save",3,"click"]],template:function(e,n){if(e&1){let l=C();i(0,"div",1)(1,"div",2)(2,"h3",3),a(3),o(),i(4,"div",4)(5,"strong",5),a(6,"Date:"),o(),b(7,gt,3,4,"ng-container",6)(8,ut,5,2,"ng-container",6),o(),b(9,ft,5,2,"div",7),i(10,"div",4)(11,"strong"),a(12,"Room:"),o(),a(13),o(),i(14,"div",4)(15,"strong"),a(16,"Capacity:"),o(),a(17),o(),i(18,"div",4)(19,"strong"),a(20,"Amenities:"),o(),b(21,ht,3,1,"ng-container",8)(22,_t,1,0,"ng-template",null,0,ce),o(),i(24,"div",9)(25,"strong",10),a(26,"Description:"),o(),b(27,xt,2,1,"ng-container",6)(28,vt,2,1,"ng-container",6),o(),i(29,"div",11),b(30,Ct,2,0,"button",12)(31,kt,2,0,"button",13),i(32,"button",14),g("click",function(){return u(l),f(n.doClose())}),a(33,"Close"),o()()()()}if(e&2){let l=se(23);s(3),h(n.booking.title),s(4),m("ngIf",!n.editing),s(),m("ngIf",n.editing),s(),m("ngIf",!n.editing),s(4),_(" ",n.booking.room.name,""),s(4),_(" ",n.booking.room.capacity," people"),s(4),m("ngIf",n.booking.room.amenities&&n.booking.room.amenities.length)("ngIfElse",l),s(6),m("ngIf",!n.editing),s(),m("ngIf",n.editing),s(2),m("ngIf",!n.editing),s(),m("ngIf",n.editing)}},dependencies:[y,M,T,X,_e,H,A,ge],styles:[".details-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}.details-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:92%;max-width:640px;box-shadow:0 10px 30px #00000040;z-index:999}.details-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem;border-bottom:var(--slate-300) 1px solid}.details-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.details-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.details-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.details-backdrop[_ngcontent-%COMP%]::backdrop{transition:all .7s ease-in}.details-panel[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.details-panel[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}"]})};var yt=["dialog"];function wt(r,t){if(r&1&&(i(0,"div",18)(1,"div",19),a(2),o(),i(3,"div",20),a(4),o()()),r&2){let e=t.$implicit,n=t.index,l=c();R("today",l.isToday(e)),s(2),h(l.dayNames[n]),s(2),h(e.getDate())}}function Mt(r,t){if(r&1&&(i(0,"div",21),a(1),o()),r&2){let e=t.$implicit;s(),_(" ",e," ")}}function St(r,t){if(r&1){let e=C();i(0,"div",25),g("click",function(){let l=u(e).$implicit,d=c().$implicit,P=c();return f(P.onTimeSlotClick(d,l))}),o()}}function Ot(r,t){if(r&1){let e=C();i(0,"div",26),g("click",function(){let l=u(e).$implicit,d=c(2);return f(d.toggleDetails(l))}),i(1,"div",27),a(2),o(),i(3,"div",28)(4,"span",6),a(5,"\u{1F550}"),o(),a(6),o(),i(7,"div",29)(8,"span",6),a(9,"\u{1F4CD}"),o(),a(10),o()()}if(r&2){let e=t.$implicit,n=c(2);le("background",n.randomColor())("top",n.calculatePosition(e.startTime,e.endTime).top)("height",n.calculatePosition(e.startTime,e.endTime).height),s(2),h(e.title),s(4),S(" ",e.startTime.toString().split("T")[1].split(":")[0]+":"+e.startTime.toString().split("T")[1].split(":")[1]," - ",e.endTime.toString().split("T")[1].split(":")[0]+":"+e.endTime.toString().split("T")[1].split(":")[1]," "),s(4),_(" ",e.room.name," ")}}function Pt(r,t){if(r&1&&(i(0,"div",22),b(1,St,1,0,"div",23)(2,Ot,11,10,"div",24),o()),r&2){let e=t.$implicit,n=c();R("today-column",n.isToday(e)),s(),m("ngForOf",n.timeSlots),s(),m("ngForOf",n.getBookingsForDay(e))}}function Tt(r,t){if(r&1){let e=C();i(0,"app-booking-details",30),g("update",function(l){u(e);let d=c();return f(d.onBookingUpdate(l))})("close",function(){u(e);let l=c();return f(l.showBookingDetails=!1)}),o()}if(r&2){let e=c();m("booking",e.selectedBooking)}}function Ne(r){let[t,e]=r.split(":").map(Number);return t+e/60}var we=class r{currentWeek=new Date;weekDays=[];dayNames=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];timeSlots=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];bookings=[];bookingUpdate=new k;dialog;showBookingDetails=!1;selectedBooking;colorValue=400;onBookingUpdate(t){this.bookingUpdate.emit(t)}ngOnInit(){this.updateWeekDays(),console.log(this.bookings)}toggleDetails(t){console.log("toggling details: ",t),this.selectedBooking=t,this.showBookingDetails=!this.showBookingDetails}updateWeekDays(){this.weekDays=this.getWeekDays(this.currentWeek)}getWeekDays(t){let e=[],n=new Date(t),l=n.getDay(),d=n.getDate()-l+(l===0?-6:1);for(let P=0;P<7;P++){let w=new Date(n);w.setDate(d+P),e.push(w)}return e}randomColor(){this.colorValue===1e3&&(this.colorValue=400);let t=`var(--primary-${this.colorValue})`;return this.colorValue+=100,t}navigateWeek(t){let e=new Date(this.currentWeek);e.setDate(e.getDate()+(t==="next"?7:-7)),this.currentWeek=e,this.updateWeekDays()}goToToday(){this.currentWeek=new Date,this.updateWeekDays()}getBookingsForDay(t){return this.bookings.filter(e=>this.isSameDay(e.date,t))}isSameDay(t,e){let[n,l,d]=t.toString().split("-");return console.log(Number(n)===e.getFullYear()&&Number(l)===e.getMonth()+1&&Number(d)===e.getDate()),Number(n)===e.getFullYear()&&Number(l)===e.getMonth()+1&&Number(d)===e.getDate()}isToday(t){return console.log(t,new Date,this.isSameDay(t,new Date)),t.toDateString()===new Date().toDateString()}calculatePosition(t,e){let P=(Ne(t.toString().split("T")[1])-6)*60*1.3333333333333333,w=(Ne(e.toString().split("T")[1])-Ne(t.toString().split("T")[1]))*60*(80/60);return console.log(P,w),{top:`${P}px`,height:`${w}px`}}formatDate(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}getMonthYear(){return this.weekDays[0]?.toLocaleDateString("en-US",{month:"long",year:"numeric"})||""}onTimeSlotClick(t,e){console.log("Time slot clicked:",t,e)}numberToTimeString(t){return`${t.toString().split(".")[0]}`.padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-weekly-calendar"]],viewQuery:function(e,n){if(e&1&&oe(yt,5),e&2){let l;ie(l=re())&&(n.dialog=l.first)}},inputs:{bookings:"bookings"},outputs:{bookingUpdate:"bookingUpdate"},decls:27,vars:5,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"header-info"],[1,"month-year"],[1,"navigation"],[1,"nav-btn",3,"click"],[1,"icon"],[1,"today-btn",3,"click"],[1,"calendar-grid"],[1,"grid-header"],[1,"time-header"],[1,"clock-icon"],["class","day-header",3,"today",4,"ngFor","ngForOf"],[1,"grid-body"],[1,"time-column"],["class","time-slot",4,"ngFor","ngForOf"],["class","day-column",3,"today-column",4,"ngFor","ngForOf"],["style","z-index: 1000;",3,"booking","update","close",4,"ngIf"],[1,"day-header"],[1,"day-name"],[1,"day-number"],[1,"time-slot"],[1,"day-column"],["class","time-cell",3,"click",4,"ngFor","ngForOf"],["class","booking-item",3,"background","top","height","click",4,"ngFor","ngForOf"],[1,"time-cell",3,"click"],[1,"booking-item",3,"click"],[1,"booking-title"],[1,"booking-time"],[1,"booking-room"],[2,"z-index","1000",3,"update","close","booking"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"My Bookings"),o(),i(5,"p",3),a(6),o()(),i(7,"div",4)(8,"button",5),g("click",function(){return n.navigateWeek("prev")}),i(9,"span",6),a(10,"\u2039"),o()(),i(11,"button",7),g("click",function(){return n.goToToday()}),a(12,"Today"),o(),i(13,"button",5),g("click",function(){return n.navigateWeek("next")}),i(14,"span",6),a(15,"\u203A"),o()()()(),i(16,"div",8)(17,"div",9)(18,"div",10)(19,"span",11),a(20,"\u{1F550}"),o()(),b(21,wt,5,4,"div",12),o(),i(22,"div",13)(23,"div",14),b(24,Mt,2,1,"div",15),o(),b(25,Pt,3,4,"div",16),o()()(),b(26,Tt,1,1,"app-booking-details",17)),e&2&&(s(6),h(n.getMonthYear()),s(15),m("ngForOf",n.weekDays),s(3),m("ngForOf",n.timeSlots),s(),m("ngForOf",n.weekDays),s(),m("ngIf",n.showBookingDetails))},dependencies:[y,M,T,ye],styles:[".calendar-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:1.5rem;background-color:#f9fafb;min-height:100vh}.calendar-header[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;padding:1rem 1.5rem;margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0}.calendar-header[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{color:#6b7280;margin:.25rem 0 0}.calendar-header[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;background:transparent;border-radius:.5rem;cursor:pointer;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.calendar-header[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;cursor:pointer;font-weight:500;transition:background-color .2s}.calendar-header[_ngcontent-%COMP%]   .today-btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.grid-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr);border-bottom:1px solid #e5e7eb}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;display:flex;align-items:center;justify-content:center}.grid-header[_ngcontent-%COMP%]   .time-header[_ngcontent-%COMP%]   .clock-icon[_ngcontent-%COMP%]{font-size:1.25rem}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb;padding:1rem;text-align:center}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]:last-child{border-right:none}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]{background-color:#eff6ff}.grid-header[_ngcontent-%COMP%]   .day-header.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:var(--primary-400)}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.grid-header[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-top:.25rem}.grid-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr)}.time-column[_ngcontent-%COMP%]{background-color:#f9fafb;border-right:1px solid #e5e7eb}.time-column[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;padding:.5rem;font-size:.875rem;font-weight:500;color:#6b7280}.day-column[_ngcontent-%COMP%]{border-right:1px solid #e5e7eb;position:relative}.day-column[_ngcontent-%COMP%]:last-child{border-right:none}.day-column.today-column[_ngcontent-%COMP%]{background-color:#eff6ff4d}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s}.day-column[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]{position:absolute;left:4px;right:4px;padding:.5rem;border-radius:.25rem;color:#fff;font-size:.75rem;overflow:hidden;cursor:pointer;box-shadow:0 1px 3px #0003;transition:box-shadow .2s,transform .2s}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000004d;transform:scale(1.02)}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-title[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;margin-top:.25rem;opacity:.9}.day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-time[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]   .booking-item[_ngcontent-%COMP%]   .booking-room[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.day-column[_ngcontent-%COMP%]   .booking-blue[_ngcontent-%COMP%]{background-color:#3b82f6}.day-column[_ngcontent-%COMP%]   .booking-purple[_ngcontent-%COMP%]{background-color:#a855f7}.day-column[_ngcontent-%COMP%]   .booking-green[_ngcontent-%COMP%]{background-color:#10b981}.day-column[_ngcontent-%COMP%]   .booking-orange[_ngcontent-%COMP%]{background-color:#f97316}"]})};var W=class r{apiUrl=ve.apiUrl+"/api/bookings";httpClient=x(me);_bookings=new Q([]);constructor(){}getBoookings(){return this.httpClient.get(`${this.apiUrl}`)}create(t){}update(t){}remove(t){}static \u0275fac=function(e){return new(e||r)};static \u0275prov=q({token:r,factory:r.\u0275fac,providedIn:"root"})};function Dt(r,t){r&1&&(i(0,"small"),a(1,"Title is required."),o())}function Bt(r,t){r&1&&(i(0,"small"),a(1,"Title is too short."),o())}function It(r,t){if(r&1&&(i(0,"div",16),b(1,Dt,2,0,"small",17)(2,Bt,2,0,"small",17),o()),r&2){let e=c();s(),m("ngIf",e.f.title.errors==null?null:e.f.title.errors.required),s(),m("ngIf",e.f.title.errors==null?null:e.f.title.errors.minlength)}}function Ft(r,t){r&1&&(i(0,"div",16)(1,"small"),a(2,"Date is required."),o()())}function Nt(r,t){r&1&&(i(0,"div",16)(1,"small"),a(2,"End time must be after start time."),o()())}function Vt(r,t){if(r&1&&(i(0,"option",18),a(1),o()),r&2){let e=t.$implicit;m("value",e.id),s(),S("",e.name," (cap: ",e.capacity,")")}}function Rt(r,t){r&1&&(i(0,"div",16)(1,"small"),a(2,"Room is required."),o()())}function zt(r){let t=r.get("startTime")?.value,e=r.get("endTime")?.value;if(!t||!e)return null;let[n,l]=(t||"").split(":").map(ne=>Number(ne)),[d,P]=(e||"").split(":").map(ne=>Number(ne)),w=n+l/60;return d+P/60>w?null:{endBeforeStart:!0}}var Me=class r{created=new k;cancel=new k;fb=x(he);bookingService=x(W);availableRooms=[];form=this.fb.group({title:["",[D.required,D.minLength(2)]],date:["",D.required],startTime:["",D.required],endTime:["",D.required],roomId:["",D.required],description:[""]},{validators:zt});constructor(){let t=new Date}toDateInput(t){let e=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`}get f(){return this.form.controls}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let t=this.form.value,e=this.availableRooms.find(l=>l.id===t.roomId),n={id:`bkg-${Date.now()}`,room:e,date:new Date(t.date),startTime:new Date(new Date(t.date).setHours(Math.floor(this.timeStringToHourNumber(t.startTime)),this.timeStringToHourNumber(t.startTime)%1*60)),endTime:new Date(new Date(t.date).setHours(Math.floor(this.timeStringToHourNumber(t.endTime)),this.timeStringToHourNumber(t.endTime)%1*60)),title:t.title,description:t.description||"",userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0};this.bookingService.create(n),this.created.emit(n)}timeStringToHourNumber(t){if(!t)return 0;let[e,n]=t.split(":").map(Number);return e+n/60}onCancel(){this.cancel.emit()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-new-booking"]],outputs:{created:"created",cancel:"cancel"},decls:36,vars:6,consts:[["dialog",""],[1,"modal-backdrop"],[1,"modal-panel"],[3,"ngSubmit","formGroup"],["type","text","formControlName","title"],["class","error",4,"ngIf"],["type","date","formControlName","date"],["type","time","formControlName","startTime"],["type","time","formControlName","endTime"],["formControlName","roomId"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","description","rows","4"],[1,"modal-actions"],["type","submit",1,"btn","save"],["type","button",1,"btn","close",3,"click"],[1,"error"],[4,"ngIf"],[3,"value"]],template:function(e,n){if(e&1){let l=C();i(0,"div",1,0)(2,"div",2)(3,"h3"),a(4,"Create new booking"),o(),i(5,"form",3),g("ngSubmit",function(){return u(l),f(n.submit())}),i(6,"label"),a(7,"Title"),o(),p(8,"input",4),b(9,It,3,2,"div",5),i(10,"label"),a(11,"Date"),o(),p(12,"input",6),b(13,Ft,3,0,"div",5),i(14,"label"),a(15,"Start time"),o(),p(16,"input",7),i(17,"label"),a(18,"End time"),o(),p(19,"input",8),b(20,Nt,3,0,"div",5),i(21,"label"),a(22,"Room"),o(),i(23,"select",9)(24,"option",10),a(25,"Select room"),o(),b(26,Vt,2,3,"option",11),o(),b(27,Rt,3,0,"div",5),i(28,"label"),a(29,"Description"),o(),p(30,"textarea",12),i(31,"div",13)(32,"button",14),a(33,"Create"),o(),i(34,"button",15),g("click",function(){return u(l),f(n.onCancel())}),a(35,"Cancel"),o()()()()()}e&2&&(s(5),m("formGroup",n.form),s(4),m("ngIf",n.f.title.touched&&n.f.title.invalid),s(4),m("ngIf",n.f.date.touched&&n.f.date.invalid),s(7),m("ngIf",n.form.errors==null?null:n.form.errors.endBeforeStart),s(6),m("ngForOf",n.availableRooms),s(),m("ngIf",n.f.roomId.touched&&n.f.roomId.invalid))},dependencies:[y,M,T,xe,ue,it,rt,H,ot,A,pe,fe,be],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1200;background-color:#0006}.modal-panel[_ngcontent-%COMP%]{background:#fff;padding:1rem 1.2rem;border-radius:8px;width:92%;max-width:640px;box-shadow:0 10px 30px #00000040;z-index:999}.modal-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--slate-500);text-align:center;padding-bottom:.75rem;border-bottom:var(--slate-300) 1px solid}.modal-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:1rem 0}.modal-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.modal-panel[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:12px;cursor:pointer;transition:all .3s ease-in-out}.modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.edit[_ngcontent-%COMP%]{border:2px solid var(--slate-300);background-color:var(--slate-500);color:#fff}.close[_ngcontent-%COMP%]{border:2px solid var(--slate-500);color:var(--slate-500);background:none}.save[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-400),var(--primary-600));color:var(--white)}.modal-backdrop[_ngcontent-%COMP%]::backdrop{transition:all .7s ease-in}.modal-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-out .7s ease-out}.modal-panel[open][_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .7s ease-out}@keyframes _ngcontent-%COMP%_fade-out{0%{opacity:0;transform:scaleY(0);display:none}to{opacity:1;transform:scaleY(1);display:block}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:1;transform:scaleY(1);display:block}to{opacity:0;transform:scaleY(0);display:none}}"]})};var Ht=["sortSelect"],At=["details"];function jt(r,t){r&1&&(i(0,"h2",10),a(1,"Your bookings"),o())}function Lt(r,t){if(r&1){let e=C();i(0,"div",21)(1,"app-weekly-calendar",24),g("bookingUpdate",function(l){u(e);let d=c();return f(d.onUpdateBooking(l))}),o()()}if(r&2){let e=c();s(),m("bookings",e.bookings)}}function Ut(r,t){r&1&&(i(0,"p",29),a(1,"No bookings yet."),o())}function Wt(r,t){if(r&1){let e=C();i(0,"app-booking-item",30),g("click",function(){let l=u(e).$index,d=c(2);return f(d.handleClick(l))})("showDetails",function(l){u(e);let d=c(2);return f(d.onShowBookingDetails(l))})("cancelBooking",function(l){u(e);let d=c(2);return f(d.onCancelBooking(l))})("updateBooking",function(l){u(e);let d=c(2);return f(d.onUpdateBooking(l))}),o()}if(r&2){let e=t.$implicit,n=t.$index;m("id","book-"+n)("booking",e)}}function $t(r,t){r&1&&(i(0,"p"),a(1,"Click a booking to see the details here."),o())}function Yt(r,t){if(r&1){let e=C();i(0,"div",32)(1,"div",39),g("click",function(){u(e);let l=c(3);return f(l.doClose())}),a(2,"Close"),o(),i(3,"div"),a(4,"Edit"),o(),i(5,"div"),a(6,"Cancel"),o()()}}function Gt(r,t){if(r&1&&(i(0,"li",42),a(1),o()),r&2){let e=t.$implicit;s(),h(e)}}function Qt(r,t){if(r&1&&(I(0),i(1,"ul",40),b(2,Gt,2,1,"li",41),o(),F()),r&2){let e=c(3);s(2),m("ngForOf",e.bookingDetails.room.amenities)}}function qt(r,t){r&1&&a(0,"\u2014")}function Zt(r,t){if(r&1){let e=C();i(0,"div",31),g("click",function(){u(e);let l=c(2);return f(l.onShowTooltips())}),a(1,":"),o(),b(2,Yt,7,0,"div",32),i(3,"h3",33),a(4),o(),i(5,"div",34)(6,"strong",35),a(7,"Date:"),o(),I(8),a(9),J(10,"date"),F(),o(),i(11,"div",34)(12,"div")(13,"strong",35),a(14,"Period: "),o(),a(15),o()(),i(16,"div",34)(17,"strong"),a(18,"Room:"),o(),a(19),o(),i(20,"div",34)(21,"strong"),a(22,"Capacity:"),o(),a(23),o(),i(24,"div",34)(25,"strong"),a(26,"Amenities:"),o(),b(27,Qt,3,1,"ng-container",36)(28,qt,1,0,"ng-template",null,2,ce),o(),i(30,"div",37)(31,"strong",38),a(32,"Description:"),o(),I(33),a(34),F(),o()}if(r&2){let e=se(29),n=c(2);s(2),z(n.showMoreOptions?2:-1),s(2),h(n.bookingDetails.title),s(5),_(" ",K(10,10,n.bookingDetails.date,"fullDate")," "),s(6),S("",n.startTimeString," \u2014 ",n.endTimeString,""),s(4),_(" ",n.bookingDetails.room.name,""),s(4),_(" ",n.bookingDetails.room.capacity," people"),s(4),m("ngIf",n.bookingDetails.room.amenities&&n.bookingDetails.room.amenities.length)("ngIfElse",e),s(7),h(n.bookingDetails.description||"\u2014")}}function Jt(r,t){if(r&1&&(i(0,"div",22)(1,"ul",25)(2,"div"),b(3,Ut,2,0,"p",26),o(),We(4,Wt,1,2,"app-booking-item",27,Ue),o(),i(6,"div",28,1),b(8,$t,2,0,"p")(9,Zt,35,13),o()()),r&2){let e=c();s(3),m("ngIf",e.bookings.length===0),s(),$e(e.bookings),s(4),z(e.showDetails?9:8)}}function Kt(r,t){if(r&1){let e=C();i(0,"app-new-booking",43),g("created",function(l){u(e);let d=c();return f(d.onNewCreated(l))})("cancel",function(){u(e);let l=c();return f(l.onNewCancelled())}),o()}}var Se=class r{showCalendar=!1;showNewBookingModal=!1;showDetails=!1;bookingDetails;selected;currentUserSubject=new Q(JSON.parse(localStorage.getItem("currentUser")||"{}"));latest=!0;_latest=this.latest;sortSelect;details;startTimeString;endTimeString;bookings=[];bookingService=x(W);showMoreOptions;ngOnInit(){this.bookingService.getBoookings().subscribe({next:t=>{this.bookings=t.filter(e=>e.userId===this.currentUserSubject.getValue().id.toString()&&e.isActive),this.sortElements(this.latest?-1:1),console.log("Bookings "+this.bookings.length,this.bookings)},error:t=>{alert("Error fetching bookings "+t),console.error("error",t)}})}toggleCalendar(){this.showCalendar=!this.showCalendar}onShowBookingDetails(t){this.bookingDetails=t,this.showDetails=!0,this.startTimeString=U(t.startTime),this.endTimeString=U(t.endTime)}sortBookings(){this.latest=this.sortSelect.nativeElement.value==="latest",this._latest!==this.latest&&(this._latest=this.latest,this.sortElements(this.latest?-1:1))}sortElements(t){this.bookings=this.bookings.sort((e,n)=>e.date.toString()>n.date.toString()&&e.startTime.toString()>n.startTime.toString()?t:-t)}onCancelBooking(t){this.bookingService.remove(t)}onUpdateBooking(t){this.bookingService.update(t)}openNewBookingModal(){this.showNewBookingModal=!0}closeNewBookingModal(){this.showNewBookingModal=!1}onNewCreated(t){this.showNewBookingModal=!1}onNewCancelled(){this.showNewBookingModal=!1}doClose(){this.showDetails=!1,this.selected.firstElementChild.classList.remove("active"),this.showMoreOptions=!1}handleClick(t){this.selected&&this.selected.firstElementChild.classList.remove("active"),this.selected=document.querySelector("#book-"+t),this.selected.firstElementChild.classList.add("active"),console.log(this.selected)}onShowTooltips(){this.showMoreOptions=!0}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-home"]],viewQuery:function(e,n){if(e&1&&(oe(Ht,5),oe(At,5)),e&2){let l;ie(l=re())&&(n.sortSelect=l.first),ie(l=re())&&(n.details=l.first)}},decls:28,vars:4,consts:[["sortSelect",""],["details",""],["noAmenities",""],[2,"width","100vw","height","100vh"],[1,"body"],[1,"",2,"font-size","2rem"],[1,"bookings"],[1,"flex","justify-between",2,"margin-bottom","0.5rem"],[1,"flex","gap-4","items-center"],["type","button",1,"calendar-button",3,"click"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],[1,"flex","search-nav"],["type","text","placeholder","Search a room...",1,"search"],[1,"search-book"],[1,"fi","fi-rr-search"],[1,"latest",3,"change"],["value","latest","selected",""],["value","oldest"],[1,"new-booking",3,"click"],[1,"flex"],[2,"width","100%","height","100%"],[1,"book-wrapper","flex","gap-2"],[3,"created","cancel",4,"ngIf"],[3,"bookingUpdate","bookings"],[1,"booking-list"],["style","margin: 2rem 0;","class","text-center m-5 text-gray-400",4,"ngIf"],[3,"id","booking"],[1,"booking-details","no-navbar"],[1,"text-center","m-5","text-gray-400",2,"margin","2rem 0"],[3,"click","showDetails","cancelBooking","updateBooking","id","booking"],[1,"tooltip",3,"click"],[1,"options"],[1,"header"],[1,"row"],[2,"margin-right","0.5rem"],[4,"ngIf","ngIfElse"],[1,"row","description"],[2,"display","block"],[3,"click"],[2,"display","flex","gap","0.5rem"],["class","amenity",4,"ngFor","ngForOf"],[1,"amenity"],[3,"created","cancel"]],template:function(e,n){if(e&1){let l=C();i(0,"div",3),p(1,"app-navbar"),i(2,"div",4)(3,"h1",5),a(4,"Welcome back, Moutcheu !"),o(),i(5,"section",6)(6,"div",7)(7,"div",8)(8,"button",9),g("click",function(){return u(l),f(n.toggleCalendar())}),a(9),o(),b(10,jt,2,0,"h2",10),o(),i(11,"div",11)(12,"div",12),p(13,"input",13),i(14,"button",14),p(15,"i",15),o()(),i(16,"select",16,0),g("change",function(){return u(l),f(n.sortBookings())}),i(18,"option",17),a(19,"Latest"),o(),i(20,"option",18),a(21,"Oldest"),o()(),i(22,"button",19),g("click",function(){return u(l),f(n.openNewBookingModal())}),a(23,"+ New Booking"),o()()(),i(24,"div",20),b(25,Lt,2,1,"div",21)(26,Jt,10,2,"div",22),o(),b(27,Kt,1,0,"app-new-booking",23),o()()()}e&2&&(s(9),_(" ",n.showCalendar?"Hide Calendar":"Show Calendar"," "),s(),z(n.showCalendar?-1:10),s(15),z(n.showCalendar?25:26),s(2),m("ngIf",n.showNewBookingModal))},dependencies:[ee,ke,y,M,T,X,we,Me],styles:[".body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}.book-wrapper[_ngcontent-%COMP%]{width:100%;height:50vh;justify-content:space-between}.booking-list[_ngcontent-%COMP%]{width:50%;height:100%;overflow-y:auto;padding-right:1rem}.booking-details[_ngcontent-%COMP%]{overflow-y:auto;background:var(--white);border:1px solid var(--secondary);padding:1rem;justify-self:flex-end;width:50%;height:100%;border-radius:10px;margin:1rem 0;margin:.5rem 0 1rem 1rem;box-shadow:1px 1px 4px #d3d3d3;position:relative;transition:all .3s ease-in-out}.booking-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-600);text-align:center;padding-bottom:.5rem;border-bottom:var(--slate-300) 1px solid}.booking-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.5rem 0}.booking-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.booking-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:var(--slate-500)}.amenity[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:64px;border:var(--primary-400) 1px solid;color:var(--primary-400)}@media screen and (min-width: 768px){.book-wrapper[_ngcontent-%COMP%]{height:60vh}}.tooltip[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:.25rem;font-weight:700;cursor:pointer;color:var(--primary-700);box-sizing:content-box;transition:all .3s ease-in-out}.tooltip[_ngcontent-%COMP%]:hover{border-radius:10px;transform:scale(2)}.options[_ngcontent-%COMP%]{position:absolute;background-color:var(--white);border:1px var(--slate-300) solid;right:.75rem;top:.75rem;border-radius:12px;color:var(--slate-500);box-shadow:1px 2px 8px #d3d3d3;display:block}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.25rem 1rem;cursor:pointer}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.options[_ngcontent-%COMP%]{animation:fade-out .7s ease-out}.options[open][_ngcontent-%COMP%]{animation:fade-in .7s ease-out}"]})};var Oe=class r{room;book=new k;viewDetails=new k;onBook(){this.book.emit(this.room),console.log("Book event emitted for room:",this.room)}onViewDetails(){this.viewDetails.emit(this.room)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-room-card"]],inputs:{room:"room"},outputs:{book:"book",viewDetails:"viewDetails"},decls:15,vars:4,consts:[[1,"room-card"],[1,"image-header"],[1,"fi","fi-rr-couch"],[1,"header"],[1,"times"],[1,"meta"],[1,"actions"],[1,"btn","primary",3,"click"],[1,"btn",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),p(2,"i",2),o(),i(3,"div",3)(4,"h4"),a(5),o(),i(6,"div",4),a(7),o(),i(8,"div",5),a(9),o()(),i(10,"div",6)(11,"button",7),g("click",function(){return n.onBook()}),a(12,"Book"),o(),i(13,"button",8),g("click",function(){return n.onViewDetails()}),a(14,"View details"),o()()()),e&2&&(s(5),h(n.room.name),s(2),S("",n.room.openTime,":00 \u2014 ",n.room.closeTime,":00"),s(2),_("Capacity: ",n.room.capacity," people"))},dependencies:[y],styles:[".room-card[_ngcontent-%COMP%]{border:1px solid #e6e6e6;box-shadow:2px 4px 8px #0000001a;padding:.8rem;border-radius:8px;background:var(--white);display:flex;margin:1rem .5rem;flex-direction:column;gap:.6rem;transition:all .3s ease-in-out}.room-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.room-card[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.room-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#777;font-size:.85rem}.room-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.room-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:6px;border:1px solid #bbb;cursor:pointer}.room-card[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:#fff;border:none}.room-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}.image-header[_ngcontent-%COMP%]{width:100%;height:200px;background:var(--primary-400);border-radius:8px;display:flex;justify-content:center;align-items:center}.image-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--white)}"]})};function Xt(r,t){if(r&1&&(i(0,"li"),a(1),o()),r&2){let e=t.$implicit;s(),h(e)}}var Pe=class r{room;close=new k;closePanel(){this.close.emit()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-room-details"]],inputs:{room:"room"},outputs:{close:"close"},decls:28,vars:6,consts:[[1,"side-panel-backdrop"],[1,"side-panel"],[1,"close",3,"click"],[1,"row"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"aside",1)(2,"button",2),g("click",function(){return n.closePanel()}),a(3,"\u2715"),o(),i(4,"h3"),a(5),o(),i(6,"div",3)(7,"strong"),a(8,"Open:"),o(),a(9),o(),i(10,"div",3)(11,"strong"),a(12,"Close:"),o(),a(13),o(),i(14,"div",3)(15,"strong"),a(16,"Capacity:"),o(),a(17),o(),i(18,"div",3)(19,"strong"),a(20,"Amenities:"),o(),i(21,"ul"),b(22,Xt,2,1,"li",4),o()(),i(23,"div",3)(24,"strong"),a(25,"Description:"),o(),i(26,"div"),a(27),o()()()()),e&2&&(s(5),h(n.room==null?null:n.room.name),s(4),_(" ",n.room==null?null:n.room.openTime,":00"),s(4),_(" ",n.room==null?null:n.room.closeTime,":00"),s(4),_(" ",n.room==null?null:n.room.capacity,""),s(5),m("ngForOf",n.room==null?null:n.room.amenities),s(5),h((n.room==null?null:n.room.description)||"\u2014"))},dependencies:[y,M],styles:[".side-panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:2500;display:flex;justify-content:flex-end;background:#00000059}.side-panel-backdrop[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{background:var(--white);width:360px;padding:1rem;height:100vh;box-shadow:-8px 0 24px #0003;overflow:auto}.side-panel-backdrop[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background:transparent;border:none;font-size:1.1rem;cursor:pointer}.side-panel-backdrop[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:.6rem 0}"]})};function en(r,t){if(r&1&&(i(0,"span",33),a(1),o()),r&2){let e=t.$implicit;s(),_(" ",e," ")}}function tn(r,t){if(r&1&&(i(0,"div",41),a(1),o()),r&2){let e=c(2).$implicit;s(),_(" ",e.booking==null?null:e.booking.description," ")}}function nn(r,t){if(r&1&&(i(0,"div",37)(1,"div",38),a(2),o(),i(3,"div",39),a(4),o(),b(5,tn,2,1,"div",40),o()),r&2){let e=c().$implicit,n=c(2);le("background-color",e.booking==null?null:e.booking.color),s(2),h(e.booking==null?null:e.booking.title),s(2),S(" ",n.formatTime(e.booking.startTime.getHours()+e.booking.startTime.getMinutes()/60)," - ",n.formatTime(e.booking.endTime.getHours()+e.booking.endTime.getMinutes()/60)," "),s(),m("ngIf",e.booking==null?null:e.booking.description)}}function on(r,t){if(r&1){let e=C();i(0,"div",34),g("mousedown",function(){let l=u(e).$implicit,d=c(2);return f(d.onSlotMouseDown(l))})("mouseenter",function(){let l=u(e).$implicit,d=c(2);return f(d.onSlotMouseEnter(l))}),i(1,"div",35),a(2),o(),b(3,nn,6,6,"div",36),o()}if(r&2){let e=t.$implicit,n=c(2);R("booked",e.isBooked)("selected",e.isSelected)("available",!e.isBooked),s(2),h(e.displayTime),s(),m("ngIf",e.isBooked&&n.isFirstSlotOfBooking(e))}}function rn(r,t){if(r&1){let e=C();i(0,"div",2),g("click",function(){u(e);let l=c();return f(l.closeModal())}),i(1,"div",3),g("click",function(l){u(e);let d=c();return f(d.onModalClick(l))}),i(2,"button",4),g("click",function(){u(e);let l=c();return f(l.closeModal())}),N(),i(3,"svg",5),p(4,"line",6)(5,"line",7),o()(),V(),i(6,"div",8)(7,"div",9)(8,"div",10)(9,"h2",11),a(10),o(),i(11,"p",12),a(12),o()(),i(13,"div",13)(14,"div",14),a(15,"Capacity"),o(),i(16,"div",15),a(17),o()()(),i(18,"div",16),b(19,en,2,1,"span",17),o(),i(20,"div",18)(21,"button",19),g("click",function(){u(e);let l=c();return f(l.changeDate(-1))}),N(),i(22,"svg",5),p(23,"polyline",20),o()(),V(),i(24,"div",21)(25,"h3",22),a(26),o(),i(27,"button",23),g("click",function(){u(e);let l=c();return f(l.goToToday())}),a(28," Today "),o()(),i(29,"button",19),g("click",function(){u(e);let l=c();return f(l.changeDate(1))}),N(),i(30,"svg",5),p(31,"polyline",24),o()()()(),V(),i(32,"div",25),N(),i(33,"svg",26),p(34,"circle",27)(35,"line",28)(36,"line",29),o(),V(),i(37,"strong"),a(38,"How to book:"),o(),a(39," Click and drag to select consecutive 30-minute time slots "),o(),i(40,"div",30)(41,"div",31),g("mouseup",function(){u(e);let l=c();return f(l.onSlotMouseUp())})("mouseleave",function(){u(e);let l=c();return f(l.isSelecting=!1)}),b(42,on,4,8,"div",32),o()()()()}if(r&2){let e=c();s(10),h(e.room.name),s(2),h(e.room.description),s(5),_("",e.room.capacity," people"),s(2),m("ngForOf",e.room.amenities),s(7),_(" ",e.formatDate(e.selectedDate)," "),s(16),m("ngForOf",e.timeSlots)}}function an(r,t){if(r&1){let e=C();i(0,"div",42),g("click",function(){u(e);let l=c();return f(l.cancelBookingForm())}),i(1,"div",43),g("click",function(l){return u(e),f(l.stopPropagation())}),i(2,"h3",44),a(3,"Create Booking"),o(),i(4,"div",45)(5,"label",46),a(6," Selected Time "),o(),i(7,"div",47),a(8),o(),i(9,"div",48),a(10),o()(),i(11,"div",45)(12,"label",46),a(13," Title * "),o(),i(14,"input",49),G("ngModelChange",function(l){u(e);let d=c();return Y(d.bookingTitle,l)||(d.bookingTitle=l),f(l)}),o()(),i(15,"div",50)(16,"label",46),a(17," Description "),o(),i(18,"textarea",51),G("ngModelChange",function(l){u(e);let d=c();return Y(d.bookingDescription,l)||(d.bookingDescription=l),f(l)}),o()(),i(19,"div",52)(20,"button",53),g("click",function(){u(e);let l=c();return f(l.confirmBooking())}),a(21," Confirm Booking "),o(),i(22,"button",54),g("click",function(){u(e);let l=c();return f(l.cancelBookingForm())}),a(23," Cancel "),o()()()()}if(r&2){let e=c();s(8),S(" ",e.formatTime(e.selectedSlots[0].time)," - ",e.formatTime(e.selectedSlots[e.selectedSlots.length-1].time+.5)," "),s(2),_(" Duration: ",e.selectedSlots.length*30," minutes "),s(4),$("ngModel",e.bookingTitle),s(4),$("ngModel",e.bookingDescription)}}var Te=class r{room;selectedDate=new Date;bookings=[];isOpen=!1;close=new k;bookingCreated=new k;timeSlots=[];selectedSlots=[];isSelecting=!1;showBookingForm=!1;bookingTitle="";bookingDescription="";ngOnInit(){this.room&&this.generateTimeSlots()}ngOnChanges(){this.room&&this.generateTimeSlots()}generateTimeSlots(){this.timeSlots=[];let t=this.room.openTime.getHours()+this.room.openTime.getMinutes()/60,e=this.room.closeTime.getHours()+this.room.closeTime.getMinutes()/60;for(let n=t;n<e;n+=.5){let l={time:n,displayTime:this.formatTime(n),isBooked:this.isSlotBooked(n),isSelected:!1,booking:this.getBookingForSlot(n)};this.timeSlots.push(l)}}formatTime(t){let e=Math.floor(t),n=t%1*60;return`${e>12?e:e===0?12:e}:${n.toString().padStart(2,"0")}`}isSlotBooked(t){return this.bookings.some(e=>this.isSameDate(e.date,this.selectedDate)&&t>=e.startTime.getHours()+e.startTime.getMinutes()/60&&t<e.endTime.getHours()+e.endTime.getMinutes()/60)}getBookingForSlot(t){return this.bookings.find(e=>this.isSameDate(e.date,this.selectedDate)&&t>=e.startTime.getHours()+e.startTime.getMinutes()/60&&t<e.endTime.getHours()+e.endTime.getMinutes()/60)}isSameDate(t,e){return t.toDateString()===e.toDateString()}onSlotMouseDown(t){t.isBooked||(this.isSelecting=!0,this.selectedSlots=[t],t.isSelected=!0)}onSlotMouseEnter(t){if(!this.isSelecting||t.isBooked)return;let e=this.selectedSlots[0],n=this.timeSlots.indexOf(e),l=this.timeSlots.indexOf(t);this.timeSlots.forEach(w=>w.isSelected=!1);let d=Math.min(n,l),P=Math.max(n,l);this.selectedSlots=[];for(let w=d;w<=P&&!this.timeSlots[w].isBooked;w++)this.timeSlots[w].isSelected=!0,this.selectedSlots.push(this.timeSlots[w])}onSlotMouseUp(){this.isSelecting=!1,this.selectedSlots.length>0&&(this.showBookingForm=!0)}confirmBooking(){if(this.selectedSlots.length===0||!this.bookingTitle.trim()){alert("Please provide a title for the booking");return}let t=Math.min(...this.selectedSlots.map(l=>l.time)),e=Math.max(...this.selectedSlots.map(l=>l.time))+1,n={id:Date.now().toString(),room:this.room,date:new Date(this.selectedDate),startTime:new Date(this.selectedDate.setHours(Math.floor(t),t%1*60)),endTime:new Date(this.selectedDate.setHours(Math.floor(e),e%1*60)),title:this.bookingTitle,description:this.bookingDescription,color:this.getRandomColor(),userId:JSON.parse(localStorage.getItem("currentUser")).id,isActive:!0};this.bookingCreated.emit(n),this.bookings.push(n),this.cancelBookingForm(),this.generateTimeSlots()}cancelBookingForm(){this.showBookingForm=!1,this.bookingTitle="",this.bookingDescription="",this.selectedSlots.forEach(t=>t.isSelected=!1),this.selectedSlots=[]}getRandomColor(){let t=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899"];return t[Math.floor(Math.random()*t.length)]}isFirstSlotOfBooking(t){return t.booking?t.time===t.booking.startTime.getHours()+t.booking.startTime.getMinutes()/60:!1}changeDate(t){let e=new Date(this.selectedDate);e.setDate(e.getDate()+t),this.selectedDate=e,this.generateTimeSlots()}goToToday(){this.selectedDate=new Date,this.generateTimeSlots()}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}closeModal(){this.close.emit()}onModalClick(t){t.stopPropagation()}timeStringtoNumber(t){if(!t)return 0;let e=t.split(":");return parseFloat(e[0])+parseFloat(e[1])/60}numberToTimeString(t){return t.toString().split(".")[0].padStart(2,"0")+":"+`${parseFloat("0."+t.toString().split(".")[1])*60}`.padStart(2,"0")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-room-booking-calendar"]],inputs:{room:"room",selectedDate:"selectedDate",bookings:"bookings",isOpen:"isOpen"},outputs:{close:"close",bookingCreated:"bookingCreated"},features:[ae],decls:2,vars:2,consts:[["class","calendar-modal-overlay",3,"click",4,"ngIf"],["class","booking-form-overlay",3,"click",4,"ngIf"],[1,"calendar-modal-overlay",3,"click"],[1,"calendar-modal-content",3,"click"],[1,"close-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-header"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex-1"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"text-right","mr-5"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold","text-blue-600"],[1,"flex","flex-wrap","gap-2","mb-4"],["class","px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","pt-4","border-t"],[1,"p-2","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],["points","15 18 9 12 15 6"],[1,"flex","gap-4","items-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"mt-2","px-4","py-1","text-sm","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","hover:cursor-pointer","transition-colors",3,"click"],["points","9 18 15 12 9 6"],[1,"instruction-banner"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"inline","mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"calendar-content"],[1,"relative",2,"user-select","none",3,"mouseup","mouseleave"],["class","time-slot",3,"booked","selected","available","mousedown","mouseenter",4,"ngFor","ngForOf"],[1,"px-3","py-1","bg-blue-100","text-blue-800","rounded-full","text-sm"],[1,"time-slot",3,"mousedown","mouseenter"],[1,"time-label"],["class","booking-card",3,"background-color",4,"ngIf"],[1,"booking-card"],[1,"booking-title"],[1,"booking-time"],["class","booking-description",4,"ngIf"],[1,"booking-description"],[1,"booking-form-overlay",3,"click"],[1,"booking-form-content",3,"click"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-lg","font-semibold","text-blue-600"],[1,"text-sm","text-gray-600","mt-1"],["type","text","placeholder","Enter booking title",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"mb-6"],["rows","3","placeholder","Enter booking description (optional)",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"flex","gap-3"],[1,"flex-1","px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","font-semibold",3,"click"],[1,"flex-1","px-6","py-3","bg-gray-200","text-gray-700","rounded-lg","hover:bg-gray-300","transition-colors","font-semibold",3,"click"]],template:function(e,n){e&1&&b(0,rn,43,6,"div",0)(1,an,24,5,"div",1),e&2&&(m("ngIf",n.isOpen),s(),m("ngIf",n.showBookingForm))},dependencies:[y,M,T,_e,H,A,ge],styles:[".calendar-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;overflow-y:auto}.calendar-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:900px;width:100%;max-height:90vh;overflow:hidden;box-shadow:0 20px 25px -5px #0003;display:flex;flex-direction:column;position:relative;margin:auto}.close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10;box-shadow:0 2px 8px #0000001a}.close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.instruction-banner[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #bfdbfe;padding:12px 16px;margin:16px 24px;border-radius:8px;color:#1e40af;font-size:14px}.calendar-content[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.time-slot[_ngcontent-%COMP%]{position:relative;height:60px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:4px;display:flex;align-items:center;padding:0 12px;transition:all .2s;cursor:pointer}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#eff6ff;border-color:#3b82f6}.time-slot.selected[_ngcontent-%COMP%]{background-color:#dbeafe;border-color:#3b82f6;border-width:2px}.time-slot.booked[_ngcontent-%COMP%]{background-color:#f9fafb;cursor:not-allowed;opacity:.6}.time-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#4b5563;z-index:1}.booking-card[_ngcontent-%COMP%]{position:absolute;inset:0;padding:12px;color:#fff;border-radius:8px;pointer-events:none;box-shadow:0 2px 8px #0000001a;z-index:2;overflow:hidden}.booking-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:4px}.booking-time[_ngcontent-%COMP%]{font-size:12px;opacity:.9;margin-bottom:4px}.booking-description[_ngcontent-%COMP%]{font-size:11px;opacity:.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.booking-form-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.booking-form-content[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000004d}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none}"]})};function ln(r,t){if(r&1){let e=C();i(0,"app-room-card",19),g("book",function(l){u(e);let d=c();return f(d.openBook(l))})("viewDetails",function(l){u(e);let d=c();return f(d.openDetails(l))}),o()}if(r&2){let e=t.$implicit;m("room",e)}}function sn(r,t){if(r&1){let e=C();i(0,"app-room-details",20),g("close",function(){u(e);let l=c();return f(l.closeDetails())}),o()}if(r&2){let e=c();m("room",e.selectedRoom)}}var Ee=class r{constructor(t){this.bookingService=t}rooms=[];selectedRoom=null;showBookModal=!1;showDetails=!1;currentDate=new Date;openBook(t){this.selectedRoom=t,this.showBookModal=!0,console.log("Opening booking modal for room:",t)}closeBook(){this.showBookModal=!1,this.selectedRoom=null}openDetails(t){this.selectedRoom=t,this.showDetails=!0}closeDetails(){this.showDetails=!1,this.selectedRoom=null}onBookingCreated(t){console.log("New booking created:",t)}static \u0275fac=function(e){return new(e||r)(Le(W))};static \u0275cmp=v({type:r,selectors:[["app-all-rooms"]],decls:25,vars:5,consts:[[1,"page"],[1,"body"],[1,"",2,"font-size","2rem"],[1,"bookings"],[1,"flex","justify-between","mb-5"],[2,"font-weight","bold"],[1,"flex","gap-6","justify-between"],[1,"flex","search-nav","magic-input"],["type","text","placeholder","Search a room...",1,"search"],[1,"search-book"],[1,"fi","fi-rr-search"],["type","number","placeholder","Capacity",1,"latest"],[1,"latest"],["value","latest","selected",""],["value","oldest"],[1,"flex","gap-4",2,"width","100%","height","100%"],[3,"room","book","viewDetails",4,"ngFor","ngForOf"],[3,"close","bookingCreated","isOpen","room","selectedDate"],[3,"room","close",4,"ngIf"],[3,"book","viewDetails","room"],[3,"close","room"]],template:function(e,n){e&1&&(i(0,"div",0),p(1,"app-navbar"),i(2,"div",1)(3,"h1",2),a(4,"Welcome back, Moutcheu !"),o(),i(5,"section",3)(6,"div",4)(7,"div")(8,"h2",5),a(9,"All rooms"),o()(),i(10,"div",6)(11,"div",7),p(12,"input",8),i(13,"button",9),p(14,"i",10),o()(),p(15,"input",11),i(16,"select",12)(17,"option",13),a(18,"Latest"),o(),i(19,"option",14),a(20,"Oldest"),o()()()(),i(21,"div",15),b(22,ln,1,1,"app-room-card",16),o(),i(23,"app-room-booking-calendar",17),g("close",function(){return n.closeBook()})("bookingCreated",function(d){return n.onBookingCreated(d)}),o(),b(24,sn,1,1,"app-room-details",18),o()()()),e&2&&(s(22),m("ngForOf",n.rooms),s(),m("isOpen",n.showBookModal)("room",n.selectedRoom)("selectedDate",n.currentDate),s(),m("ngIf",n.showDetails))},dependencies:[y,M,T,Oe,Pe,ee,Te],styles:[".page[_ngcontent-%COMP%]{width:100vw;height:100vh}.body[_ngcontent-%COMP%]{margin:0;padding:1rem 2rem;box-sizing:border-box}.bookings[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background-color:var(--white);box-shadow:2px 4px 8px var(--secondary);border-radius:20px}.latest[_ngcontent-%COMP%]{border:none;background-color:#0000000d;padding:.3rem .5rem;border-radius:8px}.latest[_ngcontent-%COMP%]:focus{outline:none;border:none}.new-booking[_ngcontent-%COMP%]{margin-left:1rem;background:linear-gradient(135deg,var(--primary-400),var(--primary-700));color:var(--white);border:none;padding:0 1rem;border-radius:12px;font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.new-booking[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.search-book[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-400),var(--primary-700));border:none;color:var(--white);padding:0 .5rem;border-radius:10px;cursor:pointer;transition:all .3s ease-in-out}.search-book[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.calendar-button[_ngcontent-%COMP%]{border:2px solid var(--secondary);color:var(--secondary);border-radius:12px;padding:.05rem .25rem;cursor:pointer;transition:all .3s ease-in-out}.calendar-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#00000073;z-index:2000}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:var(--white);padding:1rem 1.2rem;border-radius:10px;width:92%;max-width:520px}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:.6rem;font-weight:600}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;margin-top:.25rem;border-radius:6px;border:1px solid #ddd}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.modal-backdrop[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .7rem;border-radius:6px;border:none;cursor:pointer}"]})};var at=[{path:"dashboard",loadComponent:()=>import("./chunk-IVSHVL3B.js").then(r=>r.BookingDashboardComponent)},{path:"users",loadComponent:()=>import("./chunk-JNG2HJ3F.js").then(r=>r.UserManagementComponent)},{path:"rooms",loadComponent:()=>import("./chunk-TRC4MWQO.js").then(r=>r.RoomManagementComponent)},{path:"bookings",loadComponent:()=>import("./chunk-T56VKAQU.js").then(r=>r.BookingManagementComponent)},{path:"calendar",loadComponent:()=>import("./chunk-JVSQK3WE.js").then(r=>r.CalendarComponent)},{path:"settings",loadComponent:()=>import("./chunk-L4YJWCHD.js").then(r=>r.SettingsComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}];var te=class r{authService=x(j);router=x(E);canActivate(t,e){return this.authService.isAuthenticated()?!0:this.router.createUrlTree(["/auth"],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=q({token:r,factory:r.\u0275fac,providedIn:"root"})};var De=class r{router=x(E);location=x(Ge);goBack(){this.location.back()}goHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-not-found"]],decls:104,vars:0,consts:[[1,"not-found-container"],[1,"content"],[1,"title-404"],[1,"illustration"],["viewBox","0 0 800 400",1,"jazz-svg"],["x","50","y","300","width","700","height","20","fill","#0f3460","opacity","0.6"],["id","spotlight1","cx","30%","cy","0%"],["offset","0%","stop-color","#6fa4e3","stop-opacity","0.4"],["offset","100%","stop-color","#6fa4e3","stop-opacity","0"],["id","spotlight2","cx","70%","cy","0%"],["offset","0%","stop-color","#93c3f3","stop-opacity","0.4"],["offset","100%","stop-color","#93c3f3","stop-opacity","0"],["cx","240","cy","200","rx","150","ry","200","fill","url(#spotlight1)"],["cx","560","cy","200","rx","150","ry","200","fill","url(#spotlight2)"],[1,"drummer"],["cx","200","cy","280","rx","30","ry","15","fill","#8b4513"],["cx","200","cy","260","rx","30","ry","40","fill","#a0522d"],["cx","240","cy","250","r","25","fill","#cd853f"],["cx","160","cy","250","r","20","fill","#cd853f"],["cx","200","cy","230","rx","20","ry","30","fill","#4a4a4a"],["cx","200","cy","200","r","15","fill","#d4a574"],["x1","200","y1","215","x2","180","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","180;175;180","dur","0.6s","repeatCount","indefinite"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite"],["x1","200","y1","215","x2","220","y2","240","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["attributeName","x2","values","220;225;220","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["attributeName","y2","values","240;245;240","dur","0.6s","repeatCount","indefinite","begin","0.3s"],["x1","180","y1","240","x2","170","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","170;165;170","dur","0.6s","repeatCount","indefinite"],["x1","220","y1","240","x2","230","y2","265","stroke","#8b4513","stroke-width","3","stroke-linecap","round"],["attributeName","x2","values","230;235;230","dur","0.6s","repeatCount","indefinite","begin","0.3s"],[1,"sax-player"],["cx","350","cy","230","rx","22","ry","35","fill","#2c3e50"],["cx","350","cy","190","r","18","fill","#d4a574"],["d","M 360 210 Q 380 220 390 250 L 385 255 Q 375 225 365 215 Z","fill","#daa520"],["cx","390","cy","252","r","8","fill","#b8860b"],["cx","380","cy","235","r","3","fill","#000"],["cx","385","cy","242","r","3","fill","#000"],["x1","350","y1","215","x2","365","y2","225","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","350","y1","225","x2","380","y2","245","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"piano-player"],["x","440","y","250","width","80","height","50","fill","#1a1a1a","rx","5"],["x","445","y","255","width","70","height","35","fill","#f5f5f5"],["x","448","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","458","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","468","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","478","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","488","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","498","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","508","y","255","width","9","height","35","fill","none","stroke","#333","stroke-width","0.5"],["x","455","y","255","width","6","height","20","fill","#000"],["x","470","y","255","width","6","height","20","fill","#000"],["x","485","y","255","width","6","height","20","fill","#000"],["x","500","y","255","width","6","height","20","fill","#000"],["cx","480","cy","220","rx","20","ry","32","fill","#34495e"],["cx","480","cy","185","r","16","fill","#d4a574"],["x1","480","y1","205","x2","460","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","480","y1","205","x2","500","y2","260","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"bass-player"],["cx","600","cy","240","rx","25","ry","60","fill","#8b4513"],["cx","600","cy","240","rx","20","ry","55","fill","#a0522d"],["x","598","y","170","width","4","height","80","fill","#654321"],["cx","600","cy","170","rx","8","ry","5","fill","#654321"],["cx","570","cy","220","rx","18","ry","30","fill","#c0392b"],["cx","570","cy","185","r","14","fill","#d4a574"],["x1","570","y1","200","x2","590","y2","210","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],["x1","570","y1","210","x2","590","y2","250","stroke","#d4a574","stroke-width","4","stroke-linecap","round"],[1,"audience"],["x","660","y","240","width","50","height","60","fill","#654321","opacity","0.7"],["x","655","y","235","width","60","height","10","fill","#8b4513"],["cx","685","cy","255","rx","22","ry","28","fill","#5d4e37"],["cx","685","cy","220","r","18","fill","#d4a574"],["cx","710","cy","265","rx","8","ry","10","fill","#d2691e"],["cx","710","cy","262","rx","8","ry","3","fill","#8b4513"],["d","M 718 265 Q 725 265 725 270","stroke","#d2691e","stroke-width","2","fill","none"],["opacity","0.6"],["d","M 708 255 Q 706 245 708 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 708 255 Q 706 245 708 240;M 708 255 Q 710 245 708 240;M 708 255 Q 706 245 708 240","dur","2s","repeatCount","indefinite"],["d","M 712 255 Q 714 245 712 240","stroke","#fff","stroke-width","1.5","fill","none","stroke-linecap","round"],["attributeName","d","values","M 712 255 Q 714 245 712 240;M 712 255 Q 710 245 712 240;M 712 255 Q 714 245 712 240","dur","2s","repeatCount","indefinite","begin","0.3s"],["x1","685","y1","235","x2","705","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["x1","685","y1","240","x2","665","y2","265","stroke","#d4a574","stroke-width","5","stroke-linecap","round"],["opacity","0.7",1,"musical-notes"],["x","280","y","150","fill","#6fa4e3","font-size","24","font-weight","bold"],["x","420","y","130","fill","#6fa4e3","font-size","28","font-weight","bold"],["x","540","y","145","fill","#6fa4e3","font-size","26","font-weight","bold"],["attributeName","transform","type","translate","values","0 0; 0 -20; 0 0","dur","3s","repeatCount","indefinite"],[1,"message"],[1,"subtitle"],[1,"description"],[1,"button-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"404"),o(),i(4,"div",3),N(),i(5,"svg",4),p(6,"rect",5),i(7,"defs")(8,"radialGradient",6),p(9,"stop",7)(10,"stop",8),o(),i(11,"radialGradient",9),p(12,"stop",10)(13,"stop",11),o()(),p(14,"ellipse",12)(15,"ellipse",13),i(16,"g",14),p(17,"ellipse",15)(18,"ellipse",16)(19,"circle",17)(20,"circle",18)(21,"ellipse",19)(22,"circle",20),i(23,"line",21),p(24,"animate",22)(25,"animate",23),o(),i(26,"line",24),p(27,"animate",25)(28,"animate",26),o(),i(29,"line",27),p(30,"animate",28),o(),i(31,"line",29),p(32,"animate",30),o()(),i(33,"g",31),p(34,"ellipse",32)(35,"circle",33)(36,"path",34)(37,"circle",35)(38,"circle",36)(39,"circle",37)(40,"line",38)(41,"line",39),o(),i(42,"g",40),p(43,"rect",41)(44,"rect",42)(45,"rect",43)(46,"rect",44)(47,"rect",45)(48,"rect",46)(49,"rect",47)(50,"rect",48)(51,"rect",49)(52,"rect",50)(53,"rect",51)(54,"rect",52)(55,"rect",53)(56,"ellipse",54)(57,"circle",55)(58,"line",56)(59,"line",57),o(),i(60,"g",58),p(61,"ellipse",59)(62,"ellipse",60)(63,"rect",61)(64,"ellipse",62)(65,"ellipse",63)(66,"circle",64)(67,"line",65)(68,"line",66),o(),i(69,"g",67),p(70,"rect",68)(71,"rect",69)(72,"ellipse",70)(73,"circle",71)(74,"ellipse",72)(75,"ellipse",73)(76,"path",74),i(77,"g",75)(78,"path",76),p(79,"animate",77),o(),i(80,"path",78),p(81,"animate",79),o()(),p(82,"line",80)(83,"line",81),o(),i(84,"g",82)(85,"text",83),a(86,"\u266A"),o(),i(87,"text",84),a(88,"\u266B"),o(),i(89,"text",85),a(90,"\u266A"),o(),p(91,"animateTransform",86),o()()(),V(),i(92,"div",87)(93,"h2",88),a(94," Got lost? Have some coffee while"),p(95,"br"),a(96,"listening to some nice jazz with me. "),o(),i(97,"p",89),a(98," The page you're looking for doesn't exist, but at least the music is good! \u2615\u{1F3B7} "),o(),i(99,"div",90)(100,"button",91),g("click",function(){return n.goBack()}),a(101," Go Back "),o(),i(102,"button",92),g("click",function(){return n.goHome()}),a(103," Home Page "),o()()()()())},styles:[".not-found-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;padding:20px}.not-found-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;max-width:900px;width:100%}.not-found-container[_ngcontent-%COMP%]   .title-404[_ngcontent-%COMP%]{font-size:clamp(80px,15vw,180px);font-weight:800;margin:0;background:linear-gradient(135deg,#6fa4e3,#93c3f3);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-5px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:40px 0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   .jazz-svg[_ngcontent-%COMP%]{width:100%;max-width:700px;height:auto}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:40px;animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:clamp(24px,5vw,36px);color:#6fa4e3;font-weight:600;margin:0 0 15px;line-height:1.4}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#a5b3c7;font-size:clamp(14px,3vw,18px);margin-bottom:40px}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}.not-found-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:15px 40px;font-size:16px;font-weight:600;border:none;border-radius:50px;cursor:pointer;transition:all .3s ease;font-family:inherit}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(135deg,#6fa4e3,#93c3f3);box-shadow:0 8px 20px #6fa4e34d}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #6fa4e366}.not-found-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{color:#6fa4e3;background:transparent;border:2px solid #6fa4e3}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#6fa4e3;color:#fff}.not-found-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.not-found-container[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.not-found-container[_ngcontent-%COMP%]{padding:15px}.not-found-container[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{margin:30px 0}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:30px}.not-found-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:30px}}"]})};var lt=[{path:"",redirectTo:"/auth",pathMatch:"full"},{path:"auth",title:"User Authentication",component:Ce},{path:"all-rooms",title:"All Rooms",component:Ee,canActivate:[te]},{path:"home",title:"Home",component:Se,canActivate:[te]},{path:"admin",title:"Admin Panel",children:at,canActivate:[te]},{path:"**",redirectTo:"404"},{path:"404",title:"Page Not Found",component:De}];var st=(r,t)=>{let e=x(j),n=x(E),l=e.getAccessToken();return l?(r=r.clone({setHeaders:{Authorization:`Bearer ${l}`}}),console.log("\u2705 Authorization header added to request")):console.log("\u26A0\uFE0F No token found - request will be sent without auth"),t(r).pipe(Ae(d=>(d.status===401?(console.error("\u{1F6AB} 401 Unauthorized - Token invalid or expired"),e.logout(),n.navigate(["/auth"])):d.status===403&&console.error("\u{1F6AB} 403 Forbidden - Access denied"),He(()=>d))))};var dt={providers:[Ye({eventCoalescing:!0}),nt(lt),qe(Ze([st]))]};var Be=class r{title="MeetIn-frontend";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&p(0,"router-outlet")},dependencies:[Xe],encapsulation:2})};Qe(Be,dt).catch(r=>console.error(r));
